// Automatically generated file.  Do not edit!
var g;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function ba(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];if(b)return b.call(a);if("number"==typeof a.length)return{next:aa(a)};throw Error(String(a)+" is not an iterable or ArrayLike");}var ca="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
function da(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var ea=da(this);function fa(a,b){if(b)a:{var c=ea;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ca(c,a,{configurable:!0,writable:!0,value:b})}}
fa("Symbol",function(a){function b(f){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new c(d+(f||"")+"_"+e++,f)}function c(f,h){this.Wr=f;ca(this,"description",{configurable:!0,writable:!0,value:h})}if(a)return a;c.prototype.toString=function(){return this.Wr};var d="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",e=0;return b});
fa("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=ea[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&ca(d.prototype,a,{configurable:!0,writable:!0,value:function(){return ha(aa(this))}})}return a});function ha(a){a={next:a};a[Symbol.iterator]=function(){return this};return a}
function ia(a,b){a instanceof String&&(a+="");var c=0,d=!1,e={next:function(){if(!d&&c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}d=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e}fa("Array.prototype.keys",function(a){return a?a:function(){return ia(this,function(b){return b})}});fa("Object.is",function(a){return a?a:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}});
fa("Array.prototype.includes",function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var f=d[c];if(f===b||Object.is(f,b))return!0}return!1}});
fa("String.prototype.includes",function(a){return a?a:function(b,c){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==(this+"").indexOf(b,c||0)}});function ja(a,b){return Object.prototype.hasOwnProperty.call(a,b)}
fa("WeakMap",function(a){function b(m){this.ne=(l+=Math.random()+1).toString();if(m){m=ba(m);for(var n;!(n=m.next()).done;)n=n.value,this.set(n[0],n[1])}}function c(){}function d(m){var n=typeof m;return"object"===n&&null!==m||"function"===n}function e(m){if(!ja(m,h)){var n=new c;ca(m,h,{value:n})}}function f(m){var n=Object[m];n&&(Object[m]=function(q){if(q instanceof c)return q;Object.isExtensible(q)&&e(q);return n(q)})}if(function(){if(!a||!Object.seal)return!1;try{var m=Object.seal({}),n=Object.seal({}),
q=new a([[m,2],[n,3]]);if(2!=q.get(m)||3!=q.get(n))return!1;q.delete(m);q.set(n,4);return!q.has(m)&&4==q.get(n)}catch(t){return!1}}())return a;var h="$jscomp_hidden_"+Math.random();f("freeze");f("preventExtensions");f("seal");var l=0;b.prototype.set=function(m,n){if(!d(m))throw Error("Invalid WeakMap key");e(m);if(!ja(m,h))throw Error("WeakMap key fail: "+m);m[h][this.ne]=n;return this};b.prototype.get=function(m){return d(m)&&ja(m,h)?m[h][this.ne]:void 0};b.prototype.has=function(m){return d(m)&&
ja(m,h)&&ja(m[h],this.ne)};b.prototype.delete=function(m){return d(m)&&ja(m,h)&&ja(m[h],this.ne)?delete m[h][this.ne]:!1};return b});
fa("Map",function(a){function b(){var l={};return l.Ce=l.next=l.head=l}function c(l,m){var n=l[1];return ha(function(){if(n){for(;n.head!=l[1];)n=n.Ce;for(;n.next!=n.head;)return n=n.next,{done:!1,value:m(n)};n=null}return{done:!0,value:void 0}})}function d(l,m){var n=m&&typeof m;"object"==n||"function"==n?f.has(m)?n=f.get(m):(n=""+ ++h,f.set(m,n)):n="p_"+m;var q=l[0][n];if(q&&ja(l[0],n))for(l=0;l<q.length;l++){var t=q[l];if(m!==m&&t.key!==t.key||m===t.key)return{id:n,list:q,index:l,Qb:t}}return{id:n,
list:q,index:-1,Qb:void 0}}function e(l){this[0]={};this[1]=b();this.size=0;if(l){l=ba(l);for(var m;!(m=l.next()).done;)m=m.value,this.set(m[0],m[1])}}if(function(){if(!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var l=Object.seal({x:4}),m=new a(ba([[l,"s"]]));if("s"!=m.get(l)||1!=m.size||m.get({x:4})||m.set({x:4},"t")!=m||2!=m.size)return!1;var n=m.entries(),q=n.next();if(q.done||q.value[0]!=l||"s"!=q.value[1])return!1;q=n.next();return q.done||4!=q.value[0].x||
"t"!=q.value[1]||!n.next().done?!1:!0}catch(t){return!1}}())return a;var f=new WeakMap;e.prototype.set=function(l,m){l=0===l?0:l;var n=d(this,l);n.list||(n.list=this[0][n.id]=[]);n.Qb?n.Qb.value=m:(n.Qb={next:this[1],Ce:this[1].Ce,head:this[1],key:l,value:m},n.list.push(n.Qb),this[1].Ce.next=n.Qb,this[1].Ce=n.Qb,this.size++);return this};e.prototype.delete=function(l){l=d(this,l);return l.Qb&&l.list?(l.list.splice(l.index,1),l.list.length||delete this[0][l.id],l.Qb.Ce.next=l.Qb.next,l.Qb.next.Ce=
l.Qb.Ce,l.Qb.head=null,this.size--,!0):!1};e.prototype.clear=function(){this[0]={};this[1]=this[1].Ce=b();this.size=0};e.prototype.has=function(l){return!!d(this,l).Qb};e.prototype.get=function(l){return(l=d(this,l).Qb)&&l.value};e.prototype.entries=function(){return c(this,function(l){return[l.key,l.value]})};e.prototype.keys=function(){return c(this,function(l){return l.key})};e.prototype.values=function(){return c(this,function(l){return l.value})};e.prototype.forEach=function(l,m){for(var n=this.entries(),
q;!(q=n.next()).done;)q=q.value,l.call(m,q[1],q[0],this)};e.prototype[Symbol.iterator]=e.prototype.entries;var h=0;return e});fa("Array.prototype.fill",function(a){return a?a:function(b,c,d){var e=this.length||0;0>c&&(c=Math.max(0,e+c));if(null==d||d>e)d=e;d=Number(d);0>d&&(d=Math.max(0,e+d));for(c=Number(c||0);c<d;c++)this[c]=b;return this}});function ka(a){return a?a:Array.prototype.fill}fa("Int8Array.prototype.fill",ka);fa("Uint8Array.prototype.fill",ka);fa("Uint8ClampedArray.prototype.fill",ka);
fa("Int16Array.prototype.fill",ka);fa("Uint16Array.prototype.fill",ka);fa("Int32Array.prototype.fill",ka);fa("Uint32Array.prototype.fill",ka);fa("Float32Array.prototype.fill",ka);fa("Float64Array.prototype.fill",ka);
var la={},na;
var oa=[,2,1,4,3];
var pa=function(){return"object"===typeof self?self:"object"===typeof window?window:"object"===typeof global?global:this}();
var k={};pa.Blockly||(pa.Blockly={});pa.Blockly.Msg||(pa.Blockly.Msg=k);
function qa(a){a=String(a).toLowerCase().trim();var b=ra[a];if(b)return b;b="0x"==a.substring(0,2)?"#"+a.substring(2):a;b="#"==b[0]?b:"#"+b;if(/^#[0-9a-f]{6}$/.test(b))return b;if(/^#[0-9a-f]{3}$/.test(b))return["#",b[1],b[1],b[2],b[2],b[3],b[3]].join("");var c=a.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return c&&(a=Number(c[1]),b=Number(c[2]),c=Number(c[3]),0<=a&&256>a&&0<=b&&256>b&&0<=c&&256>c)?sa(a,b,c):null}
function sa(a,b,c){b=a<<16|b<<8|c;return 16>a?"#"+(16777216|b).toString(16).substr(1):"#"+b.toString(16)}function ta(a){a=qa(a);if(!a)return[0,0,0];a=parseInt(a.substr(1),16);return[a>>16,a>>8&255,a&255]}
function ua(a){var b=0,c=0,d=0,e=Math.floor(a/60),f=a/60-e;a=165.75*.55;var h=165.75*(1-.45*f);f=165.75*(1-.45*(1-f));switch(e){case 1:b=h;c=165.75;d=a;break;case 2:b=a;c=165.75;d=f;break;case 3:b=a;c=h;d=165.75;break;case 4:b=f;c=a;d=165.75;break;case 5:b=165.75;c=a;d=h;break;case 6:case 0:b=165.75,c=f,d=a}return sa(Math.floor(b),Math.floor(c),Math.floor(d))}
function va(a,b,c){a=qa(a);if(!a)return null;b=qa(b);if(!b)return null;a=ta(a);b=ta(b);return sa(Math.round(b[0]+c*(a[0]-b[0])),Math.round(b[1]+c*(a[1]-b[1])),Math.round(b[2]+c*(a[2]-b[2])))}var ra={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"};function p(a,b){this.x=a;this.y=b}function wa(a,b){return a==b?!0:a&&b?a.x==b.x&&a.y==b.y:!1}function xa(a,b){var c=a.x-b.x;a=a.y-b.y;return Math.sqrt(c*c+a*a)}function ya(a,b){return new p(a.x-b.x,a.y-b.y)}function za(a,b){return new p(a.x+b.x,a.y+b.y)}p.prototype.clone=function(){return new p(this.x,this.y)};p.prototype.scale=function(a){this.x*=a;this.y*=a;return this};p.prototype.translate=function(a,b){this.x+=a;this.y+=b;return this};function Aa(a,b,c,d){this.top=a;this.bottom=b;this.left=c;this.right=d}Aa.prototype.contains=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};function Ba(a){return a.length?a.reduce(function(b,c){return b.length<c.length?b:c}).length:0}function Ca(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;var c=0;b=b||Ba(a);for(var d=0;d<b;d++){for(var e=a[0][d],f=1;f<a.length;f++)if(e!=a[f][d])return c;" "==e&&(c=d+1)}for(f=1;f<a.length;f++)if((e=a[f][d])&&" "!=e)return c;return b}
function Da(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;var c=0;b=b||Ba(a);for(var d=0;d<b;d++){for(var e=a[0].substr(-d-1,1),f=1;f<a.length;f++)if(e!=a[f].substr(-d-1,1))return c;" "==e&&(c=d+1)}for(f=1;f<a.length;f++)if((e=a[f].charAt(a[f].length-d-1))&&" "!=e)return c;return b}
function Ea(a,b){a=a.split("\n");for(var c=0;c<a.length;c++){var d=c;var e=a[c],f=b;if(e.length<=f)var h=e;else{for(var l=e.trim().split(/\s+/),m=0;m<l.length;m++)l[m].length>f&&(f=l[m].length);m=-Infinity;var n=1;do{var q=m;h=e;e=[];var t=l.length/n,y=1;for(m=0;m<l.length-1;m++)y<(m+1.5)/t?(y++,e[m]=!0):e[m]=!1;e=Fa(l,e,f);m=Ga(l,e,f);t=l;y=[];for(var N=0;N<t.length;N++)y.push(t[N]),void 0!==e[N]&&y.push(e[N]?"\n":" ");e=y.join("");n++}while(m>q)}a[d]=h}return a.join("\n")}
function Ga(a,b,c){for(var d=[0],e=[],f=0;f<a.length;f++)d[d.length-1]+=a[f].length,!0===b[f]?(d.push(0),e.push(a[f].charAt(a[f].length-1))):!1===b[f]&&d[d.length-1]++;a=Math.max.apply(Math,d);for(f=b=0;f<d.length;f++)b-=2*Math.pow(Math.abs(c-d[f]),1.5),b-=Math.pow(a-d[f],1.5),-1!=".?!".indexOf(e[f])?b+=c/3:-1!=",;)]}".indexOf(e[f])&&(b+=c/4);1<d.length&&d[d.length-1]<=d[d.length-2]&&(b+=.5);return b}
function Fa(a,b,c){for(var d=Ga(a,b,c),e,f=0;f<b.length-1;f++)if(b[f]!=b[f+1]){var h=[].concat(b);h[f]=!h[f];h[f+1]=!h[f+1];var l=Ga(a,h,c);l>d&&(d=l,e=h)}return e?Fa(a,e,c):b};function Ha(a,b){this.width=a;this.height=b};function Ia(a){var b;(b=Ja(a,"display"))||(b=a.currentStyle?a.currentStyle.display:null);if("none"!=(b||a.style&&a.style.display))return new Ha(a.offsetWidth,a.offsetHeight);b=a.style;var c=b.display,d=b.visibility,e=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";var f=a.offsetWidth;a=a.offsetHeight;b.display=c;b.position=e;b.visibility=d;return new Ha(f,a)}
function Ja(a,b){return document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(a,null))?a[b]||a.getPropertyValue(b)||"":""}function Ka(a){var b=new p(0,0);a=a.getBoundingClientRect();var c=document.documentElement;c=new p(window.pageXOffset||c.scrollLeft,window.pageYOffset||c.scrollTop);b.x=a.left+c.x;b.y=a.top+c.y;return b}function La(){var a=document.body,b=document.documentElement;return new p(a.scrollLeft||b.scrollLeft,a.scrollTop||b.scrollTop)};var Ma,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za;
(function(a){function b(d){return-1!=c.indexOf(d.toUpperCase())}Za=a;var c=Za.toUpperCase();Ma=b("Trident")||b("MSIE");Oa=b("Edge");Pa=b("JavaFX");!b("Chrome")&&b("CriOS");Qa=b("WebKit")&&!Oa;Ra=b("Gecko")&&!Qa&&!Ma&&!Oa;Sa=b("Android");a=pa.navigator&&pa.navigator.maxTouchPoints;Ta=b("iPad")||b("Macintosh")&&0<a;Ua=b("iPod");Va=b("iPhone")&&!Ta&&!Ua;Wa=b("Macintosh");Xa=Ta||Sa&&!b("Mobile")||b("Silk");Ya=!Xa&&(Ua||Va||Sa||b("IEMobile"))})(pa.navigator&&pa.navigator.userAgent||"");function $a(a){a.preventDefault();a.stopPropagation()}function ab(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable||a.target.dataset&&"true"==a.target.dataset.mv}
function bb(a){var b=new p(0,0),c=a.getAttribute("x");c&&(b.x=parseInt(c,10));if(c=a.getAttribute("y"))b.y=parseInt(c,10);if(c=(c=a.getAttribute("transform"))&&c.match(cb))b.x+=Number(c[1]),c[3]&&(b.y+=Number(c[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&(a=a.match(db))&&(b.x+=Number(a[1]),a[3]&&(b.y+=Number(a[3])));return b}
function eb(a){for(var b=0,c=0;a;){var d=bb(a);b+=d.x;c+=d.y;if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new p(b,c)}var cb=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,db=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/;function fb(a){return a.ctrlKey&&Wa?!0:2==a.button}function hb(a,b,c){var d=b.createSVGPoint();d.x=a.clientX;d.y=a.clientY;c||(c=b.getScreenCTM().inverse());return d.matrixTransform(c)}
function ib(a){switch(a.deltaMode){default:return{x:a.deltaX,y:a.deltaY};case 1:return{x:40*a.deltaX,y:40*a.deltaY};case 2:return{x:125*a.deltaX,y:125*a.deltaY}}}function jb(a){if("string"!=typeof a)return a;a=kb(a,!1);return a.length?String(a[0]):""}function lb(a){for(var b=k,c=a.match(/%{BKY_[A-Z]\w*}/ig),d=0;d<c.length;d++)void 0==b[c[d].toUpperCase().slice(6,-1)]&&console.warn("No message string for "+c[d]+" in "+a)}
function kb(a,b){var c=[],d=a.split("");d.push("");var e=0;a=[];for(var f=null,h=0;h<d.length;h++){var l=d[h];0==e?"%"==l?((l=a.join(""))&&c.push(l),a.length=0,e=1):a.push(l):1==e?"%"==l?(a.push(l),e=0):b&&"0"<=l&&"9">=l?(e=2,f=l,(l=a.join(""))&&c.push(l),a.length=0):"{"==l?e=3:(a.push("%",l),e=0):2==e?"0"<=l&&"9">=l?f+=l:(c.push(parseInt(f,10)),h--,e=0):3==e&&(""==l?(a.splice(0,0,"%{"),h--,e=0):"}"!=l?a.push(l):(e=a.join(""),/[A-Z]\w*/i.test(e)?(l=e.toUpperCase(),(l=0==l.lastIndexOf("BKY_",0)?l.substring(4):
null)&&l in k?(e=k[l],"string"==typeof e?Array.prototype.push.apply(c,kb(e,b)):b?c.push(String(e)):c.push(e)):c.push("%{"+e+"}")):c.push("%{"+e+"}"),e=a.length=0))}(l=a.join(""))&&c.push(l);b=[];for(h=a.length=0;h<c.length;++h)"string"==typeof c[h]?a.push(c[h]):((l=a.join(""))&&b.push(l),a.length=0,b.push(c[h]));(l=a.join(""))&&b.push(l);a.length=0;return b}function mb(){for(var a=nb.length,b=[],c=0;20>c;c++)b[c]=nb.charAt(Math.random()*a);return b.join("")}var nb="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
function ob(){if(void 0!==pb)return pb;if(!pa.getComputedStyle)return!1;var a=document.createElement("p"),b="none",c={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var d in c)if(void 0!==a.style[d]){a.style[d]="translate3d(1px,1px,1px)";b=pa.getComputedStyle(a);if(!b)return document.body.removeChild(a),!1;b=b.getPropertyValue(c[d])}document.body.removeChild(a);return pb=
"none"!==b}var pb;function qb(a){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)a();else var b=setInterval(function(){"complete"==document.readyState&&(clearInterval(b),a())},10)}function rb(a,b){b=a.indexOf(b);if(-1==b)return!1;a.splice(b,1);return!0}
function sb(a,b){var c=Object.create(null),d=tb(a,!0);b&&(a=ub(a))&&(a=d.indexOf(a),d.splice(a,d.length-a));for(a=0;b=d[a];a++)c[b.type]?c[b.type]++:c[b.type]=1;return c}function vb(a){var b="string"==typeof a?jb(a):a,c=Number(b);if(!isNaN(c)&&0<=c&&360>=c)return{Dt:c,xi:ua(c)};if(c=qa(b))return{Dt:null,xi:c};c='Invalid colour: "'+b+'"';a!=b&&(c+=' (from "'+a+'")');throw Error(c);};var wb="ontouchstart"in pa||!!(pa.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!pa.navigator||!pa.navigator.maxTouchPoints&&!pa.navigator.msMaxTouchPoints),xb=null,yb={};
pa.PointerEvent?yb={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:wb&&(yb={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});var zb=0;
function Ab(a,b){Bb();a.changedTouches&&1!=a.changedTouches.length||(zb=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);b&&Cb(b,a)},750))}function Bb(){zb&&(clearTimeout(zb),zb=0)}function Db(a){return void 0!=a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!==a.changedTouches[0].identifier&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"}
function Eb(a){var b=Db(a);return void 0!==xb&&null!==xb?xb==b:"mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type?(xb=b,!0):!1}function Fb(a){return 0==a.type.lastIndexOf("touch",0)||0==a.type.lastIndexOf("mouse",0)||0==a.type.lastIndexOf("pointer",0)}function Gb(a){return 0==a.type.lastIndexOf("touch",0)||0==a.type.lastIndexOf("pointer",0)}
function Hb(a){var b=[];if(a.changedTouches)for(var c=0;c<a.changedTouches.length;c++)b[c]={type:a.type,changedTouches:[a.changedTouches[c]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else b.push(a);return b};function r(a,b,c,d,e,f){function h(y){var N=!e;y=Hb(y);for(var Na=0,ma;ma=y[Na];Na++)if(!N||!Fb(ma)||Eb(ma)){var gb=ma;if(0==gb.type.lastIndexOf("touch",0)){var Qe=gb.changedTouches[0];gb.clientX=Qe.clientX;gb.clientY=Qe.clientY}c?d.call(c,ma):d(ma);l=!0}}var l=!1,m=[];if(pa.PointerEvent&&b in yb)for(var n=0,q;q=yb[b][n];n++)a.addEventListener(q,h,!1),m.push([a,q,h]);else if(a.addEventListener(b,h,!1),m.push([a,b,h]),b in yb){var t=function(y){h(y);var N=!f;l&&N&&y.preventDefault()};for(n=0;q=yb[b][n];n++)a.addEventListener(q,
t,!1),m.push([a,q,t])}return m}function Ib(a,b,c,d){function e(n){c?d.call(c,n):d(n)}var f=[];if(pa.PointerEvent&&b in yb)for(var h=0,l;l=yb[b][h];h++)a.addEventListener(l,e,!1),f.push([a,l,e]);else if(a.addEventListener(b,e,!1),f.push([a,b,e]),b in yb){var m=function(n){if(n.changedTouches&&1==n.changedTouches.length){var q=n.changedTouches[0];n.clientX=q.clientX;n.clientY=q.clientY}e(n);n.preventDefault()};for(h=0;l=yb[b][h];h++)a.addEventListener(l,m,!1),f.push([a,l,m])}return f}
function u(a){for(;a.length;){var b=a.pop();b[0].removeEventListener(b[1],b[2],!1)}};
var Jb=Object.create(null);function Kb(a){this.we=a}Kb.prototype.toString=function(){return this.we};var Lb=new Kb("connectionChecker"),Mb=new Kb("cursor"),Nb=new Kb("event"),Ob=new Kb("field"),Pb=new Kb("renderer"),Qb=new Kb("toolbox"),Rb=new Kb("theme"),Sb=new Kb("toolboxItem"),Tb=new Kb("flyoutsVerticalToolbox"),Ub=new Kb("metricsManager"),Vb=new Kb("blockDragger");
function v(a,b,c){if(!(a instanceof Kb)&&"string"!=typeof a||""==String(a).trim())throw Error('Invalid type "'+a+'". The type must be a non-empty string or a Blockly.registry.Type.');a=String(a).toLowerCase();if("string"!=typeof b||""==b.trim())throw Error('Invalid name "'+b+'". The name must be a non-empty string.');b=b.toLowerCase();if(!c)throw Error("Can not register a null value");var d=Jb[a];d||(d=Jb[a]=Object.create(null));switch(a){case String(Ob):if("function"!=typeof c.M)throw Error('Type "'+
a+'" must have a fromJson function');}if(d[b])throw Error('Name "'+b+'" with type "'+a+'" already registered.');d[b]=c}function Wb(a,b,c){a=String(a).toLowerCase();b=b.toLowerCase();var d=Jb[a];if(!d||!d[b]){b="Unable to find ["+b+"]["+a+"] in the registry.";if(c)throw Error(b+" You must require or register a "+a+" plugin.");console.warn(b);return null}return d[b]}function Xb(a,b,c){b=b.plugins[a.toString()]||"default";return"function"==typeof b?b:Wb(a,b,c)};var Yb="",Zb=!0,w=0,$b=["create","move"],ac=[];function x(a){0==w&&(ac.length||setTimeout(bc,0),ac.push(a))}function bc(){for(var a=cc(ac,!0),b=ac.length=0,c;c=a[b];b++)if(c.Cb){var d=dc[c.Cb]||null;if(d){var e=c;if(e.zb)for(d.tg.push(e),d.Vi.length=0;d.tg.length>d.mp&&0<=d.mp;)d.tg.shift();for(var f=0;c=d.gb[f];f++)c(e)}}}
function cc(a,b){a=a.slice();b||a.reverse();for(var c=[],d=Object.create(null),e=0,f;f=a[e];e++)if(!f.Ok()){var h=[f.Pk?"ui":f.type,f.ea,f.Cb].join(" "),l=d[h],m=l?l.event:null;if(!l)d[h]={event:f,index:e},c.push(f);else if("move"==f.type&&l.index==e-1)m.gg=f.gg,m.fg=f.fg,m.mf=f.mf,l.index=e;else if("change"==f.type&&f.element==m.element&&f.name==m.name)m.newValue=f.newValue;else if("viewport_change"==f.type)m.$c=f.$c,m.Zc=f.Zc,m.scale=f.scale,m.Mi=f.Mi;else if("click"!=f.type||"bubble_open"!=m.type)d[h]=
{event:f,index:e},c.push(f)}a=c.filter(function(n){return!n.Ok()});b||a.reverse();for(e=1;f=a[e];e++)"change"==f.type&&"mutation"==f.element&&a.unshift(a.splice(e,1)[0]);return a}function z(a){Yb="boolean"==typeof a?a?mb():"":a}function ec(a){var b=[];a=tb(a,!1);for(var c=0,d;d=a[c];c++)b[c]=d.id;return b}function A(a){return Wb(Nb,a)}
function fc(a){if(("move"==a.type||"create"==a.type)&&a.Cb){var b=dc[a.Cb]||null,c=b.tc(a.ea);if(c){a=Zb;try{Zb=!1;var d=c.getParent();if(d&&d.isEnabled()){var e=tb(c,!1);b=0;for(var f;f=e[b];b++)f.Zb(!0)}else if((c.u||c.F)&&!b.Ra()){do c.Zb(!1),c=ub(c);while(c)}}finally{Zb=a}}}};function gc(a){this.xu=a}gc.prototype.toString=function(){return this.xu};var hc=new gc("animate"),ic=new gc("circle"),jc=new gc("clipPath"),kc=new gc("defs"),lc=new gc("feComposite"),mc=new gc("feGaussianBlur"),nc=new gc("fePointLight"),oc=new gc("feSpecularLighting"),pc=new gc("filter"),qc=new gc("foreignObject"),rc=new gc("g"),sc=new gc("image"),tc=new gc("line"),uc=new gc("path"),vc=new gc("pattern"),wc=new gc("polygon"),xc=new gc("rect"),yc=new gc("svg"),zc=new gc("text"),Ac=new gc("tspan");var Bc=null,Cc=0,Dc=null;function B(a,b,c){a=document.createElementNS("http://www.w3.org/2000/svg",String(a));for(var d in b)a.setAttribute(d,b[d]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);c&&c.appendChild(a);return a}function C(a,b){var c=a.getAttribute("class")||"";a.setAttribute("class",c+" "+b)}
function Ec(a,b){for(var c=(a.getAttribute("class")||"").split(/\s+/),d=0;d<c.length;d++)c[d]&&c[d]!=b||(c.splice(d,1),d--);c.length?a.setAttribute("class",c.join(" ")):a.removeAttribute("class")}function Fc(a,b){return-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" "+b+" ")}function D(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function Gc(a,b){var c=b.nextSibling;b=b.parentNode;if(!b)throw Error("Reference node has no parent.");c?b.insertBefore(a,c):b.appendChild(a)}
function Hc(a,b){a.style.transform=b;a.style["-webkit-transform"]=b}function Ic(){Cc++;Bc||(Bc=Object.create(null))}function Jc(){Cc--;Cc||(Bc=null)}function Kc(a,b,c,d){var e=a.textContent;a=e+"\n"+a.className.baseVal;var f;if(Bc&&(f=Bc[a]))return f;Dc||(f=document.createElement("canvas"),f.className="blocklyComputeCanvas",document.body.appendChild(f),Dc=f.getContext("2d"));Dc.font=c+" "+b+" "+d;f=Dc.measureText(e).width;Bc&&(Bc[a]=f);return f}
function Lc(a,b,c,d){var e=document.createElement("span");e.style.font=c+" "+b+" "+d;e.textContent=a;a=document.createElement("div");a.style.width="1px";a.style.height=0;b=document.createElement("div");b.style.display="flex";b.style.position="fixed";b.style.top=0;b.style.left=0;b.appendChild(e);b.appendChild(a);document.body.appendChild(b);try{c={},b.style.alignItems="baseline",c.Gc=a.offsetTop-e.offsetTop,b.style.alignItems="flex-end",c.height=a.offsetTop-e.offsetTop}finally{document.body.removeChild(b)}return c}
;

function Mc(a,b,c,d,e){this.g=a;b=void 0===b?!0:b;c=void 0===c?!0:c;var f=b&&c;b&&(this.wa=new Nc(a,!0,f,d,e));c&&(this.ma=new Nc(a,!1,f,d,e));f&&(this.di=B(xc,{height:Oc,width:Oc,"class":"blocklyScrollbarBackground"},null),Gc(this.di,a.qd));this.na=null}g=Mc.prototype;g.m=function(){D(this.di);this.na=this.g=this.di=null;this.wa&&(this.wa.m(),this.wa=null);this.ma&&(this.ma.m(),this.ma=null)};
g.resize=function(){var a=this.g.Rb();if(a){var b=!1,c=!1;this.na&&this.na.mb==a.mb&&this.na.lb==a.lb&&this.na.Mb==a.Mb&&this.na.Db==a.Db?(this.na&&this.na.scrollWidth==a.scrollWidth&&this.na.Zc==a.Zc&&this.na.scrollLeft==a.scrollLeft||(b=!0),this.na&&this.na.scrollHeight==a.scrollHeight&&this.na.$c==a.$c&&this.na.scrollTop==a.scrollTop||(c=!0)):c=b=!0;if(b||c){try{w++,this.wa&&b&&this.wa.resize(a),this.ma&&c&&this.ma.resize(a)}finally{w--}Pc(this.g)}this.wa&&this.ma&&(this.na&&this.na.mb==a.mb&&
this.na.Db==a.Db||this.di.setAttribute("x",this.ma.position.x),this.na&&this.na.lb==a.lb&&this.na.Mb==a.Mb||this.di.setAttribute("y",this.wa.position.y));this.na=a}};g.Al=function(a,b){this.wa&&this.wa.Al(a,b);this.ma&&this.ma.Al(a,b)};g.set=function(a,b,c){this.wa&&this.wa.set(a,!1);this.ma&&this.ma.set(b,!1);if(c||void 0===c)a={},this.wa&&(a.x=Qc(this.wa)),this.ma&&(a.y=Qc(this.ma)),this.g.dj(a)};g.ng=function(a){this.wa&&this.wa.ng(a);this.ma&&this.ma.ng(a)};
g.isVisible=function(){var a=!1;this.wa&&(a=this.wa.isVisible());this.ma&&(a=a||this.ma.isVisible());return a};
function Nc(a,b,c,d,e){this.g=a;this.rf=c||!1;this.Vf=b;this.ag=void 0!==e?e:.5;this.ratio=this.na=null;this.$d(d);this.position=new p(0,0);a=Oc;b?(this.Ab.setAttribute("height",a),this.Ld.setAttribute("height",a),this.Ac.setAttribute("height",a-5),this.Ac.setAttribute("y",2.5),this.Rk="width",this.dr="x"):(this.Ab.setAttribute("width",a),this.Ld.setAttribute("width",a),this.Ac.setAttribute("width",a-5),this.Ac.setAttribute("x",2.5),this.Rk="height",this.dr="y");this.Xq=r(this.Ab,"mousedown",this,
this.Vt);this.Yq=r(this.Ac,"mousedown",this,this.Wt)}var Rc,Sc;g=Nc.prototype;g.jo=new p(0,0);g.yr=0;g.Vc=0;g.af=0;g.wi=0;g.xc=!0;g.Of=!0;var Oc=15;wb&&(Oc=25);g=Nc.prototype;g.m=function(){Tc();u(this.Xq);this.Xq=null;u(this.Yq);this.Yq=null;D(this.Ld);this.Ab=this.s=this.Ld=null;this.Ac&&(this.g.$a.unsubscribe(this.Ac),this.Ac=null);this.g=null};function Uc(a,b){return b=0>=b||isNaN(b)?0:Math.min(b,a.Vc)}function Vc(a,b){a.af=b;a.Ac.setAttribute(a.Rk,a.af)}
function Wc(a,b){return b=0>=b||isNaN(b)?0:Math.min(b,a.Vc-a.af)}function Xc(a,b){a.wi=b;a.Ac.setAttribute(a.dr,a.wi)}function Yc(a,b){a.Vc=b;a.Ld.setAttribute(a.Rk,a.Vc);a.Ab.setAttribute(a.Rk,a.Vc)}g.setPosition=function(a,b){this.position.x=a;this.position.y=b;Hc(this.Ld,"translate("+(this.position.x+this.jo.x)+"px,"+(this.position.y+this.jo.y)+"px)")};
g.resize=function(a){if(!a&&(a=this.g.Rb(),!a))return;var b;if(!(b=!this.na)){b=a;var c=this.na;b=!(b.mb==c.mb&&b.lb==c.lb&&b.Zc==c.Zc&&b.$c==c.$c&&b.Mb==c.Mb&&b.Db==c.Db&&b.scrollWidth==c.scrollWidth&&b.scrollHeight==c.scrollHeight&&b.scrollLeft==c.scrollLeft&&b.scrollTop==c.scrollTop)}b&&(this.Vf?(b=a,Zc(this,b)?$c(this,b):ad(this,b)):(b=a,Zc(this,b)?bd(this,b):cd(this,b)),this.na=a,dd(this))};function Zc(a,b){return a.na?a.na.mb!==b.mb||a.na.lb!==b.lb||a.na.Db!==b.Db||a.na.Mb!==b.Mb:!0}
function $c(a,b){var c=b.mb-2*a.ag;a.rf&&(c-=Oc);Yc(a,Math.max(0,c));c=b.Db+a.ag;a.rf&&a.g.o&&(c+=Oc);a.setPosition(c,b.Mb+b.lb-Oc-a.ag);ad(a,b)}function ad(a,b){if(b.mb>=b.scrollWidth)Vc(a,a.Vc),Xc(a,0),a.rf||a.la(!1);else{a.rf||a.la(!0);var c=a.Vc*b.mb/b.scrollWidth;c=Uc(a,c);Vc(a,c);c=b.scrollWidth-b.mb;var d=a.Vc-a.af;b=(b.Zc-b.scrollLeft)/c*d;b=Wc(a,b);Xc(a,b);a.ratio=d/c}}
function bd(a,b){var c=b.lb-2*a.ag;a.rf&&(c-=Oc);Yc(a,Math.max(0,c));a.setPosition(a.g.o?b.Db+a.ag:b.Db+b.mb-Oc-a.ag,b.Mb+a.ag);cd(a,b)}function cd(a,b){if(b.lb>=b.scrollHeight)Vc(a,a.Vc),Xc(a,0),a.rf||a.la(!1);else{a.rf||a.la(!0);var c=a.Vc*b.lb/b.scrollHeight;c=Uc(a,c);Vc(a,c);c=b.scrollHeight-b.lb;var d=a.Vc-a.af;b=(b.$c-b.scrollTop)/c*d;b=Wc(a,b);Xc(a,b);a.ratio=d/c}}
g.$d=function(a){var b="blocklyScrollbar"+(this.Vf?"Horizontal":"Vertical");a&&(b+=" "+a);this.Ld=B(yc,{"class":b},null);this.s=B(rc,{},this.Ld);this.Ab=B(xc,{"class":"blocklyScrollbarBackground"},this.s);a=Math.floor((Oc-5)/2);this.Ac=B(xc,{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.s);this.g.$a.subscribe(this.Ac,"scrollbarColour","fill");this.g.$a.subscribe(this.Ac,"scrollbarOpacity","fill-opacity");Gc(this.Ld,E(this.g))};g.isVisible=function(){return this.xc};
g.ng=function(a){var b=a!=this.Of;this.Of=a;b&&this.vj()};g.la=function(a){var b=a!=this.isVisible();if(this.rf)throw Error("Unable to toggle visibility of paired scrollbars.");this.xc=a;b&&this.vj()};g.vj=function(){this.Of&&this.isVisible()?this.Ld.setAttribute("display","block"):this.Ld.setAttribute("display","none")};
g.Vt=function(a){ed(this.g);xb=null;Tc();if(fb(a))a.stopPropagation();else{var b=hb(a,E(this.g),fd(this.g));b=this.Vf?b.x:b.y;var c=eb(this.Ac);c=this.Vf?c.x:c.y;var d=this.wi,e=.95*this.af;b<=c?d-=e:b>=c+this.af&&(d+=e);Xc(this,Wc(this,d));dd(this);a.stopPropagation();a.preventDefault()}};
g.Wt=function(a){ed(this.g);Tc();fb(a)?a.stopPropagation():(this.su=this.wi,gd(this.g),this.yr=this.Vf?a.clientX:a.clientY,Rc=r(document,"mouseup",this,this.au),Sc=r(document,"mousemove",this,this.Zt),a.stopPropagation(),a.preventDefault())};g.Zt=function(a){Xc(this,Wc(this,this.su+((this.Vf?a.clientX:a.clientY)-this.yr)));dd(this)};g.au=function(){hd(this.g);xb=null;Tc()};function Tc(){id(!0);Rc&&(u(Rc),Rc=null);Sc&&(u(Sc),Sc=null)}function Qc(a){a=a.wi/(a.Vc-a.af);isNaN(a)&&(a=0);return a}
function dd(a){var b=Qc(a),c={};a.Vf?c.x=b:c.y=b;a.g.dj(c)}g.set=function(a,b){Xc(this,Wc(this,a*this.ratio));(b||void 0===b)&&dd(this)};g.Al=function(a,b){this.jo=new p(a,b)};function jd(a,b,c){if(c<a){var d=c;c=a;a=d}return Math.max(a,Math.min(b,c))};
function kd(){this.Id=null;this.Cb=void 0;this.group=Yb;this.zb=Zb}g=kd.prototype;g.Pk=!1;g.R=function(){var a={type:this.type};this.group&&(a.group=this.group);return a};g.M=function(a){this.Id=!1;this.group=a.group};g.Ok=function(){return!1};g.run=function(){};function ld(a){if(a.Cb)var b=dc[a.Cb]||null;if(!b)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return b};function F(a,b){a.j=b.prototype;a.prototype=Object.create(b.prototype);a.prototype.constructor=a}function md(a,b){for(var c in b)a[c]=b[c]}function nd(a){return Object.values?Object.values(a):Object.keys(a).map(function(b){return a[b]})};function G(a){return document.createElementNS("https://developers.google.com/blockly/xml",a)};function od(a,b){if(a.Gb()&&(a=pd(a,!1)[0],!a))return new DocumentFragment;var c;a.h.o&&(c=a.h.me());b=qd(a,b);var d=a.ba();b.setAttribute("x",Math.round(a.h.o?c-d.x:d.x));b.setAttribute("y",Math.round(d.y));return b}
function qd(a,b){if(a.Gb())return(a=pd(a,!1)[0])?qd(a):new DocumentFragment;var c=G(a.V?"shadow":"block");c.setAttribute("type",a.type);b||c.setAttribute("id",a.id);if(a.qa){var d=a.qa();d&&(d.hasChildNodes()||d.hasAttributes())&&c.appendChild(d)}d=0;for(var e;e=a.A[d];d++)for(var f=0,h;h=e.aa[f];f++){var l=!1;h.name&&(h.Lf?l=!0:h.Ij&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),
l=!0));l?(l=G("field"),l.setAttribute("name",h.name||""),h=h.Gr(l)):h=null;h&&c.appendChild(h)}if(d=a.mc.text)e=a.mc.size,f=a.mc.to,h=G("comment"),h.appendChild(document.createTextNode(d)),h.setAttribute("pinned",f),h.setAttribute("h",e.height),h.setAttribute("w",e.width),c.appendChild(h);a.data&&(d=G("data"),d.appendChild(document.createTextNode(a.data)),c.appendChild(d));for(d=0;e=a.A[d];d++){var m;f=!0;5!=e.type&&(l=e.connection.G(),1==e.type?m=G("value"):3==e.type&&(m=G("statement")),h=e.connection.$g(),
!h||l&&l.V||m.appendChild(rd(h,b)),l&&(h=qd(l,b),h.nodeType==Node.ELEMENT_NODE&&(m.appendChild(h),f=!1)),m.setAttribute("name",e.name),f||c.appendChild(m))}void 0!=a.pe&&a.pe!=a.Et&&c.setAttribute("inline",a.pe);a.isCollapsed()&&c.setAttribute("collapsed",!0);a.isEnabled()||c.setAttribute("disabled",!0);a.Pc()||a.V||c.setAttribute("deletable",!1);a.fb()||a.V||c.setAttribute("movable",!1);a.Vb()||c.setAttribute("editable",!1);if(d=ub(a))h=qd(d,b),h.nodeType==Node.ELEMENT_NODE&&(m=G("next"),m.appendChild(h),
c.appendChild(m));h=a.B&&a.B.$g();!h||d&&d.V||m.appendChild(rd(h,b));return c}function rd(a,b){for(var c=a=a.cloneNode(!0),d;c;)if(b&&"shadow"==c.nodeName&&c.removeAttribute("id"),c.firstChild)c=c.firstChild;else{for(;c&&!c.nextSibling;)d=c,c=c.parentNode,d.nodeType==Node.TEXT_NODE&&""==d.data.trim()&&c.firstChild!=d&&D(d);c&&(d=c,c=c.nextSibling,d.nodeType==Node.TEXT_NODE&&""==d.data.trim()&&D(d))}return a}
function sd(a){return(new XMLSerializer).serializeToString(a).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")}function td(a){var b=(new DOMParser).parseFromString(a,"text/xml");if(!b||!b.documentElement||b.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+a);return b.documentElement}
function ud(a,b){var c;b.o&&(c=b.me());var d=[];Ic();var e=Yb;e||z(!0);b.Ib&&b.Ib(!1);var f=!0;try{for(var h=0,l;l=a.childNodes[h];h++){var m=l.nodeName.toLowerCase(),n=l;if("block"==m||"shadow"==m&&!Zb){var q=vd(n,b);d.push(q.id);var t=n.hasAttribute("x")?parseInt(n.getAttribute("x"),10):10,y=n.hasAttribute("y")?parseInt(n.getAttribute("y"),10):10;isNaN(t)||isNaN(y)||q.moveBy(b.o?c-t:t,y);f=!1}else{if("shadow"==m)throw TypeError("Shadow block cannot be a top-level block.");if("variables"==m){if(f)for(var N=
void 0,Na=b,ma=0;N=n.childNodes[ma];ma++){if(N.nodeType==Node.ELEMENT_NODE){var gb=N.getAttribute("type"),Qe=N.getAttribute("id");Na.cd(N.textContent,gb,Qe)}}else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");f=!1}}}}finally{e||z(!1),Jc()}b.Ib&&b.Ib(!0);x(new (A("finished_loading"))(b))}
function vd(a,b){if(a instanceof wd){var c=a;a=b;b=c;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}w++;c=b.Qf();try{var d=xd(a,b),e=tb(d,!1);if(b.I){yd(d,!1);for(var f=e.length-1;0<=f;f--)e[f].ld();for(f=e.length-1;0<=f;f--)e[f].O(!1);setTimeout(function(){d.Kc||yd(d,!0)},1);zd(d);Ad(b)}else for(f=e.length-1;0<=f;f--)e[f].Wf()}finally{w--}if(0==w){a=Bd(b,c);for(f=0;f<a.length;f++)b=a[f],x(new (A("var_create"))(b));x(new (A("create"))(d))}return d}
function Cd(a,b){for(var c=0,d;d=a[c];c++){var e=d.textContent,f="true"==d.getAttribute("pinned"),h=parseInt(d.getAttribute("w"),10);d=parseInt(d.getAttribute("h"),10);b.Af(e);b.mc.to=f;isNaN(h)||isNaN(d)||(b.mc.size=new Ha(h,d));f&&b.qt&&!b.Ia&&setTimeout(function(){b.Ic.la(!0)},1)}}function Dd(a){for(var b={Vh:null,Wh:null},c=0,d;d=a.childNodes[c];c++)d.nodeType==Node.ELEMENT_NODE&&("block"==d.nodeName.toLowerCase()?b.Vh=d:"shadow"==d.nodeName.toLowerCase()&&(b.Wh=d));return b}
function xd(a,b,c,d){var e=a.getAttribute("type");if(!e)throw TypeError("Block type unspecified: "+a.outerHTML);var f=a.getAttribute("id");f=b.lf(e,f);for(var h=[],l=[],m=[],n=[],q=[],t=[],y=0,N;N=a.childNodes[y];y++)if(N.nodeType!=Node.TEXT_NODE)switch(N.nodeName.toLowerCase()){case "mutation":h.push(N);break;case "comment":if(!Ed){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}l.push(N);break;case "data":m.push(N);break;case "title":case "field":n.push(N);break;
case "value":case "statement":q.push(N);break;case "next":t.push(N);break;default:console.warn("Ignoring unknown tag: "+N.nodeName)}y=!1;N=0;for(var Na;Na=h[N];N++)f.Na&&(f.Na(Na),f.ld&&(y=!0));h=y;Cd(l,f);for(l=0;y=m[l];l++)f.data=y.textContent;if(c)if(d)if(f.F)c.connect(f.F);else throw TypeError("Next block does not have previous statement.");else if(f.u)c.connect(f.u);else if(f.F)c.connect(f.F);else throw TypeError("Child block does not have output or previous statement.");for(c=0;l=n[c];c++)m=
l.getAttribute("name"),d=f,(y=Fd(d,m))?y.Bk(l):console.warn("Ignoring non-existent field "+m+" in block "+d.type);for(n=0;d=q[n];n++){m=d.getAttribute("name");c=H(f,m);if(!c){console.warn("Ignoring non-existent input "+m+" in block "+e);break}d=Dd(d);if(d.Vh){if(!c.connection)throw TypeError("Input connection does not exist.");xd(d.Vh,b,c.connection,!1)}d.Wh&&c.connection.gj(d.Wh)}for(e=0;q=t[e];e++){q=Dd(q);if(q.Vh){if(!f.B)throw TypeError("Next statement does not exist.");if(f.B.isConnected())throw TypeError("Next statement is already connected.");
xd(q.Vh,b,f.B,!0)}q.Wh&&f.B&&f.B.gj(q.Wh)}h&&f.ld();(b=a.getAttribute("inline"))&&f.Wc("true"==b);(b=a.getAttribute("disabled"))&&f.Zb("true"!=b&&"disabled"!=b);if(b=a.getAttribute("deletable"))f.vm="true"==b;(b=a.getAttribute("movable"))&&f.zl("true"==b);(b=a.getAttribute("editable"))&&f.Ho("true"==b);(b=a.getAttribute("collapsed"))&&f.zf("true"==b);if("shadow"==a.nodeName.toLowerCase()){a=pd(f,!1);for(b=0;t=a[b];b++)if(!t.V)throw TypeError("Shadow block not allowed non-shadow child.");if(f.ke().length)throw TypeError("Shadow blocks cannot have variable references.");
f.Ko(!0)}return f};function Gd(a){Gd.j.constructor.call(this);this.ea=(this.Id="undefined"==typeof a)?"":a.id;this.Cb=this.Id?"":a.h.id}F(Gd,kd);Gd.prototype.R=function(){var a=Gd.j.R.call(this);a.blockId=this.ea;return a};Gd.prototype.M=function(a){Gd.j.M.call(this,a);this.ea=a.blockId};function Hd(a,b,c,d,e){Hd.j.constructor.call(this,a);a&&(this.element="undefined"==typeof b?"":b,this.name="undefined"==typeof c?"":c,this.oldValue="undefined"==typeof d?"":d,this.newValue="undefined"==typeof e?"":e)}F(Hd,Gd);g=Hd.prototype;
g.type="change";g.R=function(){var a=Hd.j.R.call(this);a.element=this.element;this.name&&(a.name=this.name);a.oldValue=this.oldValue;a.newValue=this.newValue;return a};g.M=function(a){Hd.j.M.call(this,a);this.element=a.element;this.name=a.name;this.oldValue=a.oldValue;this.newValue=a.newValue};g.Ok=function(){return this.oldValue==this.newValue};
g.run=function(a){var b=ld(this).tc(this.ea);if(b)switch(b.yb&&b.yb.la(!1),a=a?this.newValue:this.oldValue,this.element){case "field":(b=Fd(b,this.name))?b.Ja(a):console.warn("Can't set non-existent field: "+this.name);break;case "comment":b.Af(a||null);break;case "collapsed":b.zf(!!a);break;case "disabled":b.Zb(!a);break;case "inline":b.Wc(!!a);break;case "mutation":var c="";b.qa&&(c=(c=b.qa())&&sd(c));if(b.Na){var d=td(a||"<mutation/>");b.Na(d)}x(new Hd(b,"mutation",null,c,a));break;default:console.warn("Unknown change type: "+
this.element)}else console.warn("Can't change non-existent block: "+this.ea)};function Id(a){Id.j.constructor.call(this,a);a&&(a.V&&(this.zb=!1),this.xml=a.h.I?od(a):qd(a),this.ff=ec(a))}F(Id,Gd);Id.prototype.type="create";Id.prototype.R=function(){var a=Id.j.R.call(this);a.xml=sd(this.xml);a.ids=this.ff;this.zb||(a.recordUndo=this.zb);return a};Id.prototype.M=function(a){Id.j.M.call(this,a);this.xml=td(a.xml);this.ff=a.ids;void 0!==a.recordUndo&&(this.zb=a.recordUndo)};
Id.prototype.run=function(a){var b=ld(this);if(a)a=G("xml"),a.appendChild(this.xml),ud(a,b);else{a=0;for(var c;c=this.ff[a];a++){var d=b.tc(c);d?d.m(!1):c==this.ea&&console.warn("Can't uncreate non-existent block: "+c)}}};function Jd(a){Jd.j.constructor.call(this,a);if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");a.V&&(this.zb=!1);this.mh=a.h.I?od(a):qd(a);this.ff=ec(a)}}F(Jd,Gd);Jd.prototype.type="delete";
Jd.prototype.R=function(){var a=Jd.j.R.call(this);a.oldXml=sd(this.mh);a.ids=this.ff;this.zb||(a.recordUndo=this.zb);return a};Jd.prototype.M=function(a){Jd.j.M.call(this,a);this.mh=td(a.oldXml);this.ff=a.ids;void 0!==a.recordUndo&&(this.zb=a.recordUndo)};Jd.prototype.run=function(a){var b=ld(this);if(a){a=0;for(var c;c=this.ff[a];a++){var d=b.tc(c);d?d.m(!1):c==this.ea&&console.warn("Can't delete non-existent block: "+c)}}else a=G("xml"),a.appendChild(this.mh),ud(a,b)};
function Kd(a){Kd.j.constructor.call(this,a);a&&(a.V&&(this.zb=!1),a=Ld(this),this.Sq=a.Zq,this.Oq=a.oq,this.Pn=a.Jp)}F(Kd,Gd);g=Kd.prototype;g.type="move";g.R=function(){var a=Kd.j.R.call(this);this.gg&&(a.newParentId=this.gg);this.fg&&(a.newInputName=this.fg);this.mf&&(a.newCoordinate=Math.round(this.mf.x)+","+Math.round(this.mf.y));this.zb||(a.recordUndo=this.zb);return a};
g.M=function(a){Kd.j.M.call(this,a);this.gg=a.newParentId;this.fg=a.newInputName;if(a.newCoordinate){var b=a.newCoordinate.split(",");this.mf=new p(Number(b[0]),Number(b[1]))}void 0!==a.recordUndo&&(this.zb=a.recordUndo)};function Md(a){var b=Ld(a);a.gg=b.Zq;a.fg=b.oq;a.mf=b.Jp}function Ld(a){var b=ld(a).tc(a.ea);a={};var c=b.getParent();if(c){if(a.Zq=c.id,b=Nd(c,b))a.oq=b.name}else a.Jp=b.ba();return a}g.Ok=function(){return this.Sq==this.gg&&this.Oq==this.fg&&wa(this.Pn,this.mf)};
g.run=function(a){var b=ld(this),c=b.tc(this.ea);if(c){var d=a?this.gg:this.Sq,e=a?this.fg:this.Oq,f=a?this.mf:this.Pn;a=null;if(d&&(a=b.tc(d),!a)){console.warn("Can't connect to non-existent block: "+d);return}c.getParent()&&Od(c);if(f)e=c.ba(),c.moveBy(f.x-e.x,f.y-e.y);else{c=c.u||c.F;b=c.type;if(e){if(a=H(a,e))var h=a.connection}else 4==b&&(h=a.B);h?c.connect(h):console.warn("Can't connect to non-existent input: "+e)}}else console.warn("Can't move non-existent block: "+this.ea)};
v(Nb,"create",Id);v(Nb,"delete",Jd);v(Nb,"change",Hd);v(Nb,"move",Kd);function Pd(a,b){this.l=a;this.type=b}g=Pd.prototype;g.K=null;g.Kc=!1;g.Qg=null;g.Cl=null;g.x=0;g.y=0;g.ik=function(a){var b=this.C(),c=a.C();a.isConnected()&&a.disconnect();if(this.isConnected()){var d=this.$g(!0);this.Cl=null;var e=this.G();if(e.V)e.m(!1);else{this.disconnect();var f=e}this.Cl=d}var h;0==w&&(h=new (A("move"))(c));if(!this||!a)throw Error("Cannot connect null connections.");this.K=a;a.K=this;c.Bl(b);h&&(Md(h),x(h));f&&(a=1===this.type?f.u:f.F,(c=Qd(c,a))?a.connect(c):a.Vn(this))};
g.m=function(){if(this.isConnected()){this.gj(null);var a=this.G();a&&Od(a)}this.Kc=!0};g.C=function(){return this.l};function Rd(a){return 1==a.type||3==a.type}g.isConnected=function(){return!!this.K};g.Vn=function(){};g.connect=function(a){if(this.K!=a&&0==Sd(this,a,!1)){var b=Yb;b||z(!0);Rd(this)?this.ik(a):a.ik(this);b||z(!1)}};function Td(a,b){var c=null;b=b.u;for(var d=0,e;e=a.A[d];d++)if((e=e.connection)&&0==Sd(b,e,!1)){if(c)return null;c=e}return c}
function Qd(a,b){if(2===b.type){a:{b=b.C();for(var c;c=Td(a,b);)if(a=c.G(),!a||a.V){b=c;break a}b=null}return b}return(a=a.Qk(!0))&&0==Sd(b,a,!1)?a:null}g.disconnect=function(){var a=this.K;if(!a)throw Error("Source connection not connected.");if(a.K!=this)throw Error("Target connection not connected to source connection.");if(Rd(this)){var b=this.l;var c=a.C();a=this}else b=a.C(),c=this.l;var d=Yb;d||z(!0);this.ym(b,c);c.V||a.$i();d||z(!1)};
g.ym=function(a,b){var c;0==w&&(c=new (A("move"))(b));this.K=this.K.K=null;b.Bl(null);c&&(Md(c),x(c))};g.$i=function(){var a=this.C(),b=this.$g();if(a.h&&b)if(a=vd(b,a.h),a.u)this.connect(a.u);else if(a.F)this.connect(a.F);else throw Error("Child block does not have output or previous statement.");};g.G=function(){return this.isConnected()?this.K.C():null};g.Vq=function(){!this.isConnected()||this.K&&0==Sd(this,this.K,!1)||Od(Rd(this)?this.G():this.l)};
g.qb=function(a){a?(Array.isArray(a)||(a=[a]),this.Qg=a,this.Vq()):this.Qg=null;return this};g.gj=function(a){this.Cl=a;a=this.G();a?a.V&&(a.m(!1),this.$i()):this.$i()};g.$g=function(a){return a&&this.G().V?qd(this.G()):this.Cl};g.Jq=function(){return[]};g.Fd=function(){for(var a=null,b=this.l.A,c=0;c<b.length;c++)if(b[c].connection===this){a=b[c];break}return a};function Sd(a,b,c,d){if(a&&b){if(Rd(a)){var e=a.C();var f=b.C()}else f=a.C(),e=b.C();e=e==f?1:b.type!=oa[a.type]?2:e.h!==f.h?5:e.V&&!f.V?6:0}else e=3;return 0!=e?e:Ud(a,b)?c&&!Vd(a,b,d||0)?7:0:4}function Ud(a,b){a=a.Qg;b=b.Qg;if(!a||!b)return!0;for(var c=0;c<a.length;c++)if(-1!=b.indexOf(a[c]))return!0;return!1}
function Vd(a,b,c){if(Wd(a,b)>c||b.C().Gb())return!1;switch(b.type){case 4:return a.K||-1!=Xd.indexOf(b)?a=!1:b.K?(a=b.G(),a=a.Gb()?!(a.F&&a.F.G()):!1):a=!0,a;case 2:if(b.isConnected()&&!b.G().Gb()||a.isConnected())return!1;break;case 1:if(b.isConnected()&&!b.G().fb()&&!b.G().V)return!1;break;case 3:if(b.isConnected()&&!a.C().B&&!b.G().V&&b.G().B)return!1;break;default:return!1}return-1!=Xd.indexOf(b)?!1:!0}v(Lb,"default",function(){});function Yd(){this.name="classic";v(Rb,"classic",this)}Yd.prototype.gd=function(){return this.name+"-theme"};var Zd={};Zd=new Yd;function $d(a){if(!a)return null;if(a instanceof Element||"string"==typeof a){if(a){if("string"!=typeof a&&(Ma&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=td(a),"xml"!=a.nodeName.toLowerCase()))throw TypeError("Toolbox should be an <xml> document.");}else a=null;var b={contents:ae(a)};a instanceof Node&&be(a,b);a=b}b=a.kind;var c=a.contents;if(b&&"flyoutToolbox"!=b&&"categoryToolbox"!=b)throw Error("Invalid toolbox kind "+b+". Please supply either flyoutToolbox or categoryToolbox");
if(!c)throw Error("Toolbox must have a contents attribute.");return a}function ce(a){return a?a.contents?a.contents:Array.isArray(a)&&0<a.length&&!a[0].nodeType?a:ae(a):[]}function de(a){if(!a)return!1;var b=a.kind;return b?"categoryToolbox"==b:!!a.contents.filter(function(c){return"CATEGORY"==c.kind.toUpperCase()}).length}
function ae(a){var b=[],c=a.childNodes;c||(c=a);a=0;for(var d;d=c[a];a++)if(d.tagName){var e={},f=d.tagName.toUpperCase();e.kind=f;"BLOCK"==f?e.blockxml=d:d.childNodes&&0<d.childNodes.length&&(e.contents=ae(d));be(d,e);b.push(e)}return b}function be(a,b){for(var c=0;c<a.attributes.length;c++){var d=a.attributes[c];-1<d.nodeName.indexOf("css-")?(b.cssconfig=b.cssconfig||{},b.cssconfig[d.nodeName.replace("css-","")]=d.value):b[d.nodeName]=d.value}};function ee(a){var b=!!a.readOnly;if(b)var c=null,d=!1,e=!1,f=!1,h=!1,l=!1,m=!1;else{c=$d(a.toolbox);d=de(c);e=a.trashcan;void 0===e&&(e=d);var n=a.maxTrashcanContents;e?void 0===n&&(n=32):n=0;f=a.collapse;void 0===f&&(f=d);h=a.comments;void 0===h&&(h=d);l=a.disable;void 0===l&&(l=d);m=a.sounds;void 0===m&&(m=!0)}var q=!!a.rtl;var t="end"!==a.toolboxPosition==q?3:2;var y=a.css;void 0===y&&(y=!0);var N="https://blockly-demo.appspot.com/static/media/";a.media?N=a.media:a.path&&(N=a.path+"media/");var Na=
void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex,ma=a.renderer||"geras",gb=a.plugins||{};this.o=q;this.ye=Na;this.collapse=f;this.Yh=h;this.disable=l;this.readOnly=b;this.Hn=a.maxBlocks||Infinity;this.Uk=a.maxInstances;this.tf=N;this.fq=d;b=a.move||{};f={};void 0===b.scrollbars&&void 0===a.scrollbars?f.scrollbars=d:"object"==typeof b.scrollbars?(f.scrollbars={},f.scrollbars.yi=!!b.scrollbars.horizontal,f.scrollbars.vertical=!!b.scrollbars.vertical,f.scrollbars.yi&&f.scrollbars.vertical?f.scrollbars=
!0:f.scrollbars.yi||f.scrollbars.vertical||(f.scrollbars=!1)):f.scrollbars=!!b.scrollbars||!!a.scrollbars;f.Ch=f.scrollbars&&void 0!==b.wheel?!!b.wheel:"object"==typeof f.scrollbars;f.ge=f.scrollbars?void 0===b.drag?!0:!!b.drag:!1;this.Hb=f;this.iq=e;this.Vk=n;this.Ct=m;this.At=y;this.Kd=c;c=a.grid||{};d={};d.spacing=Number(c.spacing)||0;d.fk=c.colour||"#888";d.length=void 0===c.length?1:Number(c.length);d.tv=0<d.spacing&&!!c.snap;this.eq=d;c=a.zoom||{};d={};d.controls=void 0===c.controls?!1:!!c.controls;
d.Ch=void 0===c.wheel?!1:!!c.wheel;d.zr=void 0===c.startScale?1:Number(c.startScale);d.Ii=void 0===c.maxScale?3:Number(c.maxScale);d.Ki=void 0===c.minScale?.3:Number(c.minScale);d.rr=void 0===c.scaleSpeed?1.2:Number(c.scaleSpeed);d.cr=void 0===c.pinch?d.Ch||d.controls:!!c.pinch;this.Fa=d;this.ab=t;this.Yi=ma;this.Zi=a.rendererOverrides;this.dn=null;this.Sa=a.parentWorkspace;this.plugins=gb};function fe(a){fe.j.constructor.call(this);this.Hf=(this.Id="undefined"==typeof a)?"":a.S();this.Cb=this.Id?"":a.h.id}F(fe,kd);fe.prototype.R=function(){var a=fe.j.R.call(this);a.varId=this.Hf;return a};fe.prototype.M=function(a){fe.j.R.call(this);this.Hf=a.varId};function ge(a){ge.j.constructor.call(this,a);a&&(this.wg=a.type,this.vg=a.name)}F(ge,fe);ge.prototype.type="var_create";ge.prototype.R=function(){var a=ge.j.R.call(this);a.varType=this.wg;a.varName=this.vg;return a};
ge.prototype.M=function(a){ge.j.M.call(this,a);this.wg=a.varType;this.vg=a.varName};ge.prototype.run=function(a){var b=ld(this);a?b.cd(this.vg,this.wg,this.Hf):b.fe(this.Hf)};function he(a){he.j.constructor.call(this,a);a&&(this.wg=a.type,this.vg=a.name)}F(he,fe);he.prototype.type="var_delete";he.prototype.R=function(){var a=he.j.R.call(this);a.varType=this.wg;a.varName=this.vg;return a};he.prototype.M=function(a){he.j.M.call(this,a);this.wg=a.varType;this.vg=a.varName};
he.prototype.run=function(a){var b=ld(this);a?b.fe(this.Hf):b.cd(this.vg,this.wg,this.Hf)};function ie(a,b){ie.j.constructor.call(this,a);a&&(this.Qn=a.name,this.Nn="undefined"==typeof b?"":b)}F(ie,fe);ie.prototype.type="var_rename";ie.prototype.R=function(){var a=ie.j.R.call(this);a.oldName=this.Qn;a.newName=this.Nn;return a};ie.prototype.M=function(a){ie.j.M.call(this,a);this.Qn=a.oldName;this.Nn=a.newName};ie.prototype.run=function(a){var b=ld(this);a?b.xf(this.Hf,this.Nn):b.xf(this.Hf,this.Qn)};
v(Nb,"var_create",ge);v(Nb,"var_delete",he);v(Nb,"var_rename",ie);
function je(a){this.W=Object.create(null);this.h=a}g=je.prototype;g.clear=function(){this.W=Object.create(null)};g.xf=function(a,b){var c=this.kd(a);if(!c)throw Error("Tried to rename a variable that didn't exist. ID: "+a);a=this.Nc(b,c.type);var d=ke(this.h,!1);z(!0);try{if(a&&a.S()!=c.S()){var e=c.type;b!=a.name&&le(a,b,d);for(b=0;b<d.length;b++)d[b].ul(c.S(),a.S());x(new (A("var_delete"))(c));this.W[e].splice(this.ui(e).indexOf(c),1)}else le(c,b,d)}finally{z(!1)}};
function le(a,b,c){x(new (A("var_rename"))(a,b));a.name=b;for(b=0;b<c.length;b++)c[b].Jl(a)}g.cd=function(a,b,c){var d=this.Nc(a,b);if(d){if(c&&d.S()!=c)throw Error('Variable "'+a+'" is already in use and its id is "'+d.S()+'" which conflicts with the passed in id, "'+c+'".');return d}if(c&&this.kd(c))throw Error('Variable id, "'+c+'", is already in use.');b=b||"";d=new me(this.h,a,b,c||mb());a=this.W[b]||[];a.push(d);delete this.W[b];this.W[b]=a;return d};
g.fe=function(a){var b=this.kd(a);if(b){var c=b.name,d=this.cn(a);a=0;for(var e;e=d[a];a++)if("procedures_defnoreturn"==e.type||"procedures_defreturn"==e.type){a=I(e,"NAME");c=k.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",c).replace("%2",a);ne(c);return}var f=this;1<d.length?(c=k.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(d.length)).replace("%2",c),oe(c,function(h){h&&b&&pe(f,b,d)})):pe(f,b,d)}else console.warn("Can't delete non-existent variable: "+a)};
function pe(a,b,c){var d=Yb;d||z(!0);try{for(var e=0;e<c.length;e++)c[e].m(!0);var f=a.W[b.type];a=0;for(var h;h=f[a];a++)if(h.S()==b.S()){f.splice(a,1);x(new (A("var_delete"))(b));break}}finally{d||z(!1)}}g.Nc=function(a,b){if(b=this.W[b||""])for(var c=0,d;d=b[c];c++)if(qe(d.name,a))return d;return null};g.kd=function(a){for(var b=Object.keys(this.W),c=0;c<b.length;c++)for(var d=b[c],e=0,f;f=this.W[d][e];e++)if(f.S()==a)return f;return null};g.ui=function(a){return(a=this.W[a||""])?a.slice():[]};
g.an=function(a){var b={};md(b,this.W);a&&a.uf&&md(b,a.uf.W);a=Object.keys(b);b=!1;for(var c=0;c<a.length;c++)""==a[c]&&(b=!0);b||a.push("");return a};g.Qf=function(){var a=[],b;for(b in this.W)a=a.concat(this.W[b]);return a};g.Sm=function(){var a=[],b;for(b in this.W)for(var c=this.W[b],d=0,e;e=c[d];d++)a.push(e.name);return a};g.cn=function(a){for(var b=[],c=ke(this.h,!1),d=0;d<c.length;d++){var e=c[d].ke();if(e)for(var f=0;f<e.length;f++)e[f].S()==a&&b.push(c[d])}return b};function wd(a){this.id=mb();dc[this.id]=this;this.options=a||new ee({});this.o=!!this.options.o;this.ab=this.options.ab;new (Xb(Lb,this.options,!0))(this);this.rj=[];this.Il=[];Object.create(null);this.gb=[];this.tg=[];this.Vi=[];this.fm=Object.create(null);this.Ne=Object.create(null);this.W=new je(this);this.uf=null}g=wd.prototype;g.I=!1;g.qn=!1;g.mp=1024;g.kk=null;g.m=function(){this.gb.length=0;this.clear();delete dc[this.id]};
g.Td=function(a,b){a=a.ba();b=b.ba();return a.y+wd.prototype.Td.offset*a.x-(b.y+wd.prototype.Td.offset*b.x)};g.Wj=function(a){this.rj.push(a)};g.tl=function(a){if(!rb(this.rj,a))throw Error("Block not present in workspace's list of top-most blocks.");};g.Xa=function(a){var b=[].concat(this.rj);a&&1<b.length&&(this.Td.offset=Math.sin(3*Math.PI/180),this.o&&(this.Td.offset*=-1),b.sort(this.Td));return b};function re(a,b){return a.Ne[b]?a.Ne[b].slice(0):[]}
function ke(a,b){if(b){a=a.Xa(!0);b=[];for(var c=0;c<a.length;c++)b.push.apply(b,tb(a[c],!0))}else for(b=a.Xa(!1),c=0;c<b.length;c++)b.push.apply(b,pd(b[c],!1));return b.filter(function(d){return!d.Gb()})}g.clear=function(){this.qn=!0;try{var a=Yb;for(a||z(!0);this.rj.length;)this.rj[0].m(!1);for(;this.Il.length;)this.Il[this.Il.length-1].m(!1);a||z(!1);this.W.clear();this.uf&&this.uf.clear()}finally{this.qn=!1}};g.xf=function(a,b){this.W.xf(a,b)};g.cd=function(a,b,c){return this.W.cd(a,b,c)};
g.cn=function(a){return this.W.cn(a)};g.fe=function(a){this.W.fe(a)};g.Nc=function(a,b){return this.W.Nc(a,b)};g.kd=function(a){return this.W.kd(a)};g.ui=function(a){return this.W.ui(a)};g.an=function(){return this.W.an(this)};g.Qf=function(){return this.W.Qf()};g.Sm=function(){return this.W.Sm()};g.me=function(){return 0};g.lf=function(a,b){return new se(this,a,b)};function te(a){return isNaN(a.options.Hn)?Infinity:a.options.Hn-ke(a,!1).length}
function ue(a,b){if(!ve(a))return!0;var c=0,d;for(d in b){if(b[d]>(a.options.Uk?(void 0!==a.options.Uk[d]?a.options.Uk[d]:Infinity)-re(a,d).length:Infinity))return!1;c+=b[d]}return c>te(a)?!1:!0}function ve(a){return Infinity!=a.options.Hn||!!a.options.Uk}function we(a,b){var c=b?a.Vi:a.tg;a=b?a.tg:a.Vi;var d=c.pop();if(d){for(var e=[d];c.length&&d.group&&d.group==c[c.length-1].group;)e.push(c.pop());for(c=0;d=e[c];c++)a.push(d);e=cc(e,b);Zb=!1;try{for(c=0;d=e[c];c++)d.run(b)}finally{Zb=!0}}}
function xe(a,b){a.gb.push(b)}g.tc=function(a){return this.fm[a]||null};g.Mo=function(a){this.W=a};var dc=Object.create(null);function ye(){var a=[],b;for(b in dc)a.push(dc[b]);return a};function ze(a,b,c,d,e,f){this.g=a;this.ci=b;this.pu=c;this.$n=this.Zn=this.Kn=this.Co=null;this.Kc=!1;c=Ae;this.g.o&&(c=-c);this.Ts=c*Math.PI/180;a.qd.appendChild(this.$d(b,!(!e||!f)));this.Pa=d;this.vl&&Be(this);e&&f||(a=this.ci.getBBox(),e=a.width+2*Ce,f=a.height+2*Ce);this.cj(e,f);Be(this);De(this);this.vl=!0}var Ce=6,Ae=20,Ee=null,Fe=null;function Ge(){Ee&&(u(Ee),Ee=null);Fe&&(u(Fe),Fe=null)}function He(){xb=null;Ge()}g=ze.prototype;g.vl=!1;g.Pa=null;g.Od=0;g.wf=0;g.pa=0;g.wb=0;g.em=!0;
g.$d=function(a,b){this.Hc=B(rc,{},null);var c={filter:"url(#"+this.g.Da.D().yk+")"};Pa&&(c={});c=B(rc,c,this.Hc);this.Cp=B(uc,{},c);this.Zj=B(xc,{"class":"blocklyDraggable",x:0,y:0,rx:Ce,ry:Ce},c);b?(this.De=B(rc,{"class":this.g.o?"blocklyResizeSW":"blocklyResizeSE"},this.Hc),b=2*Ce,B(wc,{points:"0,x x,x x,0".replace(/x/g,b.toString())},this.De),B(tc,{"class":"blocklyResizeLine",x1:b/3,y1:b-1,x2:b-1,y2:b/3},this.De),B(tc,{"class":"blocklyResizeLine",x1:2*b/3,y1:b-1,x2:b-1,y2:2*b/3},this.De)):this.De=
null;this.g.options.readOnly||(this.Zn=r(this.Zj,"mousedown",this,this.Ws),this.De&&(this.$n=r(this.De,"mousedown",this,this.ku)));this.Hc.appendChild(a);return this.Hc};g.P=function(){return this.Hc};function Ie(a,b){a.Hc.dataset&&(a.Hc.dataset.blockId=b)}g.Ws=function(a){var b=this.g.ie(a);if(b){if(b.Tf)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");b.zc||(b.zc=this);b.Qc=a}};g.ij=function(){};g.Pc=function(){return!1};g.Go=function(){};
g.ku=function(a){Je(this);Ge();fb(a)||(this.g.lj(a,new p(this.g.o?-this.pa:this.pa,this.wb)),Ee=r(document,"mouseup",this,He),Fe=r(document,"mousemove",this,this.lu),id());a.stopPropagation()};g.lu=function(a){this.em=!1;var b=this.g;a=hb(a,E(b),fd(b));a.x/=b.scale;a.y/=b.scale;b=za(b.Tp,a);this.cj(this.g.o?-b.x:b.x,b.y);this.g.o&&Be(this)};function Je(a){var b=a.Hc.parentNode;return b.lastChild!==a.Hc?(b.appendChild(a.Hc),!0):!1}
function Ke(a,b,c){var d=a.g.o?a.Pa.x-b.x-a.pa:b.x+a.Pa.x;b=b.y+a.Pa.y;return Math.max(0,Math.min(1,(Math.min(d+a.pa,c.left+c.width)-Math.max(d,c.left))*(Math.min(b+a.wb,c.top+c.height)-Math.max(b,c.top))/(a.pa*a.wb)))}function Be(a){var b=a.Pa.x;b=a.g.o?b-(a.Od+a.pa):b+a.Od;a.moveTo(b,a.wf+a.Pa.y)}g.moveTo=function(a,b){this.Hc.setAttribute("transform","translate("+a+","+b+")")};g.Bf=function(a){!a&&this.Kn&&this.Kn()};g.Tm=function(){return new Ha(this.pa,this.wb)};
g.cj=function(a,b){var c=2*Ce;a=Math.max(a,c+45);b=Math.max(b,c+20);this.pa=a;this.wb=b;this.Zj.setAttribute("width",a);this.Zj.setAttribute("height",b);this.De&&(this.g.o?this.De.setAttribute("transform","translate("+2*Ce+","+(b-c)+") scale(-1 1)"):this.De.setAttribute("transform","translate("+(a-c)+","+(b-c)+")"));if(this.em){a=Le(this.g.Yb,!0);b=-this.pa/4;if(!(this.pa>a.width)){if(this.g.o){c=this.Pa.x-b;var d=c-this.pa;var e=a.left+a.width,f=a.left+Oc/this.g.scale}else d=b+this.Pa.x,c=d+this.pa,
f=a.left,e=a.left+a.width-Oc/this.g.scale;this.g.o?d<f?b=-(f-this.Pa.x+this.pa):c>e&&(b=-(e-this.Pa.x)):d<f?b=f-this.Pa.x:c>e&&(b=e-this.Pa.x-this.pa)}d=b;b=-this.wb/4;if(!(this.wb>a.height)){c=this.Pa.y+b;e=c+this.wb;f=a.top;var h=a.top+a.height-Oc/this.g.scale,l=this.Pa.y;c<f?b=f-l:e>h&&(b=h-l-this.wb)}f=b;e=this.pu.getBBox();b={x:d,y:-this.wb-this.g.Da.D().Jh};c={x:-this.pa-30,y:f};f={x:e.width,y:f};h={x:d,y:e.height};d=e.width<e.height?f:h;e=e.width<e.height?h:f;f=Ke(this,b,a);h=Ke(this,c,a);
l=Ke(this,d,a);a=Math.max(f,h,l,Ke(this,e,a));f==a?(this.Od=b.x,this.wf=b.y):h==a?(this.Od=c.x,this.wf=c.y):l==a?(this.Od=d.x,this.wf=d.y):(this.Od=e.x,this.wf=e.y)}Be(this);De(this);this.Co&&this.Co()};
function De(a){var b=[],c=a.pa/2,d=a.wb/2,e=-a.Od,f=-a.wf;if(c==e&&d==f)b.push("M "+c+","+d);else{f-=d;e-=c;a.g.o&&(e*=-1);var h=Math.sqrt(f*f+e*e),l=Math.acos(e/h);0>f&&(l=2*Math.PI-l);var m=l+Math.PI/2;m>2*Math.PI&&(m-=2*Math.PI);var n=Math.sin(m),q=Math.cos(m),t=a.Tm();m=(t.width+t.height)/5;m=Math.min(m,t.width,t.height)/4;t=1-8/h;e=c+t*e;f=d+t*f;t=c+m*q;var y=d+m*n;c-=m*q;d-=m*n;n=l+a.Ts;n>2*Math.PI&&(n-=2*Math.PI);l=Math.sin(n)*h/4;h=Math.cos(n)*h/4;b.push("M"+t+","+y);b.push("C"+(t+h)+","+
(y+l)+" "+e+","+f+" "+e+","+f);b.push("C"+e+","+f+" "+(c+h)+","+(d+l)+" "+c+","+d)}b.push("z");a.Cp.setAttribute("d",b.join(" "))}g.hb=function(a){this.Zj.setAttribute("fill",a);this.Cp.setAttribute("fill",a)};g.m=function(){this.Zn&&u(this.Zn);this.$n&&u(this.$n);Ge();D(this.Hc);this.Kc=!0};g.Ln=function(a,b){a?a.sg(b.x,b.y):this.moveTo(b.x,b.y);this.Od=this.g.o?this.Pa.x-b.x-this.pa:b.x-this.Pa.x;this.wf=b.y-this.Pa.y;De(this)};
g.ba=function(){return new p(this.g.o?-this.Od+this.Pa.x-this.pa:this.Pa.x+this.Od,this.Pa.y+this.wf)};function Me(a){var b=B(zc,{"class":"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:Ce},null);a=a.split("\n");for(var c=0;c<a.length;c++)B(Ac,{dy:"1em",x:Ce},b).appendChild(document.createTextNode(a[c]));return b}
function Ne(a,b,c){c=new ze(b.h,a,b.oa.ta,c,null,null);Ie(c,b.id);if(b.o){b=a.getBBox().width;for(var d=0,e;e=a.childNodes[d];d++)e.setAttribute("text-anchor","end"),e.setAttribute("x",b+Ce)}return c};var Oe=!1;function Pe(a){if(Oe)throw Error("CSS already injected");Array.prototype.push.apply(Re,a);a.length=0}
var Re=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;",
"}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font: 9pt sans-serif;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: absolute;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-color: #dadce0;","background-color: #fff;","border-radius: 2px;","padding: 4px;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {",
"max-height: 300px;","overflow: auto;","overflow-x: hidden;","position: relative;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".blocklyArrowTop {","border-top: 1px solid;",
"border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".blocklyArrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;",
"}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;",
"}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;",
"}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none;","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyText text {","cursor: default;","}",".blocklySvg text,",
".blocklyBlockDragSurface text {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {",
"margin: 0;","padding: 0;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","display: block;","box-sizing: border-box;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;",
"}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal,",".blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",
".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyVerticalMarker {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","pointer-events: none;","}",".blocklyComputeCanvas {","position: absolute;","width: 0;","height: 0;","}",".blocklyNoPointerEvents {","pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",
".blocklyDropdownMenu .blocklyMenuItem {","padding-left: 28px;","}",".blocklyDropdownMenu .blocklyMenuItemRtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .blocklyMenu {","background: #fff;","border: 1px solid transparent;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .blocklyMenu.blocklyFocused {",
"box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv .blocklyMenu {","background: inherit;","border: inherit;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","position: relative;","z-index: 20000;","}",".blocklyMenuItem {","border: none;","color: #000;","cursor: pointer;","list-style: none;","margin: 0;","min-width: 7em;","padding: 6px 15px;","white-space: nowrap;","}",".blocklyMenuItemDisabled {","color: #ccc;","cursor: inherit;","}",".blocklyMenuItemHighlight {",
"background-color: rgba(0,0,0,.1);","}",".blocklyMenuItemCheckbox {","height: 16px;","position: absolute;","width: 16px;","}",".blocklyMenuItemSelected .blocklyMenuItemCheckbox {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","float: left;","margin-left: -24px;","position: static;","}",".blocklyMenuItemRtl .blocklyMenuItemCheckbox {","float: right;","margin-right: -24px;","}"];function Se(a){Se.j.constructor.call(this);this.Id="undefined"==typeof a;this.Cb=a?a:"";this.zb=!1}F(Se,kd);Se.prototype.Pk=!0;function Te(a,b,c,d){Te.j.constructor.call(this,a?a.h.id:void 0);this.ea=a?a.id:null;this.element="undefined"==typeof b?"":b;this.oldValue="undefined"==typeof c?"":c;this.newValue="undefined"==typeof d?"":d}F(Te,Se);Te.prototype.type="ui";
Te.prototype.R=function(){var a=Te.j.R.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);this.ea&&(a.blockId=this.ea);return a};Te.prototype.M=function(a){Te.j.M.call(this,a);this.element=a.element;this.newValue=a.newValue;this.ea=a.blockId};v(Nb,"ui",Te);function Ue(a,b,c){Ue.j.constructor.call(this,a?a.h.id:void 0);this.ea=a?a.id:null;this.ih=b;this.hm=c}F(Ue,Se);Ue.prototype.type="bubble_open";Ue.prototype.R=function(){var a=Ue.j.R.call(this);a.isOpen=this.ih;a.bubbleType=this.hm;a.blockId=this.ea;return a};Ue.prototype.M=function(a){Ue.j.M.call(this,a);this.ih=a.isOpen;this.hm=a.bubbleType;this.ea=a.blockId};v(Nb,"bubble_open",Ue);function Ve(a){this.v=a;this.Ub=null}g=Ve.prototype;g.Hp=!0;g.Rj=17;g.La=null;g.ef=null;function We(a){a.Ub||(a.Ub=B(rc,{"class":"blocklyIconGroup"},null),a.v.Ia&&C(a.Ub,"blocklyIconGroupReadonly"),a.Cm(a.Ub),a.v.P().appendChild(a.Ub),r(a.Ub,"mouseup",a,a.jn),a.Oe())}g.m=function(){D(this.Ub);this.Ub=null;this.la(!1);this.v=null};g.Oe=function(){};g.isVisible=function(){return!!this.La};g.jn=function(a){this.v.h.Ra()||this.v.Ia||fb(a)||this.la(!this.isVisible())};
g.Ka=function(){this.isVisible()&&this.La.hb(this.v.style.Te)};function Xe(a){var b=a.v.ba(),c=bb(a.Ub);b=new p(b.x+c.x+a.Rj/2,b.y+c.y+a.Rj/2);wa(a.ef,b)||(a.ef=b,a.isVisible()&&(a=a.La,a.Pa=b,a.vl&&Be(a)))};function Ye(a){Ye.j.constructor.call(this,a);We(this);this.$b=Object.create(null)}F(Ye,Ve);g=Ye.prototype;g.Hp=!1;g.Cm=function(a){B(uc,{"class":"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},a);B(uc,{"class":"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},a);B(xc,{"class":"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},a)};g.la=function(a){a!=this.isVisible()&&(x(new (A("bubble_open"))(this.v,a,"warning")),a?this.lk():this.wk())};
g.lk=function(){this.jg=Me(this.Tb());this.La=Ne(this.jg,this.v,this.ef);this.Ka()};g.wk=function(){this.La.m();this.jg=this.La=null};function Ze(a,b,c){a.$b[c]!=b&&(b?a.$b[c]=b:delete a.$b[c],a.isVisible()&&(a.la(!1),a.la(!0)))}g.Tb=function(){var a=[],b;for(b in this.$b)a.push(this.$b[b]);return a.join("\n")};g.m=function(){this.v.Dc=null;Ve.prototype.m.call(this)};function Ed(a){Ed.j.constructor.call(this,a);this.xb=a.mc;this.xb.text=this.xb.text||"";this.km="";this.cl=this.Zk=this.ml=this.pf=null;We(this)}F(Ed,Ve);g=Ed.prototype;
g.Cm=function(a){B(ic,{"class":"blocklyIconShape",r:"8",cx:"8",cy:"8"},a);B(uc,{"class":"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},a);B(xc,{"class":"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},a)};
g.rm=function(){this.pi=B(qc,{x:Ce,y:Ce},null);var a=document.createElementNS("http://www.w3.org/1999/xhtml","body");a.setAttribute("xmlns","http://www.w3.org/1999/xhtml");a.className="blocklyMinimalBody";var b=this.rg=document.createElementNS("http://www.w3.org/1999/xhtml","textarea");b.className="blocklyCommentTextarea";b.setAttribute("dir",this.v.o?"RTL":"LTR");b.value=this.xb.text;$e(this);a.appendChild(b);this.pi.appendChild(a);this.pf=r(b,"mouseup",this,this.tu,!0,!0);this.ml=r(b,"wheel",this,
function(c){c.stopPropagation()});this.Zk=r(b,"change",this,function(){this.km!=this.xb.text&&x(new (A("change"))(this.v,"comment",null,this.km,this.xb.text))});this.cl=r(b,"input",this,function(){this.xb.text=b.value});setTimeout(b.focus.bind(b),0);return this.pi};g.Oe=function(){Ed.j.Oe.call(this);this.isVisible()&&(this.wk(),this.lk())};g.Rt=function(){this.isVisible()&&(this.xb.size=this.La.Tm(),$e(this))};
function $e(a){var b=a.xb.size,c=2*Ce,d=b.width-c;b=b.height-c;a.pi.setAttribute("width",d);a.pi.setAttribute("height",b);a.rg.style.width=d-4+"px";a.rg.style.height=b-4+"px"}g.la=function(a){a!=this.isVisible()&&(x(new (A("bubble_open"))(this.v,a,"comment")),(this.xb.to=a)?this.lk():this.wk())};
g.lk=function(){!this.v.Vb()||Ma?(this.jg=Me(this.v.mc.text),this.La=Ne(this.jg,this.v,this.ef)):(this.La=new ze(this.v.h,this.rm(),this.v.oa.ta,this.ef,this.xb.size.width,this.xb.size.height),Ie(this.La,this.v.id),this.La.Co=this.Rt.bind(this));this.Ka()};g.wk=function(){this.pf&&(u(this.pf),this.pf=null);this.ml&&(u(this.ml),this.ml=null);this.Zk&&(u(this.Zk),this.Zk=null);this.cl&&(u(this.cl),this.cl=null);this.La.m();this.jg=this.pi=this.rg=this.La=null};
g.tu=function(){Je(this.La)&&this.rg.focus();this.km=this.xb.text};g.Tm=function(){return this.xb.size};g.cj=function(a,b){this.La?this.La.cj(a,b):(this.xb.size.width=a,this.xb.size.height=b)};g.m=function(){this.v.Xh=null;Ve.prototype.m.call(this)};Pe(".blocklyCommentTextarea {,background-color: #fef49c;,border: 0;,outline: 0;,margin: 0;,padding: 3px;,resize: none;,display: block;,text-overflow: hidden;,}".split(","));
var af,bf,cf,df=null,ef=null,ff=null,gf=null,hf="",jf="";
function kf(){if(!af){var a=document.createElement("div");a.className="blocklyDropDownDiv";(lf||document.body).appendChild(a);af=a;var b=document.createElement("div");b.className="blocklyDropDownContent";a.appendChild(b);bf=b;b=document.createElement("div");b.className="blocklyDropDownArrow";a.appendChild(b);cf=b;af.style.opacity=0;af.style.transition="transform 0.25s, opacity 0.25s";a.addEventListener("focusin",function(){C(a,"blocklyFocused")});a.addEventListener("focusout",function(){Ec(a,"blocklyFocused")})}}
function mf(a,b){var c=nf(a);var d=new Aa(c.top,c.bottom,c.left,c.right);c=d.left+(d.right-d.left)/2;var e=d.bottom;d=d.top;for(var f=a.C(),h=f.h;h.options.Sa;)h=h.options.Sa;df=E(h).parentNode;f=f.o;ef=a;gf=b||null;a=af;a.style.direction=f?"rtl":"ltr";b=of;hf=b.Da.gd();jf=b.je().gd();C(a,hf);C(a,jf);a=Ka(df);b=Ia(df);a={left:a.x,right:a.x+b.width,top:a.y,bottom:a.y+b.height,width:b.width,height:b.height};b=Ia(af);e+b.height<a.bottom?c=pf(c,e,a,b):d-b.height>a.top?c=qf(c,d,a,b):e+b.height<document.documentElement.clientHeight?
c=pf(c,e,a,b):d-b.height>document.documentElement.clientTop?c=qf(c,d,a,b):(c=rf(c,a.left,a.right,b.width),c={mn:c.Vg,nn:0,Nm:c.Vg,Om:0,bm:null,Mg:null,dm:null,cm:!1});a=c;a.cm?(cf.style.display="",cf.style.transform="translate("+a.Mg+"px,"+a.dm+"px) rotate(45deg)",cf.setAttribute("class",a.bm?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):cf.style.display="none";c=Math.floor(a.mn);e=Math.floor(a.nn);d=Math.floor(a.Nm);a=Math.floor(a.Om);b=af;b.style.left=c+"px";
b.style.top=e+"px";b.style.display="block";b.style.opacity=1;b.style.transform="translate("+(d-c)+"px,"+(a-e)+"px)"}function pf(a,b,c,d){a=rf(a,c.left,c.right,d.width);return{mn:a.Vg,nn:b,Nm:a.Vg,Om:b+16,Mg:a.Mg,dm:-9,bm:!0,cm:!0}}function qf(a,b,c,d){a=rf(a,c.left,c.right,d.width);return{mn:a.Vg,nn:b-d.height,Nm:a.Vg,Om:b-d.height-16,Mg:a.Mg,dm:d.height-2-8,bm:!1,cm:!0}}function rf(a,b,c,d){var e=a;a=jd(b,a-d/2,c-d);b=jd(12,e-8-a,d-12-16);return{Mg:b,Vg:a}}
function sf(){var a=af;a.style.transform="translate(0, 0)";a.style.opacity=0;ff=setTimeout(function(){tf()},250);gf&&(gf(),gf=null)}function tf(){if(ef){ff&&clearTimeout(ff);var a=af;a.style.transform="";a.style.left="";a.style.top="";a.style.opacity=0;a.style.display="none";a.style.backgroundColor="";a.style.borderColor="";gf&&(gf(),gf=null);bf.textContent="";bf.style.width="";ef=null;hf&&(Ec(a,hf),hf="");jf&&(Ec(a,jf),jf="");ed(of)}};var uf=0,vf=null;function wf(a,b,c,d){var e=(new Date-c)/150;1<e?D(a):(a.setAttribute("transform","translate("+(a.Bu+(b?-1:1)*a.zp.width*d/2*e)+","+(a.Cu+a.zp.height*d*e)+") scale("+(1-e)*d+")"),setTimeout(wf,10,a,b,c,d))}function xf(a,b,c){var d=(new Date-b)/150;1<d?D(a):(a.setAttribute("r",25*d*c),a.style.opacity=1-d,uf=setTimeout(xf,10,a,b,c))}
function yf(a,b,c){var d=(new Date-c)/200;1<d?a.jj="":(a.jj="skewX("+Math.round(Math.sin(d*Math.PI*3)*(1-d)*b)+")",vf=a,uf=setTimeout(yf,10,a,b,c));a.setAttribute("transform",a.tj+a.jj)}function zf(){if(vf){clearTimeout(uf);var a=vf;a.jj="";a.setAttribute("transform",a.tj);vf=null}};function Af(a,b,c){Af.j.constructor.call(this,a?a.h.id:void 0);this.ea=a?a.id:null;this.uq=b;this.Bp=c}F(Af,Se);Af.prototype.type="drag";Af.prototype.R=function(){var a=Af.j.R.call(this);a.isStart=this.uq;a.blockId=this.ea;a.blocks=this.Bp;return a};Af.prototype.M=function(a){Af.j.M.call(this,a);this.uq=a.isStart;this.ea=a.blockId;this.Bp=a.blocks};v(Nb,"drag",Af);function Bf(){this.Ve=Object.create(null);this.Og=Object.create(null)}function Cf(a,b){var c=b.component.id;if(a.Ve[c])throw Error('Plugin "'+c+'" with capabilities "'+a.Ve[c].yd+'" already added.');a.Ve[c]=b;for(var d=[],e=0;e<b.yd.length;e++){var f=String(b.yd[e]).toLowerCase();d.push(f);void 0===a.Og[f]?a.Og[f]=[c]:a.Og[f].push(c)}a.Ve[c].yd=d}
function Df(a,b){var c=a.Ve[b];if(c){for(var d=0;d<c.yd.length;d++){var e=String(c.yd[d]).toLowerCase();a.Og[e].splice(a.Og[e].indexOf(b),1)}delete a.Ve[b]}}function Ef(a,b){var c=Ff;c=String(c).toLowerCase();return-1!==a.Ve[b].yd.indexOf(c)}function Gf(a,b){b=String(b).toLowerCase();b=a.Og[b];if(!b)return[];var c=[],d=[],e=a.Ve;b.forEach(function(f){d.push(e[f])});d.sort(function(f,h){return f.weight-h.weight});d.forEach(function(f){c.push(f.component)});return c}function Hf(a){this.we=a}
Hf.prototype.toString=function(){return this.we};var If=new Hf("positionable"),Jf=new Hf("drag_target"),Ff=new Hf("delete_area"),Kf=new Hf("autohideable");function Lf(a){this.Gf=J=a;this.g=a.h;this.hf=this.vn=null;this.oi=Mf(this,this.Gf);this.Wb=this.Va=null;this.sd=!1;this.ni=this.hn=this.cg=null;this.Xj=Nf(this)}Lf.prototype.m=function(){this.Xj.length=0;w++;try{this.oi&&this.oi.m(),this.hf&&this.hf.m()}finally{w--}};
Lf.prototype.update=function(a,b){var c=28;for(var d=null,e=null,f=0;f<this.Xj.length;f++){var h=this.Xj[f],l=h.closest(c,a);l.connection&&(d=l.connection,e=h,c=l.ql)}c={closest:d,local:e,ql:c};if((this.sd=this.Oo(c,b))||Of(this,c,a)){w++;c.closest?(a=this.Va!=c.closest,b=this.Wb!=c.local,this.Va&&this.Wb&&(a||b||this.sd)&&Pf(this)):Pf(this);this.Wb=this.Va=this.cg=null;if(!this.sd&&(a=c.closest,b=c.local,a))if(a==this.Va||a.C().Gb())console.log("Trying to connect to an insertion marker");else{this.Va=
a;this.Wb=b;a=this.Va;b=this.Wb;c=this.Gf;2==b.type||4==b.type?((d=!a.isConnected())||(d=a.G(),d=!!Qd(c,2===b.type?d.u:d.F)),b=d?0:2):b=0;switch(b){case 1:this.hn=this.Va.C();break;case 0:d=this.Wb;b=this.Va;c=this.vn&&d==this.vn?this.hf:this.oi;d=c.Ym(d.C(),d);if(d==this.cg)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");c.O();c.I=!0;c.P().setAttribute("visibility","visible");d&&b&&(3!=d.type&&1!=d.type||c.moveBy(b.x-d.x,b.y-d.y));b&&d.connect(b);this.cg=d;break;
case 2:this.ni=this.Va.G(),Qf(this.ni.oa,"blocklyReplaceable",!0)}a&&(c=a.l.h.Da.D(),b=Rf(c,a),1==a.type||2==a.type?(c=c.Lg,b=Sf(0,-c)+K("v",c)+b.Sc+K("v",c)):(c=c.Kh-c.ya,b=Sf(-c,0)+K("h",c)+b.sf+K("h",c)),c=a.l.ba(),Pd.mq=B(uc,{"class":"blocklyHighlightedConnectionPath",d:b,transform:"translate("+(a.x-c.x)+","+(a.y-c.y)+")"+(a.l.o?" scale(-1 1)":"")},a.l.P()))}w--}};
function Mf(a,b){var c=b.type;w++;try{var d=a.g.lf(c);d.wr(!0);if(b.qa){var e=b.qa();e&&d.Na(e)}for(a=0;a<b.A.length;a++){var f=b.A[a];if("_TEMP_COLLAPSED_INPUT"!=f.name){var h=d.A[a];if(!h)throw Error("The insertion marker manager tried to create a marker but the result is missing an input. If you are using a mutator, make sure your domToMutation method is properly defined.");for(c=0;c<f.aa.length;c++){var l=f.aa[c],m=h.aa[c];if(!m)throw Error("The insertion marker manager tried to create a marker but the result is missing a field. If you are using a mutator, make sure your domToMutation method is properly defined.");
m.Ja(l.Oa())}}}d.zf(b.isCollapsed());d.Wc(Tf(b));d.ld();d.P().setAttribute("visibility","hidden")}finally{w--}return d}function Nf(a){var b=a.Gf.hd(!1),c=a.Gf.Qk(!0);if(c&&c!=a.Gf.B){b.push(c);a.vn=c;if(a.hf){w++;try{a.hf.m()}finally{w--}}a.hf=Mf(a,c.C())}return b}
function Of(a,b,c){var d=b.local,e=b.closest;b=b.ql;if(d&&e){if(a.Wb&&a.Va){if(a.Va==e&&a.Wb==d)return!1;d=a.Wb.x+c.x-a.Va.x;a=a.Wb.y+c.y-a.Va.y;a=Math.sqrt(d*d+a*a);return!(e&&b>a-8)}if(a.Wb||a.Va)console.error("Only one of localConnection_ and closestConnection_ was set.");else return!0}else return!(!a.Wb||!a.Va);console.error("Returning true from shouldUpdatePreviews, but it's not clear why.");return!0}Lf.prototype.Oo=function(a,b){return b&&Ef(this.g.nc,b.id)?b.ap(this.Gf,a&&!!a.closest):!1};
function Pf(a){a.Va&&a.Va.G()&&(D(Pd.mq),delete Pd.mq);if(a.ni)Qf(a.ni.oa,"blocklyReplaceable",!1),a.ni=null;else if(a.hn)a.hn=null;else if(a.cg)if(a.cg){var b=a.cg,c=b.C(),d=c.B,e=c.F,f=c.u;f=1==b.type&&!(f&&f.K);!(b!=d||e&&e.K)||f?Od(b.G(),!1):3==b.type&&b!=d?(d=b.K,Od(d.C(),!1),e=e?e.K:null,Od(c,!0),e&&e.connect(d)):Od(c,!0);if(b.K)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");a.cg=null;(a=c.P())&&a.setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")}
Lf.prototype.Zg=function(){var a=[];this.oi&&a.push(this.oi);this.hf&&a.push(this.hf);return a};function Uf(a,b){this.Ba=a;this.g=b;this.Dd=new Lf(this.Ba);this.Wa=null;this.sd=!1;this.Ie=this.Ba.ba();b=[];a=tb(a,!1);for(var c=0,d;d=a[c];c++){d=Vf(d);for(var e=0;e<d.length;e++)b.push({location:d[e].ef,icon:d[e]})}this.xk=b}g=Uf.prototype;g.m=function(){this.xk.length=0;this.Dd&&this.Dd.m()};
g.lj=function(a,b){Yb||z(!0);var c=new (A("drag"))(this.Ba,!0,tb(this.Ba,!1));x(c);this.g.Ei&&Wf(this.Ba);Ic();this.g.Ib(!1);zf();if(this.Ba.getParent()||b&&this.Ba.B&&this.Ba.B.G())Od(this.Ba,b),a=this.nh(a),a=za(this.Ie,a),this.Ba.translate(a.x,a.y),a=this.Ba,a.h.wd.play("disconnect"),1>a.h.scale||(b=Xf(a).height,b=Math.atan(10/b)/Math.PI*180,a.o||(b*=-1),yf(a.P(),b,new Date)),a=this.Dd,a.Xj=Nf(a);this.Ba.Bf(!0);a=this.Ba;a.zj&&(b=a.ba(),a.P().removeAttribute("transform"),a.h.kc.sg(b.x,b.y),(b=
a.P())&&Yf(a.h.kc,b))};g.ge=function(a,b){b=this.nh(b);this.Ba.Ln(za(this.Ie,b));for(var c=0;c<this.xk.length;c++){var d=this.xk[c],e=d.icon;d=za(d.location,b);e.ef=d;e.isVisible()&&(e=e.La,e.Pa=d,e.vl&&Be(e))}c=this.Wa;this.Wa=Zf(this.g,a);this.Dd.update(b,this.Wa);a=this.sd;this.sd=this.Dd.sd;a!=this.sd&&this.Ba.Go(this.sd);this.Wa!==c&&(c&&c.al(),this.Wa&&this.Wa.Tn());this.Wa&&this.Wa.Un()};
g.li=function(a,b){this.ge(a,b);this.xk=[];a=new (A("drag"))(this.Ba,!1,tb(this.Ba,!1));x(a);Jc();zf();b=this.nh(b);a=za(this.Ie,b);var c=this.Ba;c.zj&&(c.translate(a.x,a.y),c.h.kc.ck(c.h.sa));this.Wa&&this.Wa.bl();this.sd?($f(this),this.Ba.m(!1,!0),Xd=[],a=!0):a=!1;if(!a)if(this.Ba.Bf(!1),b){ag(this.Ba,b.x,b.y);$f(this);if(this.Dd.Va){if(b=this.Dd,b.Va&&(w++,Pf(b),w--,b.Wb.connect(b.Va),b.Gf.I)){c=(Rd(b.Wb)?b.Va:b.Wb).C();var d=c.h;a=d.scale;d.wd.play("click");if(!(1>a)){var e=bg(d,c.P());c.u?(e.x+=
(c.o?3:-3)*a,e.y+=13*a):c.F&&(e.x+=(c.o?-23:23)*a,e.y+=3*a);c=B(ic,{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},E(d));xf(c,new Date,a)}Wf(b.Gf.jd())}}else this.Ba.O();cg(this.Ba)}else dg(this.Ba.h,this.g.Yb.$e(!0),this.Ba);this.g.Ib(!0);z(!1)};function $f(a){var b=new (A("move"))(a.Ba);b.Pn=a.Ie;Md(b);x(b)}g.nh=function(a){a=new p(a.x/this.g.scale,a.y/this.g.scale);this.g.Ei&&a.scale(1/this.g.options.Sa.scale);return a};g.Zg=function(){return this.Dd&&this.Dd.Zg?this.Dd.Zg():[]};
v(Vb,"default",Uf);function eg(a,b){this.cc=a;this.g=b;this.Wa=null;this.Bj=!1;this.Ie=this.cc.ba();this.Pf=ob()&&b.kc?b.kc:null}eg.prototype.m=function(){this.Pf=this.g=this.cc=null};function fg(a,b,c){c=a.nh(c);a.cc.Ln(a.Pf,za(a.Ie,c));c=a.Wa;a.Wa=Zf(a.g,b);b=a.Bj;a.Bj=a.Oo(a.Wa);b!=a.Bj&&a.cc.Go(a.Bj);a.Wa!==c&&(c&&c.al(),a.Wa&&a.Wa.Tn());a.Wa&&a.Wa.Un()}eg.prototype.Oo=function(a){return a&&Ef(this.g.nc,a.id)?a.ap(this.cc,!1):!1};
function gg(a,b,c){fg(a,b,c);b=a.nh(c);b=za(a.Ie,b);a.cc.moveTo(b.x,b.y);a.Wa&&a.Wa.bl();a.Bj?a.cc.m(!1,!0):(a.Pf&&a.Pf.ck(a.g.qd),a.cc.Bf&&a.cc.Bf(!1));a.g.Ib(!0);z(!1)}eg.prototype.nh=function(a){a=new p(a.x/this.g.scale,a.y/this.g.scale);this.g.Ei&&a.scale(1/this.g.options.Sa.scale);return a};function hg(a,b,c){hg.j.constructor.call(this,a?a.h.id:b);this.ea=a?a.id:null;this.Dr=c}F(hg,Se);hg.prototype.type="click";hg.prototype.R=function(){var a=hg.j.R.call(this);a.targetType=this.Dr;this.ea&&(a.blockId=this.ea);return a};hg.prototype.M=function(a){hg.j.M.call(this,a);this.Dr=a.targetType;this.ea=a.blockId};v(Nb,"click",hg);var ig=!1,jg=!1,kg=0,lg=0,mg=0,ng=0,og=null,pg=null,qg=null;function rg(a){for(;a&&a.Yc;){if("string"==typeof a.Yc||"function"==typeof a.Yc)return a;a=a.Yc}return null}function sg(a){a.Mt=Ib(a,"mouseover",null,tg);a.Kt=Ib(a,"mouseout",null,ug);a.addEventListener("mousemove",vg,!1)}function wg(a){a&&(u(a.Mt),u(a.Kt),a.removeEventListener("mousemove",vg))}function tg(a){jg||(a=rg(a.currentTarget),og!=a&&(xg(),pg=null,og=a),clearTimeout(kg))}
function ug(){jg||(kg=setTimeout(function(){pg=og=null;xg()},1),clearTimeout(lg))}function vg(a){if(og&&og.Yc&&!jg)if(ig){var b=mg-a.pageX;a=ng-a.pageY;10<Math.sqrt(b*b+a*a)&&xg()}else pg!=og&&(clearTimeout(lg),mg=a.pageX,ng=a.pageY,lg=setTimeout(yg,750))}function xg(){ig&&(ig=!1,qg&&(qg.style.display="none"));lg&&clearTimeout(lg)}
function yg(){if(!jg&&(pg=og,qg)){qg.textContent="";var a;if(a=rg(og)){for(a=a.Yc;"function"==typeof a;)a=a();if("string"!=typeof a)throw Error("Tooltip function must return a string.");}else a="";a=Ea(a,50);a=a.split("\n");for(var b=0;b<a.length;b++){var c=document.createElement("div");c.appendChild(document.createTextNode(a[b]));qg.appendChild(c)}a=og.o;b=document.documentElement.clientWidth;c=document.documentElement.clientHeight;qg.style.direction=a?"rtl":"ltr";qg.style.display="block";ig=!0;
var d=mg;d=a?d-(0+qg.offsetWidth):d+0;var e=ng+10;e+qg.offsetHeight>c+window.scrollY&&(e-=qg.offsetHeight+20);a?d=Math.max(5-window.scrollX,d):d+qg.offsetWidth>b+window.scrollX-10&&(d=b-qg.offsetWidth-10);qg.style.top=e+"px";qg.style.left=d+"px"}};function zg(a){this.g=a;this.nq=Ag(this.g);this.Qr=Bg(this.g);this.vu=new p(a.scrollX,a.scrollY)}zg.prototype.m=function(){this.g=null};zg.prototype.lj=function(){J&&Cg(J);gd(this.g)};zg.prototype.li=function(a){this.ge(a);hd(this.g)};zg.prototype.ge=function(a){a=za(this.vu,a);if(this.nq&&this.Qr)this.g.scroll(a.x,a.y);else if(this.nq)this.g.scroll(a.x,this.g.scrollY);else if(this.Qr)this.g.scroll(this.g.scrollX,a.y);else throw new TypeError("Invalid state.");};function Dg(a,b){this.Hq=null;this.Ob=new p(0,0);this.Za=this.Bb=this.xh=this.yh=this.zc=null;this.sm=b;this.Ci=this.Zf=this.Di=this.Sf=!1;this.Qc=a;this.J=this.yg=this.xd=this.Se=this.ll=this.kl=null;this.jq=this.Kk=this.Tf=this.Ep=!1}g=Dg.prototype;g.m=function(){xb=null;jg=!1;this.sm.Eb=null;this.kl&&u(this.kl);this.ll&&u(this.ll);this.xd&&this.xd.m();this.yg&&this.yg.m();this.Se&&this.Se.m()};
function Eg(a,b){a.Ob=ya(new p(b.clientX,b.clientY),a.Hq);if(a.Sf)var c=!1;else c=a.Ob,a.Sf=Math.sqrt(c.x*c.x+c.y*c.y)>(a.J?10:5),c=a.Sf;if(c){if(a.Ep)throw Error("updateIsDragging_ should only be called once per gesture.");a.Ep=!0;a.zc?(a.Ci=!0,a.Se=new eg(a.zc,a.Za),c=a.Se,Yb||z(!0),c.g.Ib(!1),c.cc.em=!1,c.Pf&&(c.cc.moveTo(0,0),c.Pf.sg(c.Ie.x,c.Ie.y),Yf(c.Pf,c.cc.P())),c.cc.Bf&&c.cc.Bf(!0),fg(a.Se,a.Qc,a.Ob),c=!0):c=!1;if(!c){if(a.Bb){if(a.J){if(a.Bb&&a.Bb.isEnabled()){if(!(c=!Fg(a.J))){c=a.Ob;
c=Math.atan2(c.y,c.x)/Math.PI*180;var d=a.J.ht;c=c<d&&c>-d||c<-180+d||c>180-d?!0:!1}c?(a.Za=a.J.U,Gg(a.Za),Yb||z(!0),a.xh=null,a.Bb=Hg(a.J,a.Bb),a.Bb.select(),c=!0):c=!1}else c=!1;a.Zf=c}else a.Bb.fb()&&(a.Zf=!0);a.Zf?(a.xd=new (Xb(Vb,a.sm.options,!0))(a.Bb,a.Za),a.xd.lj(a.Ob,a.jq),a.xd.ge(a.Qc,a.Ob),c=!0):c=!1}else c=!1;if(c=!c)if(a.J)c=Fg(a.J);else if(c=a.Za)c=a.Za,c=c.options.Hb&&c.options.Hb.ge;c&&(a.yg=new zg(a.Za),a.Di=!0,a.yg.lj())}Bb()}a.Qc=b}
g.zm=function(a){ab(a)?this.cancel():(this.Tf=!0,zf(),Gg(this.Za),this.Za.Ei&&this.Za.resize(),id(!!this.J),ed(this.Za),this.Qc=a,xg(),jg=!0,this.Bb&&this.Bb.select(),fb(a)?Cb(this,a):("touchstart"!=a.type.toLowerCase()&&"pointerdown"!=a.type.toLowerCase()||"mouse"==a.pointerType||Ab(a,this),this.Hq=new p(a.clientX,a.clientY),this.jq=a.altKey||a.ctrlKey||a.metaKey,this.Ap(a)))};
g.Ap=function(a){this.kl=r(document,"mousemove",null,this.bh.bind(this));this.ll=r(document,"mouseup",null,this.Gk.bind(this));a.preventDefault();a.stopPropagation()};g.bh=function(a){Eg(this,a);this.Di?this.yg.ge(this.Ob):this.Zf?this.xd.ge(this.Qc,this.Ob):this.Ci&&fg(this.Se,this.Qc,this.Ob);a.preventDefault();a.stopPropagation()};
g.Gk=function(a){Eg(this,a);Bb();if(this.Kk)console.log("Trying to end a gesture recursively.");else{this.Kk=!0;if(this.Ci)gg(this.Se,a,this.Ob);else if(this.Zf)this.xd.li(a,this.Ob);else if(this.Di)this.yg.li(this.Ob);else if(this.zc&&!this.Sf)this.zc.nu&&this.zc.nu(),this.zc.select&&this.zc.select();else if(Ig(this)){var b=this.yh,c=this.Qc;Jg(b)&&b.He(c);Kg(this)}else!this.xh||this.Sf||Ig(this)?this.xh||this.zc||this.yh||this.Sf||(b=this.sm,J&&Cg(J),b=this.Za||b,x(new (A("click"))(null,b.id,"workspace"))):
(this.J&&this.J.Re?this.Bb.isEnabled()&&(Yb||z(!0),cg(Hg(this.J,this.Bb))):(b=new (A("click"))(this.xh,this.Za.id,"block"),x(b)),Kg(this),z(!1));a.preventDefault();a.stopPropagation();this.m()}};g.cancel=function(){this.Kk||(Bb(),this.Ci?gg(this.Se,this.Qc,this.Ob):this.Zf?this.xd.li(this.Qc,this.Ob):this.Di&&this.yg.li(this.Ob),this.m())};function Cb(a,b){a.Bb?(Kg(a),id(!!a.J),a.Bb.ij(b)):a.zc?a.zc.ij(b):a.Za&&!a.J&&(id(),a.Za.ij(b));b.preventDefault();b.stopPropagation();a.m()}
function Lg(a,b,c){if(a.Tf)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");a.Za||(a.Za=c);a.Qc=b;a.zm(b)}function Mg(a,b,c){if(a.Tf)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");a.J||(a.J=c);Lg(a,b,c.g)}function Kg(a){a.Bb&&!a.J&&Wf(a.Bb)}function Ng(a,b){a.xh||a.zc||(a.xh=b,b.Ia&&b!=b.jd()?Og(a,b.jd()):Og(a,b))}function Og(a,b){b.V?Og(a,b.getParent()):a.Bb=b}
function Ig(a){return(a.yh?Jg(a.yh):!1)&&!a.Sf&&(!a.J||!a.J.Re)}g.Ra=function(){return this.Di||this.Zf||this.Ci};g.Zg=function(){return this.xd?this.xd.Zg():[]};function Pg(){for(var a=ye(),b=0,c;c=a[b];b++)if(c.Eb)return!0;return!1};function Qg(a,b,c){if(!b)throw Error("Cannot create a node without a location.");this.uj=a;this.T=b;this.Tr=null;(a=c||null)&&a.Sr&&(this.Tr=a.Sr)}var Rg=!1;function Sg(a){return a?new Qg("field",a):null}function Tg(a){if(!a)return null;var b=a.type;return 1==b||3==b&&a.Fd()?Ug(a.Fd()):3==b?new Qg("next",a):2==b?new Qg("output",a):4==b?new Qg("previous",a):null}function Ug(a){return a&&a.connection?new Qg("input",a.connection):null}function Vg(a){return a?new Qg("block",a):null}
function Wg(a){return a?new Qg("stack",a):null}g=Qg.prototype;g.getType=function(){return this.uj};function Xg(a,b){a=a.T;a instanceof se||(a=a.C());if(!a||!a.h)return null;var c=a.jd();a=c.h.Xa(!0);for(var d=0,e;e=a[d];d++)if(c.id==e.id)return b=d+(b?1:-1),-1==b||b==a.length?null:Wg(a[b]);throw Error("Couldn't find "+(b?"next":"previous")+" stack?!");}function Yg(a){if(!a)return null;do var b=a.F&&a.F.G();while(b&&ub(b)==a&&(a=b));return(b=a.F||a.u)&&b.K&&b.K.Fd()?Ug(b.K.Fd()):Wg(a)}
g.C=function(){return"block"===this.getType()?this.T:"stack"===this.getType()?this.T:"workspace"===this.getType()?null:this.T.C()};
g.next=function(){switch(this.uj){case "stack":return Xg(this,!0);case "output":var a=this.T;return Vg(a.C());case "field":a:{var b=this.T,c=b.Fd();a=b.C();b=c.aa.indexOf(b)+1;c=a.A.indexOf(c);for(var d;d=a.A[c];c++){for(var e=d.aa;b<e.length;){if(Jg(e[b])||Rg){a=Sg(e[b]);break a}b++}b=0;if(d.connection){a=Ug(d);break a}}a=null}return a;case "input":a:{b=this.T.Fd();a=b.C();for(b=a.A.indexOf(b)+1;c=a.A[b];b++){d=c.aa;e=0;for(var f;f=d[e];e++)if(Jg(f)||Rg){a=Sg(f);break a}if(c.connection){a=Ug(c);
break a}}a=null}return a;case "block":return Tg(this.T.B);case "previous":return a=this.T,Vg(a.C());case "next":return a=this.T,Tg(a.K)}return null};g.gf=function(){switch(this.uj){case "workspace":var a=this.T.Xa(!0);if(0<a.length)return Wg(a[0]);break;case "stack":a=this.T;var b=a.F||a.u;return b?Tg(b):Vg(a);case "block":a=this.T;a:{a=a.A;b=0;for(var c;c=a[b];b++){for(var d=c.aa,e=0,f;f=d[e];e++)if(Jg(f)||Rg){a=Sg(f);break a}if(c.connection){a=Ug(c);break a}}a=null}return a;case "input":return Tg(this.T.K)}return null};
g.Be=function(){switch(this.uj){case "stack":return Xg(this,!1);case "field":a:{var a=this.T;var b=a.Fd();var c=a.C();a=b.aa.indexOf(a)-1;for(var d=c.A.indexOf(b),e;e=c.A[d];d--){if(e.connection&&e!==b){b=Ug(e);break a}for(e=e.aa;-1<a;){if(Jg(e[a])||Rg){b=Sg(e[a]);break a}a--}0<=d-1&&(a=c.A[d-1].aa.length-1)}b=null}return b;case "input":a:{b=this.T.Fd();c=b.C();for(a=c.A.indexOf(b);d=c.A[a];a--){if(d.connection&&d!==b){b=Ug(d);break a}d=d.aa;e=d.length-1;for(var f;f=d[e];e--)if(Jg(f)||Rg){b=Sg(f);
break a}}b=null}return b;case "block":return b=this.T,Tg(b.F||b.u);case "previous":b=this.T;if((b=b.K)&&!b.Fd())return Tg(b);break;case "next":return b=this.T,Vg(b.C())}return null};
g.qf=function(){switch(this.uj){case "stack":var a=this.T,b=a.ba();a=a.h;return(b=new p(b.x,b.y+-20),a)?new Qg("workspace",a,{Sr:b}):null;case "output":return b=this.T,(a=b.K)?Tg(a):Wg(b.C());case "field":return Vg(this.T.C());case "input":return b=this.T,Vg(b.C());case "block":return a=this.T,Yg(a);case "previous":return b=this.T,Yg(b.C());case "next":return b=this.T,Yg(b.C())}return null};function Zg(){this.Lc=this.pc=this.fk=null;this.type="marker"}function $g(a,b){var c=a.pc;a.pc=b;a.Lc&&a.Lc.ed(c,a.pc)}Zg.prototype.ed=function(){this.Lc&&this.Lc.ed(this.pc,this.pc)};Zg.prototype.pb=function(){this.Lc&&this.Lc.pb()};Zg.prototype.m=function(){this.Lc&&this.Lc.m()};function ah(){ah.j.constructor.call(this);this.type="cursor"}F(ah,Zg);ah.prototype.next=function(){var a=this.pc;if(!a)return null;for(a=a.next();a&&a.next()&&("next"==a.getType()||"block"==a.getType());)a=a.next();a&&$g(this,a);return a};ah.prototype.gf=function(){var a=this.pc;if(!a)return null;if("previous"==a.getType()||"output"==a.getType())a=a.next();(a=a.gf())&&$g(this,a);return a};
ah.prototype.Be=function(){var a=this.pc;if(!a)return null;for(a=a.Be();a&&a.Be()&&("next"==a.getType()||"block"==a.getType());)a=a.Be();a&&$g(this,a);return a};ah.prototype.qf=function(){var a=this.pc;if(!a)return null;(a=a.qf())&&"block"==a.getType()&&(a=a.Be()||a);a&&$g(this,a);return a};v(Mb,"default",ah);function bh(a){this.ae=this.Jc=null;this.Hi=Object.create(null);this.g=a}g=bh.prototype;g.Yg=function(){return this.Jc};g.si=function(a){return this.Hi[a]||null};g.Ee=function(a){a?(this.g.sa.appendChild(a),this.ae=a):this.ae=null};g.Cf=function(a){a?this.g.sa&&(this.ae?this.g.sa.insertBefore(a,this.ae):this.g.sa.appendChild(a)):this.ve=null};
g.m=function(){for(var a=Object.keys(this.Hi),b=0,c;c=a[b];b++){var d=this.Hi[c];if(d)d.m(),delete this.Hi[c];else throw Error("Marker with ID "+c+" does not exist. Can only unregister markers that exist.");}this.Hi=null;this.Jc&&(this.Jc.m(),this.Jc=null)};var ch,dh=null,eh=null,fh="",gh="";function hh(a,b,c){ih();dh=a;eh=c;a=ch;a.style.direction=b?"rtl":"ltr";a.style.display="block";b=of;fh=b.Da.gd();gh=b.je().gd();C(a,fh);C(a,gh)}function ih(){if(dh){dh=null;var a=ch;a.style.display="none";a.style.left="";a.style.top="";eh&&eh();eh=null;a.textContent="";fh&&(Ec(a,fh),fh="");gh&&(Ec(a,gh),gh="");ed(of)}}function jh(a,b,c){ch.style.left=a+"px";ch.style.top=b+"px";ch.style.height=c+"px"};function kh(a,b,c){this.xa=this.Ag;this.Jr=this.ug=null;this.Jb=new Ha(0,0);this.i=this.Jn=this.Ke=this.ib=this.va=this.rc=this.ve=this.ae=null;c&&this.bc(c);this.Ja(a);b&&(this.ug=b)}g=kh.prototype;g.Ag=null;g.name=void 0;g.Kc=!1;g.Gq=50;g.l=null;g.qe=!0;g.If=!0;g.ek=null;g.Ij=!0;g.Lf=!1;g.bc=function(a){var b=a.tooltip;"string"==typeof b&&(b=jb(a.tooltip));b&&this.Ua(b)};g.Lo=function(a){if(this.l)throw Error("Field already bound to a block.");this.l=a};
g.D=function(){!this.i&&this.l&&this.l.h&&this.l.h.I&&(this.i=this.l.h.Da.D());return this.i};g.C=function(){return this.l};g.H=function(){this.rc||(this.rc=B(rc,{},null),this.isVisible()||(this.rc.style.display="none"),this.l.P().appendChild(this.rc),this.Xf(),this.Oe(),this.Ua(this.Jr),sg(lh(this)),this.Jn=r(lh(this),"mousedown",this,this.nf),this.Wf())};g.Xf=function(){mh(this);nh(this)};g.Wf=function(){};
function mh(a){a.va=B(xc,{rx:a.D().Jj,ry:a.D().Jj,x:0,y:0,height:a.Jb.height,width:a.Jb.width,"class":"blocklyFieldRect"},a.rc)}function nh(a){a.ib=B(zc,{"class":"blocklyText"},a.rc);a.D().Nl&&a.ib.setAttribute("dominant-baseline","central");a.Ke=document.createTextNode("");a.ib.appendChild(a.Ke)}g.Bk=function(a){this.Ja(a.textContent)};g.Gr=function(a){a.textContent=this.Oa();return a};g.m=function(){ef===this&&sf();dh==this&&ih();wg(lh(this));this.Jn&&u(this.Jn);D(this.rc);this.Kc=!0};
g.Oe=function(){var a=this.rc;this.Ij&&a&&(this.l.Vb()?(C(a,"blocklyEditableText"),Ec(a,"blocklyNonEditableText"),a.style.cursor=this.Fj):(C(a,"blocklyNonEditableText"),Ec(a,"blocklyEditableText"),a.style.cursor=""))};function Jg(a){return!!a.l&&a.l.Vb()&&!!a.He&&"function"===typeof a.He}g.isVisible=function(){return this.If};g.la=function(a){if(this.If!=a){this.If=a;var b=this.P();b&&(b.style.display=a?"block":"none")}};function oh(a,b){a.ug=b}g.cq=function(){return this.ug};g.P=function(){return this.rc};
g.Ka=function(){};g.rh=function(){this.Ke&&(this.Ke.nodeValue=this.Fk());ph(this)};function ph(a,b){var c=a.D();b=void 0!=b?b:a.va?a.D().Bg:0;var d=2*b,e=c.Kj,f=0;a.ib&&(f=Kc(a.ib,c.Dg+"pt",c.Eg,c.Cg),d+=f);a.va&&(e=Math.max(e,c.Ll));a.Jb.height=e;a.Jb.width=d;qh(a,b,f);rh(a)}function qh(a,b,c){if(a.ib){var d=a.D(),e=a.Jb.height/2;a.ib.setAttribute("x",a.l.o?a.Jb.width-c-b:b);a.ib.setAttribute("y",d.Nl?e:e-d.Kj/2+d.ip)}}
function rh(a){a.va&&(a.va.setAttribute("width",a.Jb.width),a.va.setAttribute("height",a.Jb.height),a.va.setAttribute("rx",a.D().Jj),a.va.setAttribute("ry",a.D().Jj))}g.getSize=function(){if(!this.isVisible())return new Ha(0,0);this.qe?(this.rh(),this.qe=!1):this.If&&0==this.Jb.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.rh());return this.Jb};
function nf(a){if(a.va)b=a.va.getBoundingClientRect(),a=Ka(a.va),d=b.width,b=b.height;else{var b=Xf(a.l),c=a.l.h.scale;a=Ka(lh(a));var d=b.width*c;b=b.height*c;Ra?(a.x+=1.5*c,a.y+=1.5*c):Oa||Ma||(a.x-=.5*c,a.y-=.5*c);d+=1*c;b+=1*c}return new Aa(a.y,a.y+b,a.x,a.x+d)}g.Fk=function(){var a=this.Tb();if(!a)return"\u00a0";a.length>this.Gq&&(a=a.substring(0,this.Gq-2)+"\u2026");a=a.replace(/\s/g,"\u00a0");this.l&&this.l.o&&(a+="\u200f");return a};
g.Tb=function(){if(this.$m){var a=this.$m.call(this);if(null!==a)return String(a)}return String(this.Oa())};g.Gi=function(){this.qe=!0;this.i=null};function sh(a){a.qe=!0;a.l&&a.l.I&&(a.l.O(),a.l.Ma(),a.Xo())}
g.Ja=function(a){if(null!==a){var b=this.Ye(a);a=th(this,a,b);if(!(a instanceof Error)){if(b=this.cq())if(b=b.call(this,a),a=th(this,a,b),a instanceof Error)return;b=this.l;if(!b||!b.Kc){var c=this.Oa();c===a?this.Bd(a):(b&&0==w&&x(new (A("change"))(b,"field",this.name||null,c,a)),this.Bd(a),this.qe&&sh(this))}}}};function th(a,b,c){if(null===c)return a.Sp(),a.qe&&sh(a),Error();void 0!==c&&(b=c);return b}g.Oa=function(){return this.xa};g.Ye=function(a){return null===a||void 0===a?null:a};
g.Bd=function(a){this.xa=a;this.qe=!0};g.Sp=function(){};g.nf=function(a){if(this.l&&this.l.h&&(a=this.l.h.ie(a))){if(a.Tf)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");a.yh||(a.yh=this)}};g.Ua=function(a){a||""===a||(a=this.l);var b=lh(this);b?b.Yc=a:this.Jr=a};function lh(a){return a.ek||a.P()}g.Wi=function(){return!1};g.Fd=function(){for(var a=null,b=this.l,c=b.A,d=0;d<b.A.length;d++)for(var e=c[d],f=e.aa,h=0;h<f.length;h++)if(f[h]===this){a=e;break}return a};
g.vq=function(){return!1};g.Ee=function(a){a?(this.rc.appendChild(a),this.ae=a):this.ae=null};g.Cf=function(a){a?(this.rc.appendChild(a),this.ve=a):this.ve=null};g.Xo=function(){var a=this.l.h;a.kh&&this.ae&&a.Yg().ed();a.kh&&this.ve&&a.si("local_marker_1").ed()};function uh(a){var b=Wb(Ob,a.type);return b?b.M(a):(console.warn("Blockly could not create a field of type "+a.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)};function vh(a,b){a.setAttribute("role",b)}function wh(a,b,c){Array.isArray(c)&&(c=c.join(" "));a.setAttribute("aria-"+b,c)};var xh=0;function yh(){return"blockly-"+(xh++).toString(36)};function zh(a,b,c){zh.j.constructor.call(this,a,b,c);this.xe=this.il=this.hl=this.jl=this.$k=this.df=this.Ae=null}F(zh,kh);zh.M=function(a){return new zh(a.colour,void 0,a)};g=zh.prototype;g.Lf=!0;g.Fj="default";g.qe=!1;g.om=null;g.Fr=null;g.hk=0;g.bc=function(a){zh.j.bc.call(this,a);a.colourOptions&&(this.om=a.colourOptions,this.Fr=a.colourTitles);a.columns&&(this.hk=a.columns)};
g.Xf=function(){this.Jb=new Ha(this.D().ps,this.D().os);this.D().gp?this.ek=this.l.P():(mh(this),this.va.style.fillOpacity="1")};g.Ka=function(){this.D().gp?(this.l.oa.ta.setAttribute("fill",this.Oa()),this.l.oa.ta.setAttribute("stroke","#fff")):this.va&&(this.va.style.fill=this.Oa())};g.Ye=function(a){return"string"!=typeof a?null:qa(a)};g.Bd=function(a){this.xa=a;this.va?this.va.style.fill=a:this.l&&this.l.I&&(this.l.oa.ta.setAttribute("fill",a),this.l.oa.ta.setAttribute("stroke","#fff"))};
g.Tb=function(){var a=this.xa;/^#(.)\1(.)\2(.)\3$/.test(a)&&(a="#"+a[1]+a[3]+a[5]);return a};var Ah="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" ");
zh.prototype.Ag=Ah[0];var Bh=[],Ch=7;g=zh.prototype;g.He=function(){this.Im();bf.appendChild(this.Ae);mf(this,this.Jm.bind(this));this.Ae.focus({preventScroll:!0})};g.Sn=function(a){a=(a=a.target)&&a.label;null!==a&&(this.Ja(a),ef===this&&sf())};
g.Yn=function(a){var b=!1;if(38===a.keyCode)Dh(this,0,-1),b=!0;else if(40===a.keyCode)Dh(this,0,1),b=!0;else if(37===a.keyCode)Dh(this,-1,0),b=!0;else if(39===a.keyCode)Dh(this,1,0),b=!0;else if(13===a.keyCode){if(b=Eh(this))b=b&&b.label,null!==b&&this.Ja(b);tf();b=!0}b&&a.stopPropagation()};
function Dh(a,b,c){var d=a.om||Ah,e=a.hk||Ch,f=a.df%e,h=Math.floor(a.df/e);f+=b;h+=c;0>b?0>f&&0<h?(f=e-1,h--):0>f&&(f=0):0<b?f>e-1&&h<Math.floor(d.length/e)-1?(f=0,h++):f>e-1&&f--:0>c?0>h&&(h=0):0<c&&h>Math.floor(d.length/e)-1&&(h=Math.floor(d.length/e)-1);Fh(a,a.Ae.childNodes[h].childNodes[f],h*e+f)}g.$t=function(a){var b=(a=a.target)&&Number(a.getAttribute("data-index"));null!==b&&b!==this.df&&Fh(this,a,b)};g.Xt=function(){this.Ae.focus({preventScroll:!0})};
g.Yt=function(){this.Ae.blur();var a=Eh(this);a&&Ec(a,"blocklyColourHighlighted")};function Eh(a){var b=a.hk||Ch,c=a.Ae.childNodes[Math.floor(a.df/b)];return c?c.childNodes[a.df%b]:null}function Fh(a,b,c){var d=Eh(a);d&&Ec(d,"blocklyColourHighlighted");C(b,"blocklyColourHighlighted");a.df=c;wh(a.Ae,"activedescendant",b.getAttribute("id"))}
g.Im=function(){var a=this.hk||Ch,b=this.om||Ah,c=this.Fr||Bh,d=this.Oa(),e=document.createElement("table");e.className="blocklyColourTable";e.tabIndex=0;e.dir="ltr";vh(e,"grid");wh(e,"expanded",!0);wh(e,"rowcount",Math.floor(b.length/a));wh(e,"colcount",a);for(var f,h=0;h<b.length;h++){0==h%a&&(f=document.createElement("tr"),vh(f,"row"),e.appendChild(f));var l=document.createElement("td");f.appendChild(l);l.label=b[h];l.title=c[h]||b[h];l.id=yh();l.setAttribute("data-index",h);vh(l,"gridcell");wh(l,
"label",b[h]);wh(l,"selected",b[h]==d);l.style.backgroundColor=b[h];b[h]==d&&(l.className="blocklyColourSelected",this.df=h)}this.$k=r(e,"click",this,this.Sn,!0);this.jl=r(e,"mousemove",this,this.$t,!0);this.hl=r(e,"mouseenter",this,this.Xt,!0);this.il=r(e,"mouseleave",this,this.Yt,!0);this.xe=r(e,"keydown",this,this.Yn);this.Ae=e};
g.Jm=function(){this.$k&&(u(this.$k),this.$k=null);this.jl&&(u(this.jl),this.jl=null);this.hl&&(u(this.hl),this.hl=null);this.il&&(u(this.il),this.il=null);this.xe&&(u(this.xe),this.xe=null);this.df=this.Ae=null};
Pe([".blocklyColourTable {","border-collapse: collapse;","display: block;","outline: none;","padding: 1px;","}",".blocklyColourTable>tr>td {","border: .5px solid #888;","box-sizing: border-box;","cursor: pointer;","display: inline-block;","height: 20px;","padding: 0;","width: 20px;","}",".blocklyColourTable>tr>td.blocklyColourHighlighted {","border-color: #eee;","box-shadow: 2px 2px 7px 2px rgba(0,0,0,.3);","position: relative;","}",".blocklyColourSelected, .blocklyColourSelected:hover {","border-color: #eee !important;",
"outline: 1px solid #333;","position: relative;","}"]);v(Ob,"field_colour",zh);function Gh(a,b,c,d){this.g=a;this.Hl=b;this.$b=c.text;this.kg=new p(0,0);this.re=d;this.ak=c.callbackKey||c.callbackkey;this.Kp=c["web-class"]||null;this.pf=null;this.info=c}g=Gh.prototype;g.width=0;g.height=0;
g.Aa=function(){var a=this.re?"blocklyFlyoutLabel":"blocklyFlyoutButton";this.Kp&&(a+=" "+this.Kp);this.s=B(rc,{"class":a},this.g.sa);if(!this.re)var b=B(xc,{"class":"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.s);a=B(xc,{"class":this.re?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.s);var c=B(zc,{"class":this.re?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.s),d=jb(this.$b);this.g.o&&(d+="\u200f");c.textContent=d;this.re&&(this.To=
c,this.g.$a.subscribe(this.To,"flyoutForegroundColour","fill"));var e=Ja(c,"fontSize"),f=Ja(c,"fontWeight"),h=Ja(c,"fontFamily");this.width=Kc(c,e,f,h);d=Lc(d,e,f,h);this.height=d.height;this.re||(this.width+=10,this.height+=4,b.setAttribute("width",this.width),b.setAttribute("height",this.height));a.setAttribute("width",this.width);a.setAttribute("height",this.height);c.setAttribute("x",this.width/2);c.setAttribute("y",this.height/2-d.height/2+d.Gc);Hh(this);this.pf=r(this.s,"mouseup",this,this.bu);
return this.s};g.show=function(){Hh(this);this.s.setAttribute("display","block")};function Hh(a){a.s.setAttribute("transform","translate("+a.kg.x+","+a.kg.y+")")}g.moveTo=function(a,b){this.kg.x=a;this.kg.y=b;Hh(this)};g.m=function(){this.pf&&u(this.pf);this.s&&D(this.s);this.To&&this.g.$a.unsubscribe(this.To)};
g.bu=function(a){(a=this.Hl.ie(a))&&a.cancel();this.re&&this.ak?console.warn("Labels should not have callbacks. Label text: "+this.$b):this.re||this.ak&&Ih(this.Hl,this.ak)?this.re||Ih(this.Hl,this.ak)(this):console.warn("Buttons should have callbacks. Button text: "+this.$b)};Pe(".blocklyFlyoutButton {,fill: #888;,cursor: default;,},.blocklyFlyoutButtonShadow {,fill: #666;,},.blocklyFlyoutButton:hover {,fill: #aaa;,},.blocklyFlyoutLabel {,cursor: default;,},.blocklyFlyoutLabelBackground {,opacity: 0;,}".split(","));var L=Object.create(null);var Jh=Object.create(null);function Kh(a,b){if("string"!=typeof a||""==a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(Jh[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof b)throw Error('Error: Extension "'+a+'" must be a function');Jh[a]=b}function Lh(a,b){if(!b||"object"!=typeof b)throw Error('Error: Mixin "'+a+'" must be a object');Kh(a,function(){Mh(this,b)})}
function Nh(a,b,c,d){var e='Error when registering mutator "'+a+'": ';Oh(e,b.Na,"domToMutation");Oh(e,b.qa,"mutationToDom");var f=Ph(b,e);if(c&&"function"!=typeof c)throw Error('Extension "'+a+'" is not a function');Kh(a,function(){if(f){if(!Qh)throw Error(e+"Missing require for Blockly.Mutator");this.ej(new Qh(d||[]))}Mh(this,b);c&&c.apply(this)})}
function Rh(a,b,c){var d=Jh[a];if("function"!=typeof d)throw Error('Error: Extension "'+a+'" not found.');if(c){if(Sh(b).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+b.id);}else var e=Sh(b);d.apply(b);if(c){a='Error after applying mutator "'+a+'": ';if("function"!=typeof b.Na)throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof b.qa)throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');
Ph(b,a)}else{a:if(c=e,b=Sh(b),b.length!=c.length)b=!1;else{for(d=0;d<b.length;d++)if(c[d]!=b[d]){b=!1;break a}b=!0}if(!b)throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');}}function Oh(a,b,c){if(!b)throw Error(a+'missing required property "'+c+'"');if("function"!=typeof b)throw Error(a+'" required property "'+c+'" must be a function');}
function Ph(a,b){var c=void 0!==a.Zd,d=void 0!==a.ee;if(c&&d){if("function"!=typeof a.Zd)throw Error(b+"compose must be a function.");if("function"!=typeof a.ee)throw Error(b+"decompose must be a function.");return!0}if(!c&&!d)return!1;throw Error(b+'Must have both or neither of "compose" and "decompose"');}function Sh(a){var b=[];void 0!==a.Na&&b.push(a.Na);void 0!==a.qa&&b.push(a.qa);void 0!==a.Zd&&b.push(a.Zd);void 0!==a.ee&&b.push(a.ee);return b}
function Th(a,b){var c=[];"object"==typeof document&&qb(function(){for(var d in b)lb(b[d])});return function(){this.type&&-1==c.indexOf(this.type)&&(Uh(this,a,b),c.push(this.type));this.Ua(function(){var d=String(I(this,a)),e=b[d];null==e?-1==c.indexOf(this.type)&&(d="No tooltip mapping for value "+d+" of field "+a,null!=this.type&&(d+=" of block type "+this.type),console.warn(d+".")):e=jb(e);return e}.bind(this))}}
function Uh(a,b,c){var d=Fd(a,b);if(!Vh(d)){d=Wh(d);for(var e=0;e<d.length;++e){var f=d[e][1];null==c[f]&&console.warn("No tooltip mapping for value "+f+" of field "+b+" of block type "+a.type)}}}function Xh(a){"object"==typeof document&&qb(function(){lb(a)});return function(){this.Ua(function(){var b=Fd(this,"VAR");return jb(a).replace("%1",b?b.Tb():"")}.bind(this))}}Kh("parent_tooltip_when_inline",function(){this.zu=this.Yc;this.Ua(function(){var a=this.getParent();return a&&Tf(a)&&a.Yc||this.zu}.bind(this))});function Yh(a,b,c){this.bk=null;Yh.j.constructor.call(this,a,null,c);c||(this.bk=b||null)}F(Yh,kh);Yh.prototype.Ag="";Yh.M=function(a){var b=jb(a.text);return new Yh(b,void 0,a)};Yh.prototype.Ij=!1;Yh.prototype.bc=function(a){Yh.j.bc.call(this,a);this.bk=a["class"]};Yh.prototype.Xf=function(){nh(this);this.bk&&C(this.ib,this.bk)};Yh.prototype.Ye=function(a){return null===a||void 0===a?null:String(a)};v(Ob,"field_label",Yh);function Zh(a,b,c,d){if(5!=a&&!b)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=b;this.l=c;this.connection=d;this.aa=[]}g=Zh.prototype;g.align=-1;g.If=!0;g.C=function(){return this.l};function M(a,b,c){$h(a,a.aa.length,b,c);return a}
function $h(a,b,c,d){if(0>b||b>a.aa.length)throw Error("index "+b+" out of bounds.");if(!(c||""==c&&d))return b;"string"==typeof c&&(c=uh({type:"field_label",text:c}));c.Lo(a.l);a.l.I&&(c.H(),c.Ka());c.name=d;c.la(a.isVisible());c.vo&&(b=$h(a,b,c.vo));a.aa.splice(b,0,c);++b;c.So&&(b=$h(a,b,c.So));a.l.I&&(a.l=a.l,a.l.O(),a.l.Ma());return b}g.isVisible=function(){return this.If};
g.la=function(a){if(this.If!=a){this.If=a;for(var b=0,c;c=this.aa[b];b++)c.la(a);if(this.connection){this.connection=this.connection;if(a)ai(this.connection);else if(b=this.connection,bi(b,!1),b.K)for(b=tb(b.G(),!1),c=0;c<b.length;c++){for(var d=b[c],e=d.hd(!0),f=0;f<e.length;f++)bi(e[f],!1);d=Vf(d);for(f=0;f<d.length;f++)d[f].la(!1)}if(b=this.connection.G())b.P().style.display=a?"block":"none"}}};g.Gi=function(){for(var a=0,b;b=this.aa[a];a++)b.Gi()};
g.qb=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.qb(a);return this};function ci(a,b){a.align=b;a.l.I&&(a.l=a.l,a.l.O());return a}g.gj=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.gj(a)};g.$g=function(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.$g()};g.H=function(){if(this.l.h.I)for(var a=0;a<this.aa.length;a++)this.aa[a].H()};
g.m=function(){for(var a=0,b;b=this.aa[a];a++)b.m();this.connection&&this.connection.m();this.l=null};function se(a,b,c){if(di&&"undefined"!=typeof di.prototype[b])throw Error('Block prototypeName "'+b+'" conflicts with Blockly.Generator members.');this.id=c&&!a.tc(c)?c:mb();a.fm[this.id]=this;this.F=this.B=this.u=null;this.A=[];this.pe=void 0;this.disabled=!1;this.Yc="";this.contextMenu=!0;this.Md=null;this.Xd=[];this.Vp=this.Iq=this.vm=!0;this.Nf=this.V=!1;this.Xh=null;this.mc={text:null,to:!1,size:new Ha(160,80)};this.Ur=new p(0,0);this.h=a;this.Ia=a.md;this.o=a.o;this.hh=!1;this.Gd=void 0;this.I=
null;if(b){this.type=b;c=L[b];if(!c||"object"!=typeof c)throw TypeError("Unknown block type: "+b);md(this,c)}a.Wj(this);a.Ne[this.type]||(a.Ne[this.type]=[]);a.Ne[this.type].push(this);(a=Yb)||z(!0);b=Zb;try{"function"==typeof this.H&&(Zb=!1,this.H(),Zb=b),0==w&&x(new (A("create"))(this))}finally{a||z(!1),Zb=b}this.Et=this.pe;if("function"==typeof this.onchange){if((a=this.onchange)&&"function"!=typeof a)throw Error("onchange must be a function.");this.Ni&&rb(this.h.gb,this.Ni);if(this.onchange=a)this.Ni=
a.bind(this),xe(this.h,this.Ni)}}g=se.prototype;g.data=null;g.Kc=!1;g.ub="#000000";g.pg="";
g.m=function(a){if(this.h){this.Ni&&rb(this.h.gb,this.Ni);Od(this,a);0==w&&x(new (A("delete"))(this));w++;try{if(this.h){this.h.tl(this);var b=this.h;b.Ne[this.type].splice(b.Ne[this.type].indexOf(this),1);b.Ne[this.type].length||delete b.Ne[this.type];delete this.h.fm[this.id];this.h=null}J==this&&(J=null);for(var c=this.Xd.length-1;0<=c;c--)this.Xd[c].m(!1);c=0;for(var d;d=this.A[c];c++)d.m();this.A.length=0;var e=this.hd(!0);c=0;for(var f;f=e[c];c++)f.m()}finally{w--,this.Kc=!0}}};
g.Wf=function(){for(var a=0,b;b=this.A[a];a++)for(var c=0,d;d=b.aa[c];c++)d.Wf&&d.Wf()};
function Od(a,b){if(a.u){var c=null;a.u.isConnected()&&(c=a.u.K,a.u.disconnect());if(c&&b){a:{b=null;for(var d=0;d<a.A.length;d++){var e=a.A[d].connection;if(e&&1==e.type&&e.K){if(b){a=null;break a}b=e}}a=b}a&&a.isConnected()&&!a.G().V&&(a=a.K,a.disconnect(),0==Sd(a,c,!1)?c.connect(a):a.Vn(c))}}else a.F&&(c=null,a.F.isConnected()&&(c=a.F.K,a.F.disconnect()),d=ub(a),b&&d&&!d.V&&(a=a.B.K,a.disconnect(),c&&0==Sd(c,a,!1)&&c.connect(a)))}
g.hd=function(){var a=[];this.u&&a.push(this.u);this.F&&a.push(this.F);this.B&&a.push(this.B);for(var b=0,c;c=this.A[b];b++)c.connection&&a.push(c.connection);return a};g.Qk=function(a){for(var b=this.B;b;){var c=b.G();if(!c||a&&c.V)return b;b=c.B}return null};g.Ma=function(){};g.getParent=function(){return this.Md};function Nd(a,b){for(var c=0,d;d=a.A[c];c++)if(d.connection&&d.connection.G()==b)return d;return null}
function ei(a){do{var b=a;a=a.getParent();if(!a)return null}while(ub(a)==b);return a}function ub(a){return a.B&&a.B.G()}g.jd=function(){var a=this;do{var b=a;a=b.Md}while(a);return b};function pd(a,b){if(!b)return a.Xd;b=[];for(var c=0,d;d=a.A[c];c++)d.connection&&(d=d.connection.G())&&b.push(d);(a=ub(a))&&b.push(a);return b}
g.Bl=function(a){if(a!=this.Md){if(this.Md){rb(this.Md.Xd,this);if(this.F&&this.F.isConnected())throw Error("Still connected to previous block.");if(this.u&&this.u.isConnected())throw Error("Still connected to parent block.");this.Md=null}else this.h.tl(this);(this.Md=a)?a.Xd.push(this):this.h.Wj(this)}};function tb(a,b){var c=[a];a=pd(a,b);for(var d,e=0;d=a[e];e++)c.push.apply(c,tb(d,b));return c}g.Pc=function(){return this.vm&&!this.V&&!(this.h&&this.h.options.readOnly)};
g.fb=function(){return this.Iq&&!this.V&&!(this.h&&this.h.options.readOnly)};g.zl=function(a){this.Iq=a};g.Ko=function(a){this.V=a};g.Gb=function(){return this.hh};g.wr=function(a){this.hh=a};g.Vb=function(){return this.Vp&&!(this.h&&this.h.options.readOnly)};g.Ho=function(a){this.Vp=a;a=0;for(var b;b=this.A[a];a++)for(var c=0,d;d=b.aa[c];c++)d.Oe()};
g.Ym=function(a,b){var c=this.hd(!0);a=a.hd(!0);if(c.length!=a.length)throw Error("Connection lists did not match in length.");for(var d=0;d<a.length;d++)if(a[d]==b)return c[d];return null};g.Ua=function(a){this.Yc=a};g.Wm=function(){return this.ub};g.hb=function(a){this.ub=vb(a).xi};g.Ge=function(a){this.pg=a};
function Fd(a,b){if("string"!==typeof b)throw TypeError("Blockly.Block.prototype.getField expects a string with the field name but received "+(void 0===b?"nothing":b+" of type "+typeof b)+" instead");for(var c=0,d;d=a.A[c];c++)for(var e=0,f;f=d.aa[e];e++)if(f.name===b)return f;return null}g.le=function(){for(var a=[],b=0,c;c=this.A[b];b++)for(var d=0,e;e=c.aa[d];d++)e.Wi()&&a.push(e.Oa());return a};
g.ke=function(){for(var a=[],b=0,c;c=this.A[b];b++)for(var d=0,e;e=c.aa[d];d++)e.Wi()&&(e=this.h.kd(e.Oa()))&&a.push(e);return a};g.Jl=function(a){for(var b=0,c;c=this.A[b];b++)for(var d=0,e;e=c.aa[d];d++)e.Wi()&&a.S()==e.Oa()&&sh(e)};g.ul=function(a,b){for(var c=0,d;d=this.A[c];c++)for(var e=0,f;f=d.aa[e];e++)f.Wi()&&a==f.Oa()&&f.Ja(b)};function I(a,b){return(a=Fd(a,b))?a.Oa():null}function fi(a,b,c){a=Fd(a,c);if(!a)throw Error('Field "'+c+'" not found.');a.Ja(b)}
g.Sd=function(a,b){if(a){void 0===b&&(b=null);if(!this.F){if(this.u)throw Error("Remove output connection prior to adding previous connection.");this.F=this.Fi(4)}this.F.qb(b)}else if(this.F){if(this.F.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.F.m();this.F=null}};
g.Qd=function(a,b){if(a)void 0===b&&(b=null),this.B||(this.B=this.Fi(3)),this.B.qb(b);else if(this.B){if(this.B.isConnected())throw Error("Must disconnect next statement before removing connection.");this.B.m();this.B=null}};
g.Rd=function(a,b){if(a){void 0===b&&(b=null);if(!this.u){if(this.F)throw Error("Remove previous connection prior to adding output connection.");this.u=this.Fi(2)}this.u.qb(b)}else if(this.u){if(this.u.isConnected())throw Error("Must disconnect output value before removing connection.");this.u.m();this.u=null}};g.Wc=function(a){this.pe!=a&&(x(new (A("change"))(this,"inline",null,this.pe,a)),this.pe=a)};
function Tf(a){if(void 0!=a.pe)return a.pe;for(var b=1;b<a.A.length;b++)if(5==a.A[b-1].type&&5==a.A[b].type)return!1;for(b=1;b<a.A.length;b++)if(1==a.A[b-1].type&&5==a.A[b].type)return!0;return!1}g.isEnabled=function(){return!this.disabled};g.Zb=function(a){this.isEnabled()!=a&&(x(new (A("change"))(this,"disabled",null,this.disabled,!a)),this.disabled=!a)};function gi(a){for(a=ei(a);a;){if(a.disabled)return!0;a=ei(a)}return!1}g.isCollapsed=function(){return this.Nf};
g.zf=function(a){this.Nf!=a&&(x(new (A("change"))(this,"collapsed",null,this.Nf,a)),this.Nf=a)};
g.toString=function(a,b){function c(n){var q=n.Qg;!q&&n.K&&(q=n.K.Qg);return!!q&&(-1!=q.indexOf("Boolean")||-1!=q.indexOf("Number"))}function d(){h&&h.getType()==l.getType()&&h.T==l.T&&(h=null)}var e=[];b=b||"?";var f=Rg;Rg=!0;for(var h=Vg(this),l=h;h;){switch(h.getType()){case "input":var m=h.T;h.gf()?c(m)&&e.push("("):e.push(b);break;case "field":m=h.T,"_TEMP_COLLAPSED_FIELD"!=m.name&&e.push(m.Tb())}m=h;h=m.gf()||m.next();if(!h){h=m.qf();for(d();h&&!h.next();)h=h.qf(),d(),h&&"input"==h.getType()&&
c(h.T)&&e.push(")");h&&(h=h.next())}}Rg=f;for(b=2;b<e.length;b++)"("==e[b-2]&&")"==e[b]&&(e[b-2]=e[b-1],e.splice(b-1,2));e=e.reduce(function(n,q){return n+("("==n.substr(-1)||")"==q?"":" ")+q},"");e=e.trim()||"???";a&&e.length>a&&(e=e.substring(0,a-3)+"...");return e};function O(a,b){return a.ua(5,b||"")}
function hi(a,b){var c=b.type?'Block "'+b.type+'": ':"";if(b.output&&b.previousStatement)throw Error(c+"Must not have both an output and a previousStatement.");b.style&&b.style.Gd&&(a.Gd=b.style.Gd,b.style=null);if(b.style&&b.colour)throw Error(c+"Must not have both a colour and a style.");if(b.style){var d=b.style;try{a.Ge(d)}catch(gb){console.warn(c+"Style does not exist: ",d)}}else if("colour"in b)if(void 0===b.colour)console.warn(c+"Undefined colour value.");else{d=b.colour;try{a.hb(d)}catch(gb){console.warn(c+
"Illegal colour value: ",d)}}for(d=0;void 0!==b["message"+d];){var e=a,f=b["args"+d]||[],h=b["lastDummyAlign"+d],l=c,m=kb(b["message"+d],!0),n=e;var q=m;for(var t=f.length,y=[],N=0,Na=0;Na<q.length;Na++){var ma=q[Na];if("number"==typeof ma){if(1>ma||ma>t)throw Error('Block "'+n.type+'": Message index %'+ma+" out of range.");if(y[ma])throw Error('Block "'+n.type+'": Message index %'+ma+" duplicated.");y[ma]=!0;N++}}if(N!=t)throw Error('Block "'+n.type+'": Message does not reference all '+t+" arg(s).");
n=f;f=[];for(q=0;q<m.length;q++){t=m[q];"number"==typeof t&&(t=n[t-1]);if("string"==typeof t&&(t=ii(t),!t))continue;f.push(t)}(m=f.length)&&!ji(f[m-1].type)&&(m={type:"input_dummy"},h&&(m.align=h),f.push(m));h=f;f=[];for(m=0;q=h[m];m++)if(ji(q.type)){n=e;t=l;N={LEFT:-1,RIGHT:1,CENTRE:0,CENTER:0};y=null;switch(q.type){case "input_value":y=n.ua(1,q.name);break;case "input_statement":y=n.ua(3,q.name);break;case "input_dummy":y=O(n,q.name)}y?(q.check&&y.qb(q.check),q.align&&(n=N[q.align.toUpperCase()],
void 0===n?console.warn(t+"Illegal align value: ",q.align):ci(y,n)),n=y):n=null;if(n){for(q=0;t=f[q];q++)M(n,t[0],t[1]);f.length=0}}else(n=ki(e,q))&&f.push([n,q.name]);d++}void 0!==b.inputsInline&&a.Wc(b.inputsInline);void 0!==b.output&&a.Rd(!0,b.output);void 0!==b.previousStatement&&a.Sd(!0,b.previousStatement);void 0!==b.nextStatement&&a.Qd(!0,b.nextStatement);void 0!==b.tooltip&&(d=b.tooltip,d=jb(d),a.Ua(d));void 0!==b.enableContextMenu&&(d=b.enableContextMenu,a.contextMenu=!!d);void 0!==b.helpUrl&&
(d=b.helpUrl,d=jb(d),a.Fb=d);"string"==typeof b.extensions&&(console.warn(c+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+b.type+"' block."),b.extensions=[b.extensions]);void 0!==b.mutator&&Rh(b.mutator,a,!0);b=b.extensions;if(Array.isArray(b))for(c=0;c<b.length;++c)Rh(b[c],a,!1)}function Mh(a,b){var c=[],d;for(d in b)void 0!==a[d]&&c.push(d);if(c.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(c));md(a,b)}
function ki(a,b){var c=uh(b);return!c&&b.alt?"string"==typeof b.alt?(b=ii(b.alt))?ki(a,b):null:ki(a,b.alt):c}function ji(a){return"input_value"==a||"input_statement"==a||"input_dummy"==a}function ii(a){return(a=a.trim())?{type:"field_label",text:a}:null}g.ua=function(a,b){var c=null;if(1==a||3==a)c=this.Fi(a);a=new Zh(a,b,this,c);this.A.push(a);return a};
function li(a,b,c){if(b!=c){for(var d=-1,e=c?-1:a.A.length,f=0,h;h=a.A[f];f++)if(h.name==b){if(d=f,-1!=e)break}else if(c&&h.name==c&&(e=f,-1!=d))break;if(-1==d)throw Error('Named input "'+b+'" not found.');if(-1==e)throw Error('Reference input "'+c+'" not found.');a.Mn(d,e)}}
g.Mn=function(a,b){if(a==b)throw Error("Can't move input to itself.");if(a>=this.A.length)throw RangeError("Input index "+a+" out of bounds.");if(b>this.A.length)throw RangeError("Reference input "+b+" out of bounds.");var c=this.A[a];this.A.splice(a,1);a<b&&b--;this.A.splice(b,0,c)};g.Ya=function(a,b){for(var c=0,d;d=this.A[c];c++)if(d.name==a)return d.m(),this.A.splice(c,1),!0;if(b)return!1;throw Error("Input not found: "+a);};
function H(a,b){for(var c=0,d;d=a.A[c];c++)if(d.name==b)return d;return null}function mi(a,b){return(a=H(a,b))&&a.connection&&a.connection.G()}g.Af=function(a){this.mc.text!=a&&(x(new (A("change"))(this,"comment",null,this.mc.text,a)),this.Xh=this.mc.text=a)};g.vh=function(){};g.ej=function(){};g.ba=function(){return this.Ur};g.moveBy=function(a,b){if(this.Md)throw Error("Block has parent.");var c=new (A("move"))(this);this.Ur.translate(a,b);Md(c);x(c)};g.Fi=function(a){return new Pd(this,a)};
function di(a){this.we=a;this.vs=new RegExp(this.td,"g")}g=di.prototype;g.Lj=null;g.ac=null;g.tb=null;g.Kb="  ";g.$r=60;g.Qj=[];g.Lk=null;
function ni(){var a=P,b=oi;b||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),b=of);var c=[];a.H(b);b=b.Xa(!0);for(var d=0,e;e=b[d];d++){var f=pi(a,e);Array.isArray(f)&&(f=f[0]);f&&(e.u&&(f=a.vr(f),a.ac&&!e.Ef&&(f=qi(a.ac,e)+f),a.tb&&!e.Ef&&(f+=qi(a.tb,e))),c.push(f))}c=c.join("\n");c=a.finish(c);c=c.replace(/^\s+\n/,"");c=c.replace(/\n\s+$/,"\n");return c=c.replace(/[ \t]+\n/g,"\n")}function ri(a,b){return b+a.replace(/(?!\n$)\n/g,"\n"+b)}
function pi(a,b){!1===a.Lk&&console.warn("Generator init was not called before blockToCode was called.");if(!b)return"";if(!b.isEnabled())return pi(a,ub(b));if(b.Gb())return pi(a,pd(b,!1)[0]);var c=a[b.type];if("function"!=typeof c)throw Error('Language "'+a.we+'" does not know how to generate code for block type "'+b.type+'".');c=c.call(b,b);if(Array.isArray(c)){if(!b.u)throw TypeError("Expecting string from statement block: "+b.type);return[a.yl(b,c[0]),c[1]]}if("string"==typeof c)return a.ac&&
!b.Ef&&(c=qi(a.ac,b)+c),a.tb&&!b.Ef&&(c+=qi(a.tb,b)),a.yl(b,c);if(null===c)return"";throw SyntaxError("Invalid code generated: "+c);}
function Q(a,b,c,d){if(isNaN(d))throw TypeError("Expecting valid order from block: "+b.type);var e=mi(b,c);if(!e)return"";c=pi(a,e);if(""===c)return"";if(!Array.isArray(c))throw TypeError("Expecting tuple from value block: "+e.type);b=c[0];c=c[1];if(isNaN(c))throw TypeError("Expecting valid order from value block: "+e.type);if(!b)return"";e=!1;var f=Math.floor(d),h=Math.floor(c);if(f<=h&&(f!=h||0!=f&&99!=f))for(e=!0,f=0;f<a.Qj.length;f++)if(a.Qj[f][0]==d&&a.Qj[f][1]==c){e=!1;break}e&&(b="("+b+")");
return b}function si(a,b){var c=P;a=mi(a,b);b=pi(c,a);if("string"!=typeof b)throw TypeError("Expecting code from statement block: "+(a&&a.type));b&&(b=ri(b,c.Kb));return b}function ti(a,b){var c=P;c.Lj&&(a=ri(qi(c.Lj,b),c.Kb)+a);c.tb&&!b.Ef&&(a=ri(qi(c.tb,b),c.Kb)+a);c.ac&&!b.Ef&&(a+=ri(qi(c.ac,b),c.Kb));return a}function qi(a,b){b=b.id.replace(/\$/g,"$$$$");return a.replace(/%1/g,"'"+b+"'")}g.Ul="";function ui(a){var b=P;b.Ul+=a+","}g.td="{leCUI8hutHZI4480Dc}";
function vi(a,b){var c=P;if(!c.Ug[a]){var d=wi(c.Ca,a,"PROCEDURE");c.Rm[a]=d;b=b.join("\n").replace(c.vs,d);for(var e;e!=b;)e=b,b=b.replace(/^(( {2})*) {2}/gm,"$1\x00");b=b.replace(/\0/g,c.Kb);c.Ug[a]=b}return c.Rm[a]}g.H=function(){this.Ug=Object.create(null);this.Rm=Object.create(null)};g.yl=function(a,b){return b};g.finish=function(a){delete this.Ug;delete this.Rm;return a};g.vr=function(a){return a};var P=new di("JavaScript");ui("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(pa).join(","));P.Qe=0;P.Vu=1.1;P.bb=1.2;P.Ga=2;P.Tu=3;P.Pu=3;P.Lu=4.1;P.Xu=4.2;P.Oh=4.3;P.Mh=4.4;P.Wu=4.5;P.Yu=4.6;P.Qu=4.7;P.Ju=4.8;
P.Ru=5;P.Sl=5.1;P.Lh=5.2;P.Nh=5.3;P.Jg=6.1;P.Jf=6.2;P.Nu=7;P.Hs=8;P.Su=8;P.Uu=8;P.op=9;P.Ku=10;P.Ou=11;P.Mu=12;P.Ql=13;P.Rl=14;P.Pj=15;P.Kf=16;P.Zu=17;P.Fc=18;P.ra=99;P.Qj=[[P.Ga,P.bb],[P.Ga,P.Ga],[P.bb,P.bb],[P.bb,P.Ga],[P.Mh,P.Mh],[P.Sl,P.Sl],[P.Jf,P.Jf],[P.Ql,P.Ql],[P.Rl,P.Rl]];P.Lk=!1;
P.H=function(a){Object.getPrototypeOf(this).H.call(this);this.Ca?this.Ca.reset():this.Ca=new xi(this.Ul);this.Ca.Mo(a.W);for(var b=this.Ca,c=yi(a),d=0;d<c.length;d++)b.Sb(c[d].S(),"VARIABLE");b=this.Ca;c=zi(a);c=c[0].concat(c[1]);for(d=0;d<c.length;d++)b.Sb(c[d][0],"PROCEDURE");b=[];c=ke(a,!1);d=Object.create(null);for(var e=0,f;f=c[e];e++){var h=f.jv;!h&&f.rt&&(h=f.rt,Ai[f.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+f.type+"')"),Ai[f.type]=
!0));if(h)for(f=h(),h=0;h<f.length;h++)d[f[h]]=!0}d=Object.keys(d);for(c=0;c<d.length;c++)b.push(this.Ca.Sb(d[c],Bi));a=yi(a);for(c=0;c<a.length;c++)b.push(this.Ca.Sb(a[c].S(),"VARIABLE"));b.length&&(this.Ug.variables="var "+b.join(", ")+";");this.Lk=!0};P.finish=function(a){var b=nd(this.Ug);a=Object.getPrototypeOf(this).finish.call(this,a);this.Lk=!1;this.Ca.reset();return b.join("\n\n")+"\n\n\n"+a};P.vr=function(a){return a+";\n"};
P.nr=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'");return"'"+a+"'"};P.qv=function(a){return a.split(/\n/g).map(this.nr).join(" + '\\n' +\n")};
P.yl=function(a,b){var c="";if(!a.u||!a.u.K){var d=a.mc.text;d&&(d=Ea(d,this.$r-3),c+=ri(d+"\n","// "));for(var e=0;e<a.A.length;e++)if(1==a.A[e].type){var f=a.A[e].connection.G();if(f){d=[];f=tb(f,!0);for(var h=0;h<f.length;h++){var l=f[h].mc.text;l&&d.push(l)}d.length&&d.push("");(d=d.join("\n"))&&(c+=ri(d,"// "))}}}a=a.B&&a.B.G();a=pi(this,a);return c+b+a};
P.Ed=function(a,b,c,d,e){c=c||0;e=e||this.ra;a.h.options.ye&&c--;var f=a.h.options.ye?"1":"0";a=0<c?Q(this,a,b,this.Jf)||f:0>c?Q(this,a,b,this.Jg)||f:d?Q(this,a,b,this.Oh)||f:Q(this,a,b,e)||f;if(Ci(a))a=Number(a)+c,d&&(a=-a);else{if(0<c){a=a+" + "+c;var h=this.Jf}else 0>c&&(a=a+" - "+-c,h=this.Jg);d&&(a=c?"-("+a+")":"-"+a,h=this.Oh);h=Math.floor(h);e=Math.floor(e);h&&e>=h&&(a="("+a+")")}return a};function Di(){this.pd=[];this.mg=this.vb=this.dl=this.Xk=this.Wk=this.dk=this.Yk=this.Uf=this.io=null}g=Di.prototype;
g.O=function(a){var b=document.createElement("div");b.className="blocklyMenu goog-menu blocklyNonSelectable";b.tabIndex=0;this.mg&&vh(b,this.mg);this.vb=b;for(var c=0,d;d=this.pd[c];c++)b.appendChild(d.Aa());this.Yk=r(b,"mouseover",this,this.yt,!0);this.dk=r(b,"click",this,this.tt,!0);this.Wk=r(b,"mouseenter",this,this.wt,!0);this.Xk=r(b,"mouseleave",this,this.xt,!0);this.dl=r(b,"keydown",this,this.ut);a.appendChild(b)};g.focus=function(){var a=this.vb;a&&(a.focus({preventScroll:!0}),C(a,"blocklyFocused"))};
g.fj=function(a){this.mg=a};g.m=function(){this.Yk&&(u(this.Yk),this.Yk=null);this.dk&&(u(this.dk),this.dk=null);this.Wk&&(u(this.Wk),this.Wk=null);this.Xk&&(u(this.Xk),this.Xk=null);this.dl&&(u(this.dl),this.dl=null);for(var a=0,b;b=this.pd[a];a++)b.m();this.vb=null};function Ei(a,b){for(var c=a.vb;b&&b!=c;){if(Fc(b,"blocklyMenuItem"))for(var d=0,e;e=a.pd[d];d++)if(e.vb==b)return e;b=b.parentElement}return null}
g.Fe=function(a){var b=this.Uf;b&&(b.Fe(!1),this.Uf=null);if(a){a.Fe(!0);this.Uf=a;b=this.vb;var c=a.vb,d=Ka(c),e=Ka(b);var f=Ja(b,"borderLeftWidth");Ja(b,"borderRightWidth");var h=Ja(b,"borderTopWidth");Ja(b,"borderBottomWidth");f=d.x-e.x-parseFloat(f);d=d.y-e.y-parseFloat(h);c=new Ha(c.offsetWidth,c.offsetHeight);e=b.clientHeight-c.height;h=b.scrollLeft;var l=b.scrollTop;h+=Math.min(f,Math.max(f-(b.clientWidth-c.width),0));l+=Math.min(d,Math.max(d-e,0));f=new p(h,l);b.scrollLeft=f.x;b.scrollTop=
f.y;wh(b,"activedescendant",a.S())}};function Fi(a,b,c){b+=c;for(var d;d=a.pd[b];){if(d.isEnabled()){a.Fe(d);break}b+=c}}g.yt=function(a){(a=Ei(this,a.target))&&(a.isEnabled()?this.Uf!=a&&this.Fe(a):this.Fe(null))};g.tt=function(a){var b=this.io;this.io=null;b&&"number"==typeof a.clientX&&1>xa(b,new p(a.clientX,a.clientY))||(a=Ei(this,a.target))&&a.isEnabled()&&a.Sh&&a.Sh(a)};g.wt=function(){this.focus()};g.xt=function(){if(this.vb){var a=this.vb;a&&(a.blur(),Ec(a,"blocklyFocused"));this.Fe(null)}};
g.ut=function(a){if(this.pd.length&&!(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)){var b=this.Uf;switch(a.keyCode){case 13:case 32:b&&b.isEnabled()&&b.Sh&&b.Sh(b);break;case 38:b=this.pd.indexOf(this.Uf);Fi(this,0>b?this.pd.length:b,-1);break;case 40:Fi(this,this.pd.indexOf(this.Uf),1);break;case 33:case 36:Fi(this,-1,1);break;case 34:case 35:Fi(this,this.pd.length,-1);break;default:return}a.preventDefault();a.stopPropagation()}};
g.getSize=function(){var a=this.vb,b=Ia(a);b.height=a.scrollHeight;return b};function Gi(a,b){this.ci=a;this.xa=b;this.zk=!0;this.vb=null;this.Eo=!1;this.mg=null;this.lq=this.mm=this.lm=!1;this.Sh=null}g=Gi.prototype;
g.Aa=function(){var a=document.createElement("div");a.id=yh();this.vb=a;a.className="blocklyMenuItem goog-menuitem "+(this.zk?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.mm?"blocklyMenuItemSelected goog-option-selected ":"")+(this.lq?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.Eo?"blocklyMenuItemRtl goog-menuitem-rtl ":"");var b=document.createElement("div");b.className="blocklyMenuItemContent goog-menuitem-content";if(this.lm){var c=document.createElement("div");
c.className="blocklyMenuItemCheckbox goog-menuitem-checkbox";b.appendChild(c)}c=this.ci;"string"==typeof this.ci&&(c=document.createTextNode(this.ci));b.appendChild(c);a.appendChild(b);this.mg&&vh(a,this.mg);wh(a,"selected",this.lm&&this.mm||!1);wh(a,"disabled",!this.zk);return a};g.m=function(){this.vb=null};g.S=function(){return this.vb.id};g.Oa=function(){return this.xa};g.fj=function(a){this.mg=a};
g.Fe=function(a){this.lq=a;var b=this.vb;b&&this.isEnabled()&&(a?(C(b,"blocklyMenuItemHighlight"),C(b,"goog-menuitem-highlight")):(Ec(b,"blocklyMenuItemHighlight"),Ec(b,"goog-menuitem-highlight")))};g.isEnabled=function(){return this.zk};g.Zb=function(a){this.zk=a};function Hi(a,b,c){a.Sh=b.bind(c)};var Ii={mk:null,Xb:null,show:function(a,b,c){hh(Ii,c,Ii.m);if(b.length){var d=Ii.du(b,c);Ii.Xb=d;Ii.kg(d,a,c);setTimeout(function(){d.focus()},1);Ii.mk=null}else Ii.pb()},du:function(a,b){var c=new Di;c.fj("menu");for(var d=0,e;e=a[d];d++){var f=new Gi(e.text);f.Eo=b;f.fj("menuitem");c.pd.push(f);f.Zb(e.enabled);e.enabled&&Hi(f,function(){Ii.pb();this.ga(this.scope)},e)}return c},kg:function(a,b,c){var d=La();d=new Aa(d.y,document.documentElement.clientHeight+d.y,d.x,document.documentElement.clientWidth+
d.x);var e=new Aa(b.clientY+d.top,b.clientY+d.top,b.clientX+d.left,b.clientX+d.left);Ii.bt(a);b=a.getSize();c&&(e.left+=b.width,e.right+=b.width,d.left+=b.width,d.right+=b.width);var f=e.bottom+b.height>=d.bottom?e.top-b.height:e.bottom;c?(c=Math.max(e.right-b.width,d.left),c=Math.min(c,d.right-b.width)):(c=Math.min(e.left,d.right-b.width),c=Math.max(c,d.left));0>f?jh(c,0,b.height+f):jh(c,f,b.height);a.focus()},bt:function(a){a.O(ch);var b=a.vb;C(b,"blocklyContextMenu");r(b,"contextmenu",null,$a);
a.focus()},pb:function(){dh==Ii&&ih();Ii.mk=null},m:function(){Ii.Xb&&(Ii.Xb.m(),Ii.Xb=null)},$j:function(a,b){return function(){w++;try{var c=vd(b,a.h),d=a.ba();d.x=a.o?d.x-28:d.x+28;d.y+=56;c.moveBy(d.x,d.y)}finally{w--}0==w&&!c.V&&x(new (A("create"))(c));c.select()}}};function Ji(){Ki=this;this.Tc=Object.create(null)}var Ki=null;Ji.prototype.register=function(a){if(this.Tc[a.id])throw Error('Menu item with ID "'+a.id+'" is already registered.');this.Tc[a.id]=a};Ji.prototype.unregister=function(a){if(!this.Tc[a])throw Error('Menu item with ID "'+a+'" not found.');delete this.Tc[a]};Ji.prototype.getItem=function(a){return this.Tc[a]||null};
function Li(a,b){var c=[],d=Ki.Tc;Object.keys(d).forEach(function(e){e=d[e];if(a==e.yc){var f=e.Ta(b);"hidden"!=f&&(e={text:"function"==typeof e.Pb?e.Pb(b):e.Pb,enabled:"enabled"==f,ga:e.ga,scope:b,weight:e.weight},c.push(e))}});c.sort(function(e,f){return e.weight-f.weight});return c}new Ji;function Mi(a,b,c){Mi.j.constructor.call(this,c);this.Nq=a;this.Kq=b}F(Mi,Se);Mi.prototype.type="selected";Mi.prototype.R=function(){var a=Mi.j.R.call(this);a.oldElementId=this.Nq;a.newElementId=this.Kq;return a};Mi.prototype.M=function(a){Mi.j.M.call(this,a);this.Nq=a.oldElementId;this.Kq=a.newElementId};v(Nb,"selected",Mi);function Ni(a,b){Ni.j.constructor.call(this,a,b);this.Ad=a.h.kk[b];this.Lp=a.h.kk[oa[b]];this.hg=new p(0,0);this.Me=Oi;this.K=null}F(Ni,Pd);var Oi=-1;g=Ni.prototype;g.m=function(){Ni.j.m.call(this);1==this.Me&&Pi(this.Ad,this,this.y)};g.C=function(){return Ni.j.C.call(this)};g.G=function(){return Ni.j.G.call(this)};function Wd(a,b){var c=a.x-b.x;a=a.y-b.y;return Math.sqrt(c*c+a*a)}
function Qi(a,b){if(!a.l.h.Ra()){var c=a.l.jd();if(!c.Ia){var d=!1;if(!c.fb()){c=b.C().jd();if(!c.fb())return;b=a;d=!0}var e=J==c;e||c.Vj();var f=b.x+28+Math.floor(10*Math.random())-a.x,h=b.y+28+Math.floor(10*Math.random())-a.y;d&&(h=-h);c.o&&(f=b.x-28-Math.floor(10*Math.random())-a.x);c.moveBy(f,h);e||c.Xi()}}}
g.moveTo=function(a,b){if(this.Me==Oi){var c=this.Ad;c.Qa.splice(Ri(c,b),0,this);this.Me=1}else 1==this.Me&&(Pi(this.Ad,this,this.y),c=this.Ad,c.Qa.splice(Ri(c,b),0,this));this.x=a;this.y=b};g.moveBy=function(a,b){this.moveTo(this.x+a,this.y+b)};function Si(a,b){a.moveTo(b.x+a.hg.x,b.y+a.hg.y)}function Ti(a,b,c){a.hg.x=b;a.hg.y=c}
function Ui(a){var b=a.K.x-a.x,c=a.K.y-a.y;if(0!=b||0!=c){a=a.G();var d=a.P();if(!d)throw Error("block is not rendered.");d=bb(d);a.P().setAttribute("transform","translate("+(d.x-b)+","+(d.y-c)+")");ag(a,-b,-c)}}
g.closest=function(a,b){var c=this.Lp;if(c.Qa.length){var d=this.y,e=this.x;this.x=e+b.x;this.y=d+b.y;var f=Ri(c,this.y);b=null;for(var h=a,l,m=f-1;0<=m&&Math.abs(c.Qa[m].y-this.y)<=a;)l=c.Qa[m],0==Sd(this,l,!0,h)&&(b=l,h=Wd(l,this)),m--;for(;f<c.Qa.length&&Math.abs(c.Qa[f].y-this.y)<=a;)l=c.Qa[f],0==Sd(this,l,!0,h)&&(b=l,h=Wd(l,this)),f++;this.x=e;this.y=d;a={connection:b,ql:h}}else a={connection:null,ql:a};return a};
function bi(a,b){b&&1==a.Me||!b&&0==a.Me||a.l.Ia||(b?(b=a.Ad,b.Qa.splice(Ri(b,a.y),0,a),a.Me=1):(1==a.Me&&Pi(a.Ad,a,a.y),a.Me=0))}function ai(a){bi(a,!0);var b=[];if(1!=a.type&&3!=a.type)return b;if(a=a.G()){if(a.isCollapsed()){var c=[];a.u&&c.push(a.u);a.B&&c.push(a.B);a.F&&c.push(a.F)}else c=a.hd(!0);for(var d=0;d<c.length;d++)b.push.apply(b,ai(c[d]));b.length||(b[0]=a)}return b}
g.Vn=function(a){var b=this.C();if(Zb){var c=Yb;setTimeout(function(){b.Kc||b.getParent()||(z(c),Qi(this,a),z(!1))}.bind(this),250)}};g.ym=function(a,b){Ni.j.ym.call(this,a,b);a.I&&a.O();b.I&&(zd(b),b.O(),b.P().style.display="block")};g.$i=function(){Ni.j.$i.call(this);var a=this.G();a&&(a.ld(),a.O(!1),a=this.C(),a.I&&a.O())};g.Jq=function(a){return Vi(this.Lp,this,a)};
g.ik=function(a){Ni.j.ik.call(this,a);var b=this.C();a=a.C();var c=b.I,d=a.I;c&&zd(b);d&&zd(a);c&&d&&(3==this.type||4==this.type?a.O():b.O());if(b=Nd(b,a))b=b.isVisible(),a.P().style.display=b?"block":"none"};g.Vq=function(){!this.isConnected()||this.K&&0==Sd(this,this.K,!1)||(Od(Rd(this)?this.G():this.l),this.l.Ma())};function Wi(){Wi.j.constructor.call(this)}F(Wi,ah);g=Wi.prototype;g.next=function(){var a=this.pc;if(!a)return null;(a=Xi(this,a,this.Yo))&&$g(this,a);return a};g.gf=function(){return this.next()};g.Be=function(){var a=this.pc;if(!a)return null;(a=Yi(this,a,this.Yo))&&$g(this,a);return a};g.qf=function(){return this.Be()};function Xi(a,b,c){if(!b)return null;var d=b.gf()||b.next();if(c(d))return d;if(d)return Xi(a,d,c);b=Zi(a,b.qf());return c(b)?b:b?Xi(a,b,c):null}
function Yi(a,b,c){if(!b)return null;var d=b.Be();d=d?$i(a,d):b.qf();return c(d)?d:d?Yi(a,d,c):null}g.Yo=function(a){var b=!1;a=a&&a.getType();if("output"==a||"input"==a||"field"==a||"next"==a||"previous"==a||"workspace"==a)b=!0;return b};function Zi(a,b){if(!b)return null;var c=b.next();return c?c:Zi(a,b.qf())}function $i(a,b){if(!b.gf())return b;for(b=b.gf();b.next();)b=b.next();return $i(a,b)}v(Mb,"basicCursor",Wi);function aj(){aj.j.constructor.call(this)}F(aj,Wi);aj.prototype.Yo=function(a){var b=!1,c=a&&a.getType();a&&(a=a.T,"field"==c&&a&&a.vq()&&Jg(a)&&(b=!0));return b};function R(a,b,c){this.s=B(rc,{},null);this.s.tj="";this.style=bj(a.Da.D(),null);this.oa=a.Da.Eq(this.s,this.style);this.Bo=this.I=!1;this.h=a;this.F=this.B=this.u=null;this.zj=ob()&&!!a.kc;var d=this.oa.ta;d.Yc=this;sg(d);R.j.constructor.call(this,a,b,c);this.s.dataset?this.s.dataset.id=this.id:Ma&&this.s.setAttribute("data-id",this.id)}F(R,se);g=R.prototype;g.height=0;g.width=0;g.ic=null;
g.ld=function(){if(!this.h.I)throw TypeError("Workspace is headless.");for(var a=0,b;b=this.A[a];a++)b.H();b=Vf(this);for(a=0;a<b.length;a++)We(b[a]);this.Ka();Qf(this.oa,"blocklyDraggable",this.fb());a=this.P();this.h.options.readOnly||this.kt||!a||r(a,"mousedown",this,this.nf);this.kt=!0;a.parentNode||this.h.sa.appendChild(a)};
g.select=function(){if(this.V&&this.getParent())this.getParent().select();else if(J!=this){var a=null;if(J){a=J.id;w++;try{Cg(J)}finally{w--}}a=new (A("selected"))(a,this.id,this.h.id);x(a);J=this;this.Vj()}};function Cg(a){if(J==a){var b=new (A("selected"))(a.id,null,a.h.id);b.Cb=a.h.id;x(b);J=null;a.Xi()}}g.yb=null;g.Xh=null;g.Ic=null;g.Dc=null;function Vf(a){var b=[];a.yb&&b.push(a.yb);a.Ic&&b.push(a.Ic);a.Dc&&b.push(a.Dc);return b}
g.Bl=function(a){var b=this.Md;if(a!=b){Ic();R.j.Bl.call(this,a);Jc();var c=this.P();if(!this.h.qn&&c){var d=this.ba();a?(a.P().appendChild(c),a=this.ba(),ag(this,a.x-d.x,a.y-d.y)):b&&(this.h.sa.appendChild(c),this.translate(d.x,d.y));this.Ka()}}};g.ba=function(){var a=0,b=0,c=this.zj?this.h.kc.Cd:null,d=this.P();if(d){do{var e=bb(d);a+=e.x;b+=e.y;this.zj&&this.h.kc.Cd.firstChild==d&&(e=this.h.kc.Zm(),a+=e.x,b+=e.y);d=d.parentNode}while(d&&d!=this.h.sa&&d!=c)}return new p(a,b)};
g.moveBy=function(a,b){if(this.Md)throw Error("Block has parent.");var c=0==w;if(c)var d=new (A("move"))(this);var e=this.ba();this.translate(e.x+a,e.y+b);ag(this,a,b);c&&(Md(d),x(d));Ad(this.h)};g.translate=function(a,b){this.P().setAttribute("transform","translate("+a+","+b+")")};g.moveTo=function(a){var b=this.ba();this.moveBy(a.x-b.x,a.y-b.y)};g.Ln=function(a){this.zj?this.h.kc.sg(a.x,a.y):(this.s.tj="translate("+a.x+","+a.y+")",this.s.setAttribute("transform",this.s.tj+this.s.jj))};
function cj(a){if(a.h&&!a.h.Ra()&&!a.getParent()&&!a.Ia){var b=a.h.Oc;if(b&&b.qu){var c=b.Po,d=c/2,e=a.ba();b=Math.round((e.x-d)/c)*c+d-e.x;c=Math.round((e.y-d)/c)*c+d-e.y;b=Math.round(b);c=Math.round(c);0==b&&0==c||a.moveBy(b,c)}}}g.Xg=function(){var a=this.ba(),b=Xf(this);if(this.o){var c=a.x-b.width;var d=a.x}else c=a.x,d=a.x+b.width;return new Aa(a.y,a.y+b.height,c,d)};g.Gi=function(){this.oa.ai=this.h.Da.D();for(var a=0,b;b=this.A[a];a++)b.Gi()};
g.zf=function(a){this.Nf!=a&&(R.j.zf.call(this,a),a?this.I&&this.O():dj(this))};function dj(a){for(var b=a.isCollapsed(),c=0,d;d=a.A[c];c++)"_TEMP_COLLAPSED_INPUT"!=d.name&&d.la(!b);if(b){d=Vf(a);for(c=0;b=d[c];c++)b.la(!1);c=a.toString(30);(d=Fd(a,"_TEMP_COLLAPSED_FIELD"))?d.Ja(c):(d=H(a,"_TEMP_COLLAPSED_INPUT")||O(a,"_TEMP_COLLAPSED_INPUT"),M(d,new Yh(c),"_TEMP_COLLAPSED_FIELD"))}else zd(a),a.Ya("_TEMP_COLLAPSED_INPUT")}
g.nf=function(a){var b=this.h&&this.h.ie(a);if(b){if(b.Tf)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");Ng(b,this);b.Qc=a}};g.showHelp=function(){var a="function"==typeof this.Fb?this.Fb():this.Fb;a&&window.open(a)};g.ij=function(a){if(this.h.options.readOnly||!this.contextMenu)var b=null;else b=Li("block",{block:this}),this.ce&&this.ce(b);b&&b.length&&(Ii.show(a,b,this.o),Ii.mk=this)};
function ag(a,b,c){if(a.I){for(var d=a.hd(!1),e=0;e<d.length;e++)d[e].moveBy(b,c);d=Vf(a);for(e=0;e<d.length;e++)Xe(d[e]);for(e=0;e<a.Xd.length;e++)ag(a.Xd[e],b,c)}}g.Bf=function(a){if(a){var b=this.P();b.tj="";b.jj="";Xd=Xd.concat(this.hd(!0));C(this.s,"blocklyDragging")}else Xd=[],Ec(this.s,"blocklyDragging");for(b=0;b<this.Xd.length;b++)this.Xd[b].Bf(a)};g.zl=function(a){R.j.zl.call(this,a);Qf(this.oa,"blocklyDraggable",a)};g.Ho=function(a){R.j.Ho.call(this,a);a=Vf(this);for(var b=0;b<a.length;b++)a[b].Oe()};
g.Ko=function(a){R.j.Ko.call(this,a);this.Ka()};g.wr=function(a){this.hh!=a&&(this.hh=a)&&(this.hb(this.h.Da.D().zs),Qf(this.oa,"blocklyInsertionMarker",!0))};g.P=function(){return this.s};
g.m=function(a,b){if(this.h){pg=og=null;xg();wg(this.oa.ta);Ic();var c=this.h;J==this&&(Cg(this),ej(this.h));Ii.mk==this&&Ii.pb();if(b&&this.I){Od(this,a);b=this.h;var d=this.P();b.wd.play("delete");var e=bg(b,d);d=d.cloneNode(!0);d.Bu=e.x;d.Cu=e.y;d.setAttribute("transform","translate("+e.x+","+e.y+")");E(b).appendChild(d);d.zp=d.getBBox();wf(d,b.o,new Date,b.scale)}this.I=!1;if(this.ic){for(var f in this.ic)clearTimeout(this.ic[f]);this.ic=null}f=Vf(this);for(b=0;b<f.length;b++)f[b].m();R.j.m.call(this,
!!a);D(this.s);Ad(c);this.s=null;Jc()}};g.Ka=function(){this.oa.Ka(this);for(var a=Vf(this),b=0;b<a.length;b++)a[b].Ka();for(a=0;b=this.A[a];a++)for(var c=0,d;d=b.aa[c];c++)d.Ka()};function zd(a){var b=pd(a,!1);a.Ka();if(!a.isCollapsed()){a=0;for(var c;c=b[a];a++)c.I&&zd(c)}}g.qt=function(){return this.Ic};
g.Af=function(a){if(!Ed)throw Error("Missing require for Blockly.Comment");this.mc.text!=a&&(R.j.Af.call(this,a),a=null!=a,!!this.Ic==a?(a=this.Ic,a.rg?a.rg.value=a.xb.text:a.jg&&(a.jg.firstChild.textContent=a.xb.text)):(a?this.Xh=this.Ic=new Ed(this):(this.Ic.m(),this.Xh=this.Ic=null),this.I&&(this.O(),this.Ma())))};
g.vh=function(a,b){if(!Ye)throw Error("Missing require for Blockly.Warning");this.ic||(this.ic=Object.create(null));var c=b||"";if(c)this.ic[c]&&(clearTimeout(this.ic[c]),delete this.ic[c]);else for(var d in this.ic)clearTimeout(this.ic[d]),delete this.ic[d];if(this.h.Ra()){var e=this;this.ic[c]=setTimeout(function(){e.h&&(delete e.ic[c],e.vh(a,c))},100)}else{this.Ia&&(a=null);b=!1;if("string"==typeof a){d=ei(this);for(var f=null;d;)d.isCollapsed()&&(f=d),d=ei(d);f&&f.vh(k.COLLAPSED_WARNINGS_WARNING,
"TEMP_COLLAPSED_WARNING_");this.Dc||(this.Dc=new Ye(this),b=!0);Ze(this.Dc,a,c)}else this.Dc&&!c?(this.Dc.m(),b=!0):this.Dc&&(b=this.Dc.Tb(),Ze(this.Dc,"",c),(d=this.Dc.Tb())||this.Dc.m(),b=b!=d);b&&this.I&&(this.O(),this.Ma())}};g.ej=function(a){this.yb&&this.yb!==a&&this.yb.m();a&&(a.v=this,this.yb=a,We(a));this.I&&(this.O(),this.Ma())};g.Zb=function(a){this.isEnabled()!=a&&(R.j.Zb.call(this,a),this.I&&!gi(this)&&zd(this))};g.Fe=function(a){this.I&&this.oa.Lr(a)};
g.Vj=function(){Qf(this.oa,"blocklySelected",!0)};g.Xi=function(){Qf(this.oa,"blocklySelected",!1)};g.Go=function(a){Qf(this.oa,"blocklyDraggingDelete",a)};g.Wm=function(){return this.style.Te};g.hb=function(a){R.j.hb.call(this,a);a=fj(this.h.Da.D(),this.ub);this.oa.Ge(a.style);this.style=a.style;this.pg=a.name;this.Ka()};g.Ge=function(a){var b=bj(this.h.Da.D(),a);this.pg=a;if(b)this.Gd=b.Gd,this.oa.Ge(b),this.ub=b.Te,this.style=b,this.Ka();else throw Error("Invalid style name: "+a);};
function Wf(a){do{var b=a.P(),c=b.parentNode,d=c.childNodes;d[d.length-1]!==b&&c.appendChild(b);a=a.getParent()}while(a)}g.Sd=function(a,b){R.j.Sd.call(this,a,b);this.I&&(this.O(),this.Ma())};g.Qd=function(a,b){R.j.Qd.call(this,a,b);this.I&&(this.O(),this.Ma())};g.Rd=function(a,b){R.j.Rd.call(this,a,b);this.I&&(this.O(),this.Ma())};g.Wc=function(a){R.j.Wc.call(this,a);this.I&&(this.O(),this.Ma())};g.Ya=function(a,b){a=R.j.Ya.call(this,a,b);this.I&&(this.O(),this.Ma());return a};
g.Mn=function(a,b){R.j.Mn.call(this,a,b);this.I&&(this.O(),this.Ma())};g.ua=function(a,b){a=R.j.ua.call(this,a,b);this.I&&(this.O(),this.Ma());return a};function yd(a,b){a.F&&bi(a.F,b);a.u&&bi(a.u,b);if(a.B){bi(a.B,b);var c=a.B.G();c&&yd(c,b)}if(!a.Nf)for(c=0;c<a.A.length;c++){var d=a.A[c].connection;d&&(bi(d,b),(d=d.G())&&yd(d,b))}}
g.hd=function(a){var b=[];if(a||this.I)if(this.u&&b.push(this.u),this.F&&b.push(this.F),this.B&&b.push(this.B),a||!this.Nf){a=0;for(var c;c=this.A[a];a++)c.connection&&b.push(c.connection)}return b};g.Qk=function(a){return R.j.Qk.call(this,a)};g.Ym=function(a,b){return R.j.Ym.call(this,a,b)};g.Fi=function(a){return new Ni(this,a)};
g.Ma=function(){if(this.h&&!this.h.Ra()){var a=this.jd();if(!a.Ia)for(var b=this.hd(!1),c=0,d;d=b[c];c++){d.isConnected()&&Rd(d)&&d.G().Ma();for(var e=d.Jq(28),f=0,h;h=e[f];f++)d.isConnected()&&h.isConnected()||h.C().jd()!=a&&(Rd(d)?Qi(h,d):Qi(d,h))}}};function cg(a){var b=Yb;setTimeout(function(){z(b);cj(a);z(!1)},125);setTimeout(function(){z(b);a.Ma();z(!1)},250)}g.getParent=function(){return R.j.getParent.call(this)};g.jd=function(){return R.j.jd.call(this)};
g.O=function(a){if(!this.Bo){this.Bo=!0;try{this.I=!0;Ic();this.isCollapsed()&&dj(this);this.h.Da.O(this);var b=this.ba();this.F&&Si(this.F,b);this.u&&Si(this.u,b);for(var c=0;c<this.A.length;c++){var d=this.A[c].connection;d&&(Si(d,b),d.isConnected()&&Ui(d))}this.B&&(Si(this.B,b),this.B.isConnected()&&Ui(this.B));if(!1!==a){var e=this.getParent();e?e.O(!0):Ad(this.h)}Jc();this.Xo()}finally{this.Bo=!1}}};g.Xo=function(){this.h.kh&&this.oa.ii&&this.h.Yg().ed();this.h.kh&&this.oa.Fn&&this.h.si("local_marker_1").ed()};
g.Ee=function(a){this.oa.Ee(a)};g.Cf=function(a){this.oa.Cf(a)};function Xf(a){var b=a.height,c=a.width,d=ub(a);d&&(d=Xf(d),a=a.h.Da.D().Pl,b+=d.height-a,c=Math.max(c,d.width));return{height:b,width:c}};function gj(){}gj.prototype.Tn=function(){};gj.prototype.Un=function(){};gj.prototype.al=function(){};gj.prototype.bl=function(){};function hj(){hj.j.constructor.call(this);this.zg=!1}F(hj,gj);hj.prototype.ap=function(a,b){a instanceof R?(a=!a.getParent()&&a.Pc(),this.yj(a&&!b)):this.yj(a.Pc());return this.zg};hj.prototype.yj=function(a){this.zg=a};function ij(a,b,c){ij.j.constructor.call(this,c);this.Pq=a;this.Lq=b}F(ij,Se);ij.prototype.type="toolbox_item_select";ij.prototype.R=function(){var a=ij.j.R.call(this);a.oldItem=this.Pq;a.newItem=this.Lq;return a};ij.prototype.M=function(a){ij.j.M.call(this,a);this.Pq=a.oldItem;this.Lq=a.newItem};v(Nb,"toolbox_item_select",ij);function jj(a,b,c){this.ne=a.toolboxitemid||yh();this.xn=(this.ze=c||null)?this.ze.xn+1:0;this.Ir=a;this.oo=b;this.g=this.oo.g}g=jj.prototype;g.H=function(){};g.Xm=function(){return null};g.S=function(){return this.ne};g.getParent=function(){return null};g.se=function(){return!1};g.m=function(){};function kj(a,b,c){kj.j.constructor.call(this,a,b,c);this.we=jb(a.name);this.ub=lj(this,a.colour);this.un=this.ln=this.aj=this.Uc=this.ec=null;this.dd={container:"blocklyToolboxCategory",row:"blocklyTreeRow",rowcontentcontainer:"blocklyTreeRowContentContainer",icon:"blocklyTreeIcon",label:"blocklyTreeLabel",contents:"blocklyToolboxContents",selected:"blocklyTreeSelected",openicon:"blocklyTreeIconOpen",closedicon:"blocklyTreeIconClosed"};md(this.dd,a.cssconfig||a.cssConfig);this.Ft=this.rq=!1;this.Wg=
[];b=a.contents;if(a.custom)this.Wg=a.custom;else if(b)for(a=0;c=b[a];a++)this.Wg.push(c)}F(kj,jj);g=kj.prototype;g.H=function(){this.$d();"true"==this.Ir.hidden&&this.pb()};
g.$d=function(){this.ec=this.qm();vh(this.ec,"treeitem");wh(this.ec,"selected",!1);wh(this.ec,"level",this.xn);var a=document.createElement("div");C(a,this.dd.row);var b=19*this.xn;b=b.toString()+"px";this.g.o?a.style.paddingRight=b:a.style.paddingLeft=b;this.Uc=a;this.Uc.style.pointerEvents="auto";this.ec.appendChild(this.Uc);a=document.createElement("div");C(a,this.dd.rowcontentcontainer);this.aj=a;this.aj.style.pointerEvents="none";this.Uc.appendChild(this.aj);a=document.createElement("span");
C(a,this.dd.icon);a.style.display="inline-block";this.ln=a;vh(this.ln,"presentation");this.aj.appendChild(this.ln);a=this.we;b=document.createElement("span");b.setAttribute("id",this.S()+".label");b.textContent=a;C(b,this.dd.label);this.un=b;this.aj.appendChild(this.un);wh(this.ec,"labelledby",this.un.getAttribute("id"));mj(this,this.ub);return this.ec};g.qm=function(){var a=document.createElement("div");C(a,this.dd.container);return a};g.ph=function(){this.ub=lj(this,this.Ir.colour);mj(this,this.ub)};
function mj(a,b){b&&(b="8px solid "+(b||"#ddd"),a.g.o?a.Uc.style.borderRight=b:a.Uc.style.borderLeft=b)}g.ot=function(){return this.Uc};function lj(a,b){b=jb(b);if(null==b||""===b)return"";var c=Number(b);if(isNaN(c)){if(c=qa(b))return c;console.warn('Toolbox category "'+a.we+'" has unrecognized colour attribute: '+b);return""}return ua(c)}function nj(a,b){a.ec.style.display=b?"block":"none";a.rq=!b;a.oo.kb==a&&oj(a.oo,null)}g.pb=function(){nj(this,!1)};g.show=function(){nj(this,!0)};
g.isVisible=function(){var a;if(a=!this.rq)a:{for(a=this;a.getParent();)if(a=a.getParent(),!a.kv()){a=!1;break a}a=!0}return a};g.se=function(){return this.isVisible()&&!this.Ft};function pj(a,b){if(b){var c=lj(a,"#57e");a.Uc.style.backgroundColor=a.ub||c;C(a.Uc,a.dd.selected)}else a.Uc.style.backgroundColor="",Ec(a.Uc,a.dd.selected);wh(a.ec,"selected",b)}g.Sb=function(){return this.we};g.getParent=function(){return this.ze};g.Xm=function(){return this.ec};g.m=function(){D(this.ec)};
Pe([".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: rgba(255, 255, 255, 0.2);","}",'.blocklyToolboxDiv[layout="h"] .blocklyToolboxCategory {',"margin: 1px 5px 1px 0;","}",'.blocklyToolboxDiv[dir="RTL"][layout="h"] .blocklyToolboxCategory {',"margin: 1px 0 1px 5px;","}",".blocklyTreeRow {","height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"margin-left: 8px;","padding-right: 0px",
"}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;","vertical-align: middle;","visibility: hidden;","width: 16px;","}",".blocklyTreeIconClosed {","background-position: -32px -1px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeIconClosed {',"background-position: 0 -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosed {","background-position: -32px -17px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeSelected>.blocklyTreeIconClosed {',"background-position: 0 -17px;",
"}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;","}",".blocklyTreeLabel {","cursor: default;","font: 16px sans-serif;","padding: 0 3px;","vertical-align: middle;","}",".blocklyToolboxDelete .blocklyTreeLabel {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}"]);v(Sb,"category",kj);function qj(a,b){qj.j.constructor.call(this,a,b);this.dd={container:"blocklyTreeSeparator"};md(this.dd,a.cssconfig||a.cssConfig)}F(qj,jj);qj.prototype.H=function(){this.$d()};qj.prototype.$d=function(){var a=document.createElement("div");C(a,this.dd.container);return this.ec=a};qj.prototype.Xm=function(){return this.ec};qj.prototype.m=function(){D(this.ec)};Pe('.blocklyTreeSeparator {,border-bottom: solid #e5e5e5 1px;,height: 0;,margin: 5px 0;,},.blocklyToolboxDiv[layout="h"] .blocklyTreeSeparator {,border-right: solid #e5e5e5 1px;,border-bottom: none;,height: auto;,margin: 0 5px 0 5px;,padding: 5px 0;,width: 0;,}'.split(","));
v(Sb,"sep",qj);function rj(a){rj.j.constructor.call(this);this.g=a;this.id="toolbox";this.Hr=a.options.Kd||{contents:[]};this.Xe=this.jc=null;this.xc=!1;this.za=[];this.wb=this.pa=0;this.o=a.options.o;this.J=null;this.pm=Object.create(null);this.ab=a.options.ab;this.kb=null;this.Th=[]}F(rj,hj);g=rj.prototype;
g.H=function(){var a=this.g,b=E(a),c=this.g,d=new ee({parentWorkspace:c,rtl:c.o,oneBasedIndex:c.options.ye,renderer:c.options.Yi,rendererOverrides:c.options.Zi,move:{scrollbars:!0}});d.ab=c.options.ab;this.J=new (Xb(Tb,c.options,!0))(d);this.jc=this.$d(this.g);Gc(this.J.Aa("svg"),b);this.la(!0);this.J.H(a);this.O(this.Hr);a=a.$a;a.subscribe(this.jc,"toolboxBackgroundColour","background-color");a.subscribe(this.jc,"toolboxForegroundColour","color");Cf(this.g.nc,{component:this,weight:1,yd:[Kf,Ff,Jf]})};
g.$d=function(a){var b=E(a);a=this.qm();var c=document.createElement("div");C(c,"blocklyToolboxContents");this.Xe=c;this.Xe.tabIndex=0;vh(this.Xe,"tree");a.appendChild(this.Xe);b.parentNode.insertBefore(a,b);b=this.Xe;c=r(a,"click",this,this.Sn,!1,!0);this.Th.push(c);b=r(b,"keydown",this,this.Yn,!1,!0);this.Th.push(b);return a};
g.qm=function(){var a=document.createElement("div");a.setAttribute("layout","v");C(a,"blocklyToolboxDiv");C(a,"blocklyNonSelectable");a.setAttribute("dir",this.o?"RTL":"LTR");return a};g.Sn=function(a){if(fb(a)||a.target==this.jc)id(!1);else{if(a=a.target.getAttribute("id"))a=this.pm[a]||null,a.se()&&oj(this,a);id(!0)}xb=null};
g.Yn=function(a){var b=!1;switch(a.keyCode){case 40:a:{if(this.kb&&(b=this.za.indexOf(this.kb)+1,-1<b&&b<this.za.length)){for(var c=this.za[b];c&&!c.se();)c=this.za[++b];if(c&&c.se()){oj(this,c);b=!0;break a}}b=!1}break;case 38:a:{if(this.kb&&(b=this.za.indexOf(this.kb)-1,-1<b&&b<this.za.length)){for(c=this.za[b];c&&!c.se();)c=this.za[--b];if(c&&c.se()){oj(this,c);b=!0;break a}}b=!1}break;case 37:this.kb?this.kb.getParent()&&this.kb.getParent().se()?(oj(this,this.kb.getParent()),b=!0):b=!1:b=!1;break;
case 39:b=!1;break;case 13:case 32:break;default:b=!1}!b&&this.kb&&this.kb.Xn&&(b=this.kb.Xn(a));b&&a.preventDefault()};
g.O=function(a){this.Hr=a;for(var b=0;b<this.za.length;b++){var c=this.za[b];c&&c.m()}this.za=[];this.pm=Object.create(null);a=a.contents;b=document.createDocumentFragment();c=0;for(var d;d=a[c];c++){var e=d;d=b;var f=Wb(Sb,e.kind.toLowerCase());f&&(f=e=new f(e,this),this.za.push(f),this.pm[f.S()]=f,e.H(),(f=e.Xm())&&d.appendChild(f),e.ot&&e.Uc.setAttribute("id",e.S()))}this.Xe.appendChild(b);this.position();a=this.g;b=this.jc.getBoundingClientRect();a.translate(2==this.ab?a.scrollX+b.width:a.scrollX,
a.scrollY);sj(a)};g.Vm=function(){if(!this.jc||!this.xc)return null;var a=this.jc.getBoundingClientRect(),b=a.left;a=b+a.width;return 2==this.ab?new Aa(-1E7,1E7,-1E7,a):new Aa(-1E7,1E7,b,1E7)};g.ap=function(a){a instanceof R?this.yj(!a.getParent()&&a.Pc()):this.yj(a.Pc());return this.zg};g.Tn=function(){tj(this,!0)};g.al=function(){tj(this,!1)};g.bl=function(){tj(this,!1)};g.yj=function(a){a!==this.zg&&(tj(this,!1),this.zg=a,tj(this,!0))};
function tj(a,b){var c=a.zg?"blocklyToolboxDelete":"blocklyToolboxGrab";b?C(a.jc,c):Ec(a.jc,c)}g.me=function(){return this.pa};g.uc=function(){return this.J};g.position=function(){var a=this.g.Rb(),b=this.jc;b&&(3==this.ab?b.style.right="0":b.style.left="0",b.style.height="100%",this.pa=b.offsetWidth,this.wb=a.lb,this.J.position())};g.ph=function(){for(var a=0;a<this.za.length;a++){var b=this.za[a];b.ph&&b.ph()}};g.la=function(a){this.xc!==a&&(this.jc.style.display=a?"block":"none",this.xc=a,uj(this.g))};
g.yp=function(a){!a&&this.J&&this.J.Re&&oj(this,null)};function oj(a,b){var c=a.kb;if((b||c)&&(!b||b.se())){null!=c&&null!=c&&(a.kb=null,pj(c,!1),wh(a.Xe,"activedescendant",""));null!=b&&b!=c&&null!=b&&(a.kb=b,pj(b,!0),wh(a.Xe,"activedescendant",b.S()));c!=b&&b&&b.Wg.length?(a.J.show(b.Wg),a.J.Fo()):a.J.pb();var d=c&&c.Sb(),e=b&&b.Sb();c==b&&(e=null);a=new (A("toolbox_item_select"))(d,e,a.g.id);x(a)}}
g.m=function(){Df(this.g.nc,"toolbox");this.J.m();for(var a=0;a<this.za.length;a++)this.za[a].m();for(a=0;a<this.Th.length;a++)u(this.Th[a]);this.Th=[];this.za=[];this.g.$a.unsubscribe(this.jc);D(this.jc)};
Pe([".blocklyToolboxDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxGrab {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;","overflow-y: auto;","padding: 4px 0 4px 0;","position: absolute;","z-index: 70;","-webkit-tap-highlight-color: transparent;","}",".blocklyToolboxContents {","display: flex;","flex-wrap: wrap;","flex-direction: column;",
"}",".blocklyToolboxContents:focus {","outline: none;","}"]);v(Qb,"default",rj);function vj(a,b){vj.j.constructor.call(this,b);this.ih=a}F(vj,Se);vj.prototype.type="trashcan_open";vj.prototype.R=function(){var a=vj.j.R.call(this);a.isOpen=this.ih;return a};vj.prototype.M=function(a){vj.j.M.call(this,a);this.ih=a.isOpen};v(Nb,"trashcan_open",vj);function wj(a,b,c,d,e,f){var h=f.ka&&!!f.ka.ma;0===a.yi?(c=e.Uj.left+c,h&&f.o&&(c+=Oc)):(c=e.Uj.left+e.Rr.width-b.width-c,h&&!f.o&&(c-=Oc));0===a.vertical?a=e.Uj.top+d:(a=e.Uj.top+e.Rr.height-b.height-d,f.ka&&f.ka.wa&&(a-=Oc));return new Aa(a,a+b.height,c,c+b.width)}function xj(a){return{yi:2!==a.yu.position?0:1,vertical:1}}
function yj(a,b,c,d){for(var e=a.left,f=a.right-a.left,h=a.bottom-a.top,l=0,m;m=d[l];l++)a.left>m.right||a.right<m.left||a.top>m.bottom||a.bottom<m.top||(a=0===c?m.top-h-b:m.bottom+b,a=new Aa(a,a+h,e,e+f),l=-1);return a};function zj(a){zj.j.constructor.call(this);this.g=a;this.id="trashcan";this.za=[];this.Mc=null;0>=this.g.options.Vk||(a=new ee({scrollbars:!0,parentWorkspace:this.g,rtl:this.g.o,oneBasedIndex:this.g.options.ye,renderer:this.g.options.Yi,rendererOverrides:this.g.options.Zi,move:{scrollbars:!0}}),a.ab=3==this.g.ab?2:3,this.Mc=new (Xb(Tb,this.g.options,!0))(a),xe(this.g,this.St.bind(this)))}F(zj,hj);g=zj.prototype;g.Vd=47;g.Ej=44;g.Gg=16;g.Ih=20;g.Ol=20;g.Oj=10;g.Vl=0;g.Wl=32;g.ys=.1;g.Mk=!1;g.In=0;
g.s=null;g.Gl=null;g.yn=0;g.jf=0;g.te=0;g.Le=0;g.zi=!1;
g.Aa=function(){this.s=B(rc,{"class":"blocklyTrash"},null);var a=String(Math.random()).substring(2);var b=B(jc,{id:"blocklyTrashBodyClipPath"+a},this.s);B(xc,{width:this.Vd,height:this.Ej,y:this.Gg},b);var c=B(sc,{width:96,x:-this.Vl,height:124,y:-this.Wl,"clip-path":"url(#blocklyTrashBodyClipPath"+a+")"},this.s);c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.g.options.tf+"sprites.png");b=B(jc,{id:"blocklyTrashLidClipPath"+a},this.s);B(xc,{width:this.Vd,height:this.Gg},b);this.Gl=
B(sc,{width:96,x:-this.Vl,height:124,y:-this.Wl,"clip-path":"url(#blocklyTrashLidClipPath"+a+")"},this.s);this.Gl.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.g.options.tf+"sprites.png");Ib(this.s,"mousedown",this,this.Us);Ib(this.s,"mouseup",this,this.click);Ib(c,"mouseover",this,this.Nt);Ib(c,"mouseout",this,this.Lt);this.Zl();return this.s};
g.H=function(){0<this.g.options.Vk&&(Gc(this.Mc.Aa(yc),E(this.g)),this.Mc.H(this.g));Cf(this.g.nc,{component:this,weight:1,yd:[Kf,Ff,Jf,If]});this.zi=!0;this.uh(!1)};g.m=function(){Df(this.g.nc,"trashcan");this.s&&(D(this.s),this.s=null);this.g=this.Gl=null;clearTimeout(this.yn)};g.yp=function(a){!a&&this.Mc&&this.Mc&&this.Mc.isVisible()&&(this.Mc.pb(),Aj(this,!1))};
g.position=function(a,b){if(this.zi){var c=xj(a);a=yj(wj(c,new Ha(this.Vd,this.Ej+this.Gg),this.Ol,this.Ih,a,this.g),this.Ih,0===c.vertical?1:0,b);this.Le=a.top;this.te=a.left;this.s.setAttribute("transform","translate("+this.te+","+this.Le+")")}};g.Xg=function(){return new Aa(this.Le,this.Le+this.Ej+this.Gg,this.te,this.te+this.Vd)};
g.Vm=function(){if(!this.s)return null;var a=this.s.getBoundingClientRect(),b=a.top+this.Wl-this.Oj;a=a.left+this.Vl-this.Oj;return new Aa(b,b+this.Gg+this.Ej+2*this.Oj,a,a+this.Vd+2*this.Oj)};g.Un=function(){this.uh(this.zg)};g.al=function(){this.uh(!1)};g.bl=function(){setTimeout(this.uh.bind(this,!1),100)};g.uh=function(a){this.Mk!=a&&(clearTimeout(this.yn),this.Mk=a,this.Zl())};
g.Zl=function(){this.jf+=this.Mk?.2:-.2;this.jf=Math.min(Math.max(this.jf,this.In),1);Bj(this,45*this.jf);this.s.style.opacity=.4+.4*this.jf;this.jf>this.In&&1>this.jf&&(this.yn=setTimeout(this.Zl.bind(this),20))};function Bj(a,b){var c=3==a.g.ab;a.Gl.setAttribute("transform","rotate("+(c?-b:b)+","+(c?4:a.Vd-4)+","+(a.Gg-2)+")")}g.click=function(){if(this.za.length&&(!this.Mc||!this.Mc.isVisible())){var a=this.za.map(td);this.Mc.show(a);Aj(this,!0)}};
function Aj(a,b){a=new (A("trashcan_open"))(b,a.g.id);x(a)}g.Us=function(a){this.Mc&&this.Mc.isVisible()||!this.za.length||a.stopPropagation()};g.Nt=function(){this.za.length&&this.uh(!0)};g.Lt=function(){this.uh(!1)};
g.St=function(a){if(!(0>=this.g.options.Vk)&&"delete"==a.type&&a.mh.tagName&&"shadow"!=a.mh.tagName.toLowerCase()){for(var b=a=a.mh.cloneNode(!0);b;){b.removeAttribute&&(b.removeAttribute("x"),b.removeAttribute("y"),b.removeAttribute("id"),b.removeAttribute("disabled"),"comment"==b.nodeName&&(b.removeAttribute("h"),b.removeAttribute("w"),b.removeAttribute("pinned")));var c=b.firstChild||b.nextSibling;if(!c)for(c=b.parentNode;c;){if(c.nextSibling){c=c.nextSibling;break}c=c.parentNode}b=c}a=sd(a);if(-1==
this.za.indexOf(a)){for(this.za.unshift(a);this.za.length>this.g.options.Vk;)this.za.pop();this.In=a=this.ys;this.Mk||Bj(this,45*a)}}};function Cj(a){this.g=a}function Dj(a){var b=0,c=0;a&&(b=a.me(),c=a.wb);return new Ha(b,c)}function Ej(a){var b=Dj(a.g.uc(!0));return{width:b.width,height:b.height,position:a.g.ab}}function Fj(a){var b=Dj(a.g.Ea);return{width:b.width,height:b.height,position:a.g.ab}}function Gj(a){var b=0,c=Fj(a),d=Ej(a),e=!!a.g.Ea;a=!!a.g.uc(!0);var f=2==(e?c.position:d.position);e&&f?b=c.width:a&&f&&(b=d.width);return{top:0,left:b}}
function Le(a,b){b=b?a.g.scale:1;var c=Hj(a.g),d=Fj(a),e=Ej(a),f=a.g.Ea?d.position:e.position;if(a.g.Ea){if(2==f||3==f)c.width-=d.width}else!a.g.uc(!0)||2!=f&&3!=f||(c.width-=e.width);return{height:c.height/b,width:c.width/b,top:-a.g.scrollY/b,left:-a.g.scrollX/b}}
Cj.prototype.Ek=function(){var a=this.g.scale;var b=[].concat(this.g.sj);if(b.length){for(var c=b[0].Xg(),d=1;d<b.length;d++){var e=b[d];e.Gb&&e.Gb()||(e=e.Xg(),e.top<c.top&&(c.top=e.top),e.bottom>c.bottom&&(c.bottom=e.bottom),e.left<c.left&&(c.left=e.left),e.right>c.right&&(c.right=e.right))}b=c}else b=new Aa(0,0,0,0);return{height:(b.bottom-b.top)*a,width:(b.right-b.left)*a,top:b.top*a,left:b.left*a}};
Cj.prototype.$e=function(a,b,c){a=a?this.g.scale:1;var d=b||Le(this,!1);c=c||this.Ek();if(Ag(this.g)&&Bg(this.g))b={};else{b=Ag(this.g);var e=Bg(this.g),f=d||Le(this,!1);var h={};e||(h.top=f.top,h.bottom=f.top+f.height);b||(h.left=f.left,h.right=f.left+f.width);b=h}h=c.top+c.height;e=c.left+c.width;f=d.width;var l=d.height;var m=f/2,n=l/2;d=Math.min(c.top-n,h-l);h=Math.max(h+n,c.top+l);l=Math.min(c.left-m,e-f);c=Math.max(e+m,c.left+f);d=void 0!==b.top?b.top:d;e=void 0!==b.left?b.left:l;return{top:d/
a,left:e/a,width:((void 0!==b.right?b.right:c)-e)/a,height:((void 0!==b.bottom?b.bottom:h)-d)/a}};Cj.prototype.Rb=function(){var a=Fj(this),b=Ej(this),c=Hj(this.g),d=Gj(this),e=Le(this),f=this.Ek(),h=this.$e(!1,e,f);return{bv:f.height,ev:f.width,dv:f.top,cv:f.left,scrollHeight:h.height,scrollWidth:h.width,scrollTop:h.top,scrollLeft:h.left,lb:e.height,mb:e.width,$c:e.top,Zc:e.left,Mb:d.top,Db:d.left,Br:c.height,Cr:c.width,wv:a.width,vv:a.height,ab:a.position,hv:b.width,gv:b.height}};
v(Ub,"default",Cj);function Ij(a,b){this.J=b;Ij.j.constructor.call(this,a)}F(Ij,Cj);Ij.prototype.Ek=function(){try{var a=this.g.sa.getBBox()}catch(c){a={height:0,y:0,width:0,x:0}}var b=this.g.scale;return{height:a.height*b,width:a.width*b,top:a.y*b,left:a.x*b}};Ij.prototype.$e=function(a,b,c){b=c||this.Ek();c=this.J.Hg*this.g.scale;a=a?this.g.scale:1;return{height:(b.height+2*c)/a,width:(b.width+b.left+c)/a,top:0,left:0}};function Jj(){this.Qa=[]}function Kj(a,b,c){if(!a.Qa.length)return-1;var d=Ri(a,c);if(d>=a.Qa.length)return-1;c=b.y;for(var e=d;0<=e&&a.Qa[e].y==c;){if(a.Qa[e]==b)return e;e--}for(e=d;e<a.Qa.length&&a.Qa[e].y==c;){if(a.Qa[e]==b)return e;e++}return-1}function Ri(a,b){if(!a.Qa.length)return 0;for(var c=0,d=a.Qa.length;c<d;){var e=Math.floor((c+d)/2);if(a.Qa[e].y<b)c=e+1;else if(a.Qa[e].y>b)d=e;else{c=e;break}}return c}
function Pi(a,b,c){b=Kj(a,b,c);if(-1==b)throw Error("Unable to find connection in connectionDB.");a.Qa.splice(b,1)}function Vi(a,b,c){function d(n){var q=f-e[n].x,t=h-e[n].y;Math.sqrt(q*q+t*t)<=c&&m.push(e[n]);return t<c}var e=a.Qa,f=b.x,h=b.y;a=0;for(var l=b=e.length-2;a<l;)e[l].y<h?a=l:b=l,l=Math.floor((a+b)/2);var m=[];b=a=l;if(e.length){for(;0<=a&&d(a);)a--;do b++;while(b<e.length&&d(b))}return m};function Lj(a,b){Lj.j.constructor.call(this,b);this.Er=a}F(Lj,Se);Lj.prototype.type="theme_change";Lj.prototype.R=function(){var a=Lj.j.R.call(this);a.themeName=this.Er;return a};Lj.prototype.M=function(a){Lj.j.M.call(this,a);this.Er=a.themeName};v(Nb,"theme_change",Lj);function Mj(a,b,c,d,e){Mj.j.constructor.call(this,d);this.$c=a;this.Zc=b;this.scale=c;this.Mi=e}F(Mj,Se);Mj.prototype.type="viewport_change";Mj.prototype.R=function(){var a=Mj.j.R.call(this);a.viewTop=this.$c;a.viewLeft=this.Zc;a.scale=this.scale;a.oldScale=this.Mi;return a};Mj.prototype.M=function(a){Mj.j.M.call(this,a);this.$c=a.viewTop;this.Zc=a.viewLeft;this.scale=a.scale;this.Mi=a.oldScale};v(Nb,"viewport_change",Mj);function Nj(a,b){this.ah=a;this.Po=b.spacing;this.Aq=b.length;this.Jt=(this.zn=a.firstChild)&&this.zn.nextSibling;this.qu=b.snap}Nj.prototype.yf=1;Nj.prototype.m=function(){this.ah=null};Nj.prototype.update=function(a){this.yf=a;var b=this.Po*a||100;this.ah.setAttribute("width",b);this.ah.setAttribute("height",b);b=Math.floor(this.Po/2)+.5;var c=b-this.Aq/2,d=b+this.Aq/2;b*=a;c*=a;d*=a;Oj(this.zn,a,c,d,b,b);Oj(this.Jt,a,b,b,c,d)};
function Oj(a,b,c,d,e,f){a&&(a.setAttribute("stroke-width",b),a.setAttribute("x1",c),a.setAttribute("y1",e),a.setAttribute("x2",d),a.setAttribute("y2",f))}Nj.prototype.moveTo=function(a,b){this.ah.setAttribute("x",a);this.ah.setAttribute("y",b);(Ma||Oa)&&this.update(this.yf)};function Pj(a){var b=Zd;this.g=a;this.qj=b;this.mj=[];this.Ue=Object.create(null)}g=Pj.prototype;g.je=function(){return this.qj};g.hj=function(a){var b=this.qj;this.qj=a;if(a=Qj(this.g))b&&Ec(a,b.gd()),C(a,this.qj.gd());for(b=0;a=this.mj[b];b++)a.ph();id()};g.subscribe=function(a,b,c){this.Ue[b]||(this.Ue[b]=[]);this.Ue[b].push({element:a,propertyName:c});a.style[c]=""};
g.unsubscribe=function(a){if(a)for(var b=Object.keys(this.Ue),c=0,d;d=b[c];c++){for(var e=this.Ue[d],f=e.length-1;0<=f;f--)e[f].element===a&&e.splice(f,1);this.Ue[d].length||delete this.Ue[d]}};g.m=function(){this.Ue=this.mj=this.qj=null};function Rj(a,b){Rj.j.constructor.call(this,a,b);this.Nk=!1;this.lc=Object.create(null);this.xr=this.Ti=0;this.tq=this.ao=null}F(Rj,Dg);g=Rj.prototype;g.zm=function(a){this.tq=this.Za.options.Fa&&this.Za.options.Fa.cr;Rj.j.zm.call(this,a);!this.Kk&&Gb(a)&&Sj(this,a)};g.Ap=function(a){this.ao=r(document,"mousedown",null,this.zt.bind(this),!0);this.kl=r(document,"mousemove",null,this.bh.bind(this),!0);this.ll=r(document,"mouseup",null,this.Gk.bind(this),!0);a.preventDefault();a.stopPropagation()};
g.zt=function(a){!this.Ra()&&Gb(a)&&(Sj(this,a),this.Nk&&Bb())};g.bh=function(a){if(this.Ra())Fb(a)&&!Eb(a)||Rj.j.bh.call(this,a);else if(this.Nk){if(Gb(a)){this.lc[Db(a)]=Tj(this,a);var b=Object.keys(this.lc);if(this.tq&&2===b.length){b=Object.keys(this.lc);b=xa(this.lc[b[0]],this.lc[b[1]])/this.xr;if(0<this.Ti&&Infinity>this.Ti){var c=b-this.Ti;c=0<c?5*c:6*c;var d=this.Za,e=hb(a,E(d),fd(d));d.zoom(e.x,e.y,c)}this.Ti=b;a.preventDefault()}else Rj.j.bh.call(this,a)}Bb()}else Rj.j.bh.call(this,a)};
g.Gk=function(a){if(Gb(a)&&!this.Ra()){var b=Db(a);this.lc[b]&&delete this.lc[b];2>Object.keys(this.lc).length&&(this.lc=Object.create(null),this.Ti=0)}!this.Nk||this.Ra()?Fb(a)&&!Eb(a)||Rj.j.Gk.call(this,a):(a.preventDefault(),a.stopPropagation(),this.m())};g.m=function(){Rj.j.m.call(this);this.ao&&u(this.ao)};function Sj(a,b){a.lc[Db(b)]=Tj(a,b);var c=Object.keys(a.lc);2==c.length&&(a.xr=xa(a.lc[c[0]],a.lc[c[1]]),a.Nk=!0,b.preventDefault())}
function Tj(a,b){return a.Za?new p(b.changedTouches?b.changedTouches[0].pageX:b.pageX,b.changedTouches?b.changedTouches[0].pageY:b.pageY):null};function Uj(a){this.po=a;this.Qh=Object.create(null)}g=Uj.prototype;g.wn=null;g.m=function(){this.Qh=this.po=null};g.load=function(a,b){if(a.length){try{var c=new pa.Audio}catch(l){return}for(var d,e=0;e<a.length;e++){var f=a[e],h=f.match(/\.(\w+)$/);if(h&&c.canPlayType("audio/"+h[1])){d=new pa.Audio(f);break}}d&&d.play&&(this.Qh[b]=d)}};g.preload=function(){for(var a in this.Qh){var b=this.Qh[a];b.volume=.01;var c=b.play();void 0!==c?c.then(b.pause).catch(function(){}):b.pause();if(Ta||Va)break}};
g.play=function(a,b){var c=this.Qh[a];c?(a=new Date,null!=this.wn&&100>a-this.wn||(this.wn=a,c=Ta||Sa?c:c.cloneNode(),c.volume=void 0===b?1:b,c.play())):this.po&&this.po.wd.play(a,b)};function Vj(a){this.bi=a;this.Aa()}g=Vj.prototype;g.Y=null;g.bi=null;g.Aa=function(){this.Y||(this.Y=B(yc,{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.bi.appendChild(this.Y))};g.sg=function(a,b){a=a.toFixed(0);b=b.toFixed(0);this.Y.style.display="block";Hc(this.Y,"translate3d("+a+"px, "+b+"px, 0px)")};g.Zm=function(){return bb(this.Y)};
g.ck=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var b=this.Y.childNodes[0],c=this.Y.childNodes[1];if(!(b&&c&&Fc(b,"blocklyBlockCanvas")&&Fc(c,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");null!=this.xo?Gc(b,this.xo):a.insertBefore(b,a.firstChild);Gc(c,b);this.Y.style.display="none";if(this.Y.childNodes.length)throw Error("Drag surface was not cleared.");Hc(this.Y,"");this.xo=null};function Wj(a,b,c){Wj.j.constructor.call(this,a);this.Yb=new (Xb(Ub,a,!0))(this);this.Rb=a.Rb||this.Yb.Rb.bind(this.Yb);this.dj=a.dj||Xj;this.nc=new Bf;var d=[];d[1]=new Jj;d[2]=new Jj;d[3]=new Jj;d[4]=new Jj;this.kk=d;b&&(this.kc=b);c&&(this.xg=c);this.Kl=!!this.xg&&ob();this.wd=new Uj(a.Sa);this.Oc=this.options.dn?new Nj(this.options.dn,a.eq):null;this.od=new bh(this);this.Uo=Object.create(null);this.Qm=Object.create(null);Yj&&Zj&&ak(this,"VARIABLE",Zj);bk&&ck&&(ak(this,"PROCEDURE",ck),xe(this,
dk));this.$a=this.options.Sa?this.options.Sa.$a:new Pj(this);this.$a.mj.push(this);c=this.options.Yi||"geras";a=this.je();b=this.options.Zi;c=new (Wb(Pb,c))(c);c.H(a,b);this.Da=c;this.jm=null;this.kh=!1;this.sj=[];this.Am=[];this.im=new Ha(0,0)}F(Wj,wd);g=Wj.prototype;g.wl=null;g.I=!0;g.xc=!0;g.md=!1;g.Ei=!1;g.Do=!0;g.scrollX=0;g.scrollY=0;g.Tp=null;g.scale=1;g.Rn=1;g.Tq=0;g.Qq=0;g.Bh=null;g.ka=null;g.J=null;g.Ea=null;g.Eb=null;g.kc=null;g.xg=null;g.Kl=!1;g.Jk=!1;g.on=null;g.zq=null;g.U=null;
g.qq=null;g.pn=!0;g.Ee=function(a){this.od.Ee(a)};g.Cf=function(a){this.od.Cf(a)};g.si=function(a){return this.od?this.od.si(a):null};g.Yg=function(){return this.od?this.od.Yg():null};g.je=function(){return this.$a.je()};g.hj=function(a){a||(a=Zd);this.$a.hj(a)};g.ph=function(){this.s&&this.Da.Ao(this.s,this.je());ek(ke(this,!1).filter(function(b){return!!b.pg}));fk(this);this.Ea&&this.Ea.ph();this.isVisible()&&this.la(!0);var a=new (A("theme_change"))(this.je().name,this.id);x(a)};
function ek(a){for(var b=0,c;c=a[b];b++){var d=c.pg;if(d&&(c.Ge(d),c.yb)){var e=c.yb.g;if(e&&ke(e,!1)){var f=ke(e,!1);for(d=0;c=f[d];d++)c.Ge(c.pg);if(c=e.uc())for(e=ke(c.g,!1),d=0;c=e[d];d++)c.Ge(c.pg)}}}}function fd(a){if(a.pn){var b=E(a).getScreenCTM();b&&(a.qq=b.inverse(),a.pn=!1)}return a.qq}g.wj=function(){this.pn=!0};g.isVisible=function(){return this.xc};
function bg(a,b){var c=0,d=0,e=1;if(a.sa.contains(b)||a.qd.contains(b))e=a.scale;do{var f=bb(b);if(b==a.sa||b==a.qd)e=1;c+=f.x*e;d+=f.y*e;b=b.parentNode}while(b&&b!=E(a));return new p(c,d)}function Hj(a){a=a.im;return new Ha(a.width,a.height)}function Qj(a){if(!a.on)for(var b=a.s;b;){if(-1!=(" "+(b.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){a.on=b;break}b=b.parentNode}return a.on}
g.Aa=function(a){this.s=B(rc,{"class":"blocklyWorkspace"},null);a&&(this.Ab=B(xc,{height:"100%",width:"100%","class":a},this.s),"blocklyMainBackground"==a&&this.Oc?this.Ab.style.fill="url(#"+this.Oc.ah.id+")":this.$a.subscribe(this.Ab,"workspaceBackgroundColour","fill"));this.sa=B(rc,{"class":"blocklyBlockCanvas"},this.s);this.qd=B(rc,{"class":"blocklyBubbleCanvas"},this.s);this.md||(r(this.s,"mousedown",this,this.nf,!1,!0),r(this.s,"wheel",this,this.cu));this.options.fq&&(this.Ea=new (Xb(Qb,this.options,
!0))(this));this.Oc&&this.Oc.update(this.scale);uj(this);var b=Xb(Mb,this.options);b&&(a=this.od,b=new b,a.Jc&&a.Jc.Lc&&a.Jc.Lc.m(),a.Jc=b,a.Jc&&(b=a.Jc,b=new gk(a.g,a.g.Da.D(),b),a.Jc.Lc=b,a.Ee(a.Jc.Lc.Aa())));this.Da.Aa(this.s,this.je());return this.s};
g.m=function(){this.I=!1;this.Eb&&this.Eb.cancel();this.s&&(D(this.s),this.s=null);this.qd=this.sa=null;this.Ea&&(this.Ea.m(),this.Ea=null);this.J&&(this.J.m(),this.J=null);this.Bh&&(this.Bh.m(),this.Bh=null);this.ka&&(this.ka.m(),this.ka=null);this.Cj&&(this.Cj.m(),this.Cj=null);this.wd&&(this.wd.m(),this.wd=null);this.Oc&&(this.Oc.m(),this.Oc=null);this.Da.m();this.od&&(this.od.m(),this.od=null);Wj.j.m.call(this);if(this.$a){var a=this.$a,b=a.mj.indexOf(this);if(0>b)throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");
a.mj.splice(b,1);this.$a.unsubscribe(this.Ab);this.options.Sa||(this.$a.m(),this.$a=null)}this.Qm=this.Uo=this.kk=null;this.options.Sa||(a=E(this))&&a.parentNode&&D(a.parentNode);this.wl&&(u(this.wl),this.wl=null)};g.lf=function(a,b){return new R(this,a,b)};
function hk(a,b){var c=new ee({parentWorkspace:a,rtl:a.o,oneBasedIndex:a.options.ye,renderer:a.options.Yi,rendererOverrides:a.options.Zi,move:{scrollbars:!0}});c.ab=a.options.ab;a.J=new (Xb(Tb,a.options,!0))(c);a.J.Re=!1;a.J.g.la(!0);return a.J.Aa(b)}g.uc=function(a){return this.J||a?this.J:this.Ea?this.Ea.uc():null};function Ad(a){a.Do&&a.I&&(a.ka&&a.ka.resize(),a.wj())}
g.resize=function(){this.Ea&&this.Ea.position();this.J&&this.J.position();var a=Gf(this.nc,If);var b=this.Yb;b={Rr:Le(b),Uj:Gj(b),yu:Fj(b)};for(var c=[],d=0,e;e=a[d];d++)e.position(b,c),(e=e.Xg())&&c.push(e);this.ka&&this.ka.resize();this.wj();uj(this)};function Gg(a){var b=document.documentElement;var c=window;b=Ma&&c.pageYOffset!=b.scrollTop?new p(b.scrollLeft,b.scrollTop):new p(c.pageXOffset||b.scrollLeft,c.pageYOffset||b.scrollTop);wa(a.zq,b)||(a.zq=b,a.wj(),uj(a))}
function ik(a,b,c){E(a);b&&(a.im.width=b);c&&(a.im.height=c)}function E(a){if(!a.jm)for(var b=a.s;b;){if("svg"==b.tagName){a.jm=b;break}b=b.parentNode}return a.jm}function Pc(a){if(0==w){var b=a.scale,c=-a.scrollY,d=-a.scrollX;if(!(b==a.Rn&&1>Math.abs(c-a.Tq)&&1>Math.abs(d-a.Qq))){var e=new (A("viewport_change"))(c,d,b,a.id,a.Rn);a.Rn=b;a.Tq=c;a.Qq=d;x(e)}}}
g.translate=function(a,b){if(this.Kl&&this.Jk)this.xg.sg(a,b);else{var c="translate("+a+","+b+") scale("+this.scale+")";this.sa.setAttribute("transform",c);this.qd.setAttribute("transform",c)}if(this.kc){c=this.kc;var d=this.scale;c.yf=d;var e=a.toFixed(0),f=b.toFixed(0);c.Gp.x=parseInt(e,10);c.Gp.y=parseInt(f,10);c.Cd.setAttribute("transform","translate("+e+","+f+") scale("+d+")")}this.Oc&&this.Oc.moveTo(a,b);Pc(this)};
function hd(a){if(a.Kl){a.Jk=!1;var b=a.xg.Zm();a.xg.ck(a.s);b="translate("+b.x+","+b.y+") scale("+a.scale+")";a.sa.setAttribute("transform",b);a.qd.setAttribute("transform",b)}}
function gd(a){if(a.Kl&&!a.Jk){a.Jk=!0;var b=a.sa.previousSibling,c=parseInt(E(a).getAttribute("width"),10),d=parseInt(E(a).getAttribute("height"),10),e=bb(a.sa),f=a.xg,h=a.sa,l=a.qd,m=a.scale;if(f.Y.childNodes.length)throw Error("Already dragging a block.");f.xo=b;h.setAttribute("transform","translate(0, 0) scale("+m+")");l.setAttribute("transform","translate(0, 0) scale("+m+")");f.Y.setAttribute("width",c);f.Y.setAttribute("height",d);f.Y.appendChild(h);f.Y.appendChild(l);f.Y.style.display="block";
a.xg.sg(e.x,e.y)}}g.me=function(){var a=this.Rb();return a?a.mb/this.scale:0};g.la=function(a){this.xc=a;if(this.s)if(this.ka&&this.ka.ng(a),this.uc()&&this.uc().ng(a),E(this).style.display=a?"block":"none",this.Ea&&this.Ea.la(a),a){a=ke(this,!1);for(var b=a.length-1;0<=b;b--)a[b].Gi();this.O();this.Ea&&this.Ea.position()}else id(!0)};g.O=function(){for(var a=ke(this,!1),b=a.length-1;0<=b;b--)a[b].O(!1);if(this.Eb)for(a=this.Eb.Zg(),b=0;b<a.length;b++)a[b].O(!1);b=this.od;b.g.kh&&b.ae&&b.g.Yg().ed()};
function jk(a){var b=kk;if(a.I&&b.tagName&&!(b.getElementsByTagName("block").length>=te(a)))if(a.Eb&&a.Eb.cancel(),"comment"==b.tagName.toLowerCase()){w++;try{var c=la.av.Bk(b),d=parseInt(b.getAttribute("x"),10),e=parseInt(b.getAttribute("y"),10);isNaN(d)||isNaN(e)||(a.o&&(d=-d),c.moveBy(d+50,e+50))}finally{w--}0==w&&la.$u.fv(c);c.select()}else{w++;try{var f=vd(b,a),h=parseInt(b.getAttribute("x"),10),l=parseInt(b.getAttribute("y"),10);if(!isNaN(h)&&!isNaN(l)){a.o&&(h=-h);do{b=!1;var m=ke(a,!1);c=
0;for(var n;n=m[c];c++){var q=n.ba();if(1>=Math.abs(h-q.x)&&1>=Math.abs(l-q.y)){b=!0;break}}if(!b){var t=f.hd(!1);c=0;for(var y;y=t[c];c++)if(y.closest(28,new p(h,l)).connection){b=!0;break}}b&&(h=a.o?h-28:h+28,l+=56)}while(b);f.moveBy(h,l)}}finally{w--}0==w&&!f.V&&x(new (A("create"))(f));f.select()}}function fk(a){(a=a.md?a.U:a)&&!a.Eb&&a.Ea&&a.Ea.uc()&&(a=a.Ea,a.kb&&a.kb.se()&&a.kb.Wg.length&&a.J.show(a.kb.Wg))}g.xf=function(a,b){Wj.j.xf.call(this,a,b);fk(this)};
g.fe=function(a){Wj.j.fe.call(this,a);fk(this)};g.cd=function(a,b,c){a=Wj.j.cd.call(this,a,b,c);fk(this);return a};function uj(a){var b=Gf(a.nc,Jf);a.Am=[];for(var c=0,d;d=b[c];c++){var e=d.Vm();e&&a.Am.push({component:d,Ys:e})}}function Zf(a,b){for(var c=0,d;d=a.Am[c];c++)if(d.Ys.contains(b.clientX,b.clientY))return d.component;return null}g.nf=function(a){var b=this.ie(a);b&&Lg(b,a,this)};g.lj=function(a,b){a=hb(a,E(this),fd(this));a.x/=this.scale;a.y/=this.scale;this.Tp=ya(b,a)};
g.Ra=function(){return null!=this.Eb&&this.Eb.Ra()};g.fb=function(){return this.options.Hb&&!!this.options.Hb.scrollbars||this.options.Hb&&this.options.Hb.Ch||this.options.Hb&&this.options.Hb.ge||this.options.Fa&&this.options.Fa.Ch||this.options.Fa&&this.options.Fa.cr};function Ag(a){var b=!!a.ka;return a.fb()&&(!b||b&&!!a.ka.wa)}function Bg(a){var b=!!a.ka;return a.fb()&&(!b||b&&!!a.ka.ma)}
g.cu=function(a){if(Pg())a.preventDefault(),a.stopPropagation();else{var b=this.options.Fa&&this.options.Fa.Ch,c=this.options.Hb&&this.options.Hb.Ch;if(b||c){var d=ib(a);!b||!a.ctrlKey&&c?(b=this.scrollX-d.x,c=this.scrollY-d.y,a.shiftKey&&!d.x&&(b=this.scrollX-d.y,c=this.scrollY),this.scroll(b,c)):(d=-d.y/50,b=hb(a,E(this),fd(this)),this.zoom(b.x,b.y,d));a.preventDefault()}}};g.ij=function(a){if(!this.options.readOnly&&!this.md){var b=Li("workspace",{h:this});this.Zs&&this.Zs(b,a);Ii.show(a,b,this.o)}};
function ed(a){if(a.options.Sa)ed(a.options.Sa);else{of=a;document.activeElement&&document.activeElement.blur&&document.activeElement.blur();try{E(a).focus({preventScroll:!0})}catch(b){try{E(a).parentNode.setActive()}catch(c){E(a).parentNode.focus({preventScroll:!0})}}}}
g.zoom=function(a,b,c){c=Math.pow(this.options.Fa.rr,c);var d=this.scale*c;if(this.scale!=d){d>this.options.Fa.Ii?c=this.options.Fa.Ii/this.scale:d<this.options.Fa.Ki&&(c=this.options.Fa.Ki/this.scale);var e=this.sa.getCTM(),f=E(this).createSVGPoint();f.x=a;f.y=b;f=f.matrixTransform(e.inverse());a=f.x;b=f.y;e=e.translate(a*(1-c),b*(1-c)).scale(c);this.scrollX=e.e;this.scrollY=e.f;this.setScale(d)}};
function lk(a,b){var c=a.Rb();if(a.J){var d=c.Cr?c.Cr/2:0;c=c.Br?c.Br/2:0}else d=c.mb/2+c.Db,c=c.lb/2+c.Mb;a.zoom(d,c,b)}g.jt=function(){Ec(this.sa,"blocklyCanvasTransitioning");Ec(this.qd,"blocklyCanvasTransitioning")};
g.setScale=function(a){this.options.Fa.Ii&&a>this.options.Fa.Ii?a=this.options.Fa.Ii:this.options.Fa.Ki&&a<this.options.Fa.Ki&&(a=this.options.Fa.Ki);this.scale=a;id(!1);this.J&&(this.J.zo(),uj(this));this.Oc&&this.Oc.update(this.scale);a=this.Rb();this.scrollX-=a.Db;this.scrollY-=a.Mb;a.Zc+=a.Db;a.$c+=a.Mb;this.scroll(this.scrollX,this.scrollY);if(this.ka)if(this.J){var b=this.ka;b.wa&&$c(b.wa,a);b.ma&&bd(b.ma,a)}else b=this.ka,b.wa&&ad(b.wa,a),b.ma&&cd(b.ma,a)};
function mk(a){return a.options.Sa?mk(a.options.Sa):a.scale}g.scroll=function(a,b){id(!0);var c=this.Rb();a=Math.min(a,-c.scrollLeft);b=Math.min(b,-c.scrollTop);var d=c.scrollTop+Math.max(0,c.scrollHeight-c.lb);a=Math.max(a,-(c.scrollLeft+Math.max(0,c.scrollWidth-c.mb)));b=Math.max(b,-d);this.scrollX=a;this.scrollY=b;this.ka&&this.ka.set(-(a+c.scrollLeft),-(b+c.scrollTop),!1);a+=c.Db;b+=c.Mb;this.translate(a,b)};
function Xj(a){var b=this.Rb();"number"==typeof a.x&&(this.scrollX=-(b.scrollLeft+(b.scrollWidth-b.mb)*a.x));"number"==typeof a.y&&(this.scrollY=-(b.scrollTop+(b.scrollHeight-b.lb)*a.y));this.translate(this.scrollX+b.Db,this.scrollY+b.Mb)}g.tc=function(a){return Wj.j.tc.call(this,a)};g.Xa=function(a){return Wj.j.Xa.call(this,a)};g.Wj=function(a){this.sj.push(a);Wj.j.Wj.call(this,a)};g.tl=function(a){rb(this.sj,a);Wj.j.tl.call(this,a)};g.Ib=function(a){var b=!this.Do&&a;this.Do=a;b&&Ad(this)};
g.clear=function(){this.Ib(!1);Wj.j.clear.call(this);this.sj=[];this.Ib(!0)};function nk(a,b){if("function"!=typeof b)throw TypeError("Button callbacks must be functions.");a.Qm.CREATE_VARIABLE=b}function Ih(a,b){return(a=a.Qm[b])?a:null}function ak(a,b,c){if("function"!=typeof c)throw TypeError("Toolbox category callbacks must be functions.");a.Uo[b]=c}
g.ie=function(a){var b="mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type,c=this.Eb;return c?b&&c.Tf?(console.warn("Tried to start the same gesture twice."),c.cancel(),null):c:b?this.Eb=new Rj(a,this):null};function ej(a){a.Eb&&a.Eb.cancel()};function ok(a){ok.j.constructor.call(this);a.dj=this.ou.bind(this);var b=this.g=new Wj(a),c=new Ij(this.g,this);b.Yb=c;b.Rb=b.Yb.Rb.bind(b.Yb);this.g.md=!0;this.g.la(this.xc);this.id=mb();this.o=!!a.o;this.Ff=a.ab;this.Lm=[];this.Tk=[];this.Uh=[];this.gb=[];this.so=[];this.Ah=this.g.Da.D().Tj;this.U=null}F(ok,hj);g=ok.prototype;g.Re=!0;g.xc=!1;g.Of=!0;g.ya=8;g.Hg=ok.prototype.ya;g.xs=3*ok.prototype.Hg;g.Ks=2.5;g.pa=0;g.wb=0;g.ht=70;
g.Aa=function(a){this.s=B(a,{"class":"blocklyFlyout",style:"display: none"},null);this.Ab=B(uc,{"class":"blocklyFlyoutBackground"},this.s);this.s.appendChild(this.g.Aa());this.g.$a.subscribe(this.Ab,"flyoutBackgroundColour","fill");this.g.$a.subscribe(this.Ab,"flyoutOpacity","fill-opacity");return this.s};
g.H=function(a){this.U=a;this.g.U=a;this.g.ka=new Mc(this.g,!1,!0,"blocklyFlyoutScrollbar",this.Ks);this.pb();Array.prototype.push.apply(this.Lm,r(this.s,"wheel",this,this.Fu));this.Re||(this.Ak=this.Mm.bind(this),xe(this.U,this.Ak));Array.prototype.push.apply(this.Lm,r(this.Ab,"mousedown",this,this.nf));this.g.ie=this.U.ie.bind(this.U);this.g.Mo(this.U.W);var b=this.g;b.uf=new je(b);Cf(a.nc,{component:this,weight:1,yd:[Ff,Jf]})};
g.m=function(){this.pb();Df(this.g.nc,this.id);u(this.Lm);this.Ak&&(rb(this.U.gb,this.Ak),this.Ak=null);this.g&&(this.g.$a.unsubscribe(this.Ab),this.g.U=null,this.g.m(),this.g=null);this.s&&(D(this.s),this.s=null);this.U=this.Ab=null};g.me=function(){return this.pa};g.isVisible=function(){return this.xc};g.la=function(a){var b=a!=this.isVisible();this.xc=a;b&&(this.Re||uj(this.g),this.vj())};g.ng=function(a){var b=a!=this.Of;this.Of=a;b&&this.vj()};
g.vj=function(){var a=this.Of?this.isVisible():!1;this.s.style.display=a?"block":"none";this.g.ka.ng(a)};g.pb=function(){if(this.isVisible()){this.la(!1);for(var a=0,b;b=this.gb[a];a++)u(b);this.gb.length=0;this.vf&&(rb(this.g.gb,this.vf),this.vf=null)}};
g.show=function(a){this.g.Ib(!1);this.pb();pk(this);"string"==typeof a&&(a=qk(this,a));this.la(!0);a=ce(a);a=rk(this,a);sk(this,a.$s,a.nt);this.gb.push(r(this.Ab,"mouseover",this,function(){for(var b=this.g.Xa(!1),c=0,d;d=b[c];c++)d.Xi()}));this.pa=0;this.g.Ib(!0);this.zo();this.Mm();this.position();this.vf=this.zo.bind(this);xe(this.g,this.vf)};
function rk(a,b){var c=[],d=[];a.so.length=0;for(var e=a.xs,f=0,h;h=b[f];f++){if(h.custom){var l=qk(a,h.custom);l=ce(l);b.splice.apply(b,[f,1].concat(l));h=b[f]}switch(h.kind.toUpperCase()){case "BLOCK":l=h;var m=l;h=null;var n=m.blockxml;n&&"string"!=typeof n?h=n:n&&"string"==typeof n?(h=td(n),m.blockxml=h):m.type&&(h=G("xml"),h.setAttribute("type",m.type),h.setAttribute("disabled",m.disabled),m.blockxml=h);if(!h)throw Error("Error: Invalid block definition. Block definition must have blockxml or type.");
m=h;h=a;n=vd(m,h.g);n.isEnabled()||h.so.push(n);h=n;l=parseInt(l.gap||m.getAttribute("gap"),10);d.push(isNaN(l)?e:l);c.push({type:"block",block:h});break;case "SEP":l=d;m=e;h=parseInt(h.gap,10);!isNaN(h)&&0<l.length?l[l.length-1]=h:l.push(m);break;case "LABEL":l=tk(a,h,!0);c.push({type:"button",button:l});d.push(e);break;case "BUTTON":l=tk(a,h,!1),c.push({type:"button",button:l}),d.push(e)}}return{$s:c,nt:d}}
function qk(a,b){b=a.g.U.Uo[b]||null;if("function"!=typeof b)throw TypeError("Couldn't find a callback function when opening a toolbox category.");a=b(a.g.U);if(!Array.isArray(a))throw new TypeError("Result of toolbox category callback must be an array.");return a}function tk(a,b,c){if(!Gh)throw Error("Missing require for Blockly.FlyoutButton");return new Gh(a.g,a.U,b,c)}
function pk(a){for(var b=a.g.Xa(!1),c=0,d;d=b[c];c++)d.h==a.g&&d.m(!1,!1);for(c=0;c<a.Tk.length;c++)if(b=a.Tk[c])wg(b),D(b);for(c=a.Tk.length=0;b=a.Uh[c];c++)b.m();a.Uh.length=0;a.g.uf.clear()}function uk(a,b){return function(c){var d=a.U.ie(c);d&&(Ng(d,b),Mg(d,c,a))}}g.nf=function(a){var b=this.U.ie(a);b&&Mg(b,a,this)};
function Hg(a,b){var c=null;w++;var d=a.U.Qf();a.U.Ib(!1);try{var e=a.U;if(!b.P())throw Error("oldBlock is not rendered.");var f=qd(b,!0);e.Ib(!1);var h=vd(f,e);if(!h.P())throw Error("block is not rendered.");var l=eb(e.sa),m=eb(a.g.sa),n=b.ba();n.scale(a.g.scale);var q=ya(za(m,n),l);q.scale(1/e.scale);h.moveBy(q.x,q.y);c=h}finally{w--}id();b=Bd(a.U,d);if(0==w){z(!0);for(d=0;d<b.length;d++)e=b[d],x(new (A("var_create"))(e));x(new (A("create"))(c))}a.Re?a.pb():a.Mm();return c}
g.Mm=function(){for(var a=this.g.Xa(!1),b=0,c;c=a[b];b++)if(-1==this.so.indexOf(c))for(var d=ue(this.U,sb(c));c;)c.Zb(d),c=ub(c)};
g.zo=function(){this.vf&&rb(this.g.gb,this.vf);this.g.scale=this.U.scale;for(var a=0,b=this.g.Xa(!1),c=0,d;d=b[c];c++){var e=Xf(d).width;d.u&&(e-=this.Ah);a=Math.max(a,e)}for(c=0;d=this.Uh[c];c++)a=Math.max(a,d.width);a+=1.5*this.Hg+this.Ah;a*=this.g.scale;a+=Oc;if(this.pa!=a){for(c=0;d=b[c];c++){if(this.o){e=d.ba().x;var f=a/this.g.scale-this.Hg;d.u||(f-=this.Ah);d.moveBy(f-e,0)}d.Yp&&(e=d.Yp,f=d,d=Xf(f),e.setAttribute("width",d.width),e.setAttribute("height",d.height),f=f.ba(),e.setAttribute("y",
f.y),e.setAttribute("x",this.o?f.x-d.width:f.x))}if(this.o)for(c=0;d=this.Uh[c];c++)d.moveTo(a/this.g.scale-d.width-this.Hg-this.Ah,d.kg.y);this.U.ab!=this.Ff||2!=this.Ff||this.U.Ea||this.U.translate(this.U.scrollX+a,this.U.scrollY);this.pa=a;this.position();uj(this.U)}this.vf&&xe(this.g,this.vf)};function Fg(a){return a.g.ka?a.g.ka.isVisible():!1};function vk(a){vk.j.constructor.call(this,a)}F(vk,ok);g=vk.prototype;g.ou=function(a){if(this.isVisible()){var b=this.g.Yb,c=b.$e(),d=Le(b);b=Gj(b);"number"==typeof a.y&&(this.g.scrollY=-(c.top+(c.height-d.height)*a.y));this.g.translate(this.g.scrollX+b.left,this.g.scrollY+b.top)}};
g.position=function(){if(this.isVisible()&&this.U.isVisible()){var a=Le(this.U.Yb);this.wb=a.height;var b=this.pa-this.ya;a=a.height-2*this.ya;var c=3==this.Ff,d=b+this.ya;d=["M "+(c?d:0)+",0"];d.push("h",c?-b:b);d.push("a",this.ya,this.ya,0,0,c?0:1,c?-this.ya:this.ya,this.ya);d.push("v",Math.max(0,a));d.push("a",this.ya,this.ya,0,0,c?0:1,c?this.ya:-this.ya,this.ya);d.push("h",c?b:-b);d.push("z");this.Ab.setAttribute("d",d.join(" "));this.isVisible()?(c=this.U.Yb,b=Gj(c),a=Le(c),c=Fj(c),c=this.U.ab==
this.Ff?this.U.Ea?2==this.Ff?c.width:a.width-this.pa:2==this.Ff?0:a.width:2==this.Ff?0:a.width+b.left-this.pa):c=0;b=this.pa;a=this.wb;this.s.setAttribute("width",b);this.s.setAttribute("height",a);ik(this.g,b,a);"svg"==this.s.tagName?Hc(this.s,"translate("+c+"px,0px)"):this.s.setAttribute("transform","translate("+c+",0)");if(b=this.g.ka)b.Al(c,0),b.resize(),b.wa&&b.wa.setPosition(b.wa.position.x,b.wa.position.y),b.ma&&b.ma.setPosition(b.ma.position.x,b.ma.position.y)}};
g.Fo=function(){var a=this.g.ka;a.ma&&a.ma.set(0,!0)};g.Fu=function(a){var b=ib(a);if(b.y){var c=this.g.Yb,d=c.$e();b=Le(c).top-d.top+b.y;c=this.g.ka;c.ma&&c.ma.set(b,!0);ih();tf()}a.preventDefault();a.stopPropagation()};
function sk(a,b,c){a.g.scale=a.U.scale;for(var d=a.Hg,e=a.o?d:d+a.Ah,f=0,h;h=b[f];f++)if("block"==h.type){h=h.block;for(var l=tb(h,!1),m=0,n;n=l[m];m++)n.Ia=!0;h.O();m=h.P();l=Xf(h);n=h.u?e-a.Ah:e;h.moveBy(n,d);var q=a,t=h,y=l,N=f;n=B(xc,{"fill-opacity":0,x:a.o?n-l.width:n,y:d,height:y.height,width:y.width},null);n.Yc=t;sg(n);q.g.sa.insertBefore(n,t.P());t.Yp=n;q.Tk[N]=n;q=a;q.gb.push(r(m,"mousedown",null,uk(q,h)));q.gb.push(r(n,"mousedown",null,uk(q,h)));q.gb.push(Ib(m,"mouseenter",h,h.Vj));q.gb.push(Ib(m,
"mouseleave",h,h.Xi));q.gb.push(Ib(n,"mouseenter",h,h.Vj));q.gb.push(Ib(n,"mouseleave",h,h.Xi));d+=l.height+c[f]}else"button"==h.type&&(l=a,m=h.button,n=e,q=d,t=m.Aa(),m.moveTo(n,q),m.show(),l.gb.push(r(t,"mousedown",l,l.nf)),l.Uh.push(m),d+=h.button.height+c[f])}g.Vm=function(){if(!this.s||this.Re||!this.isVisible())return null;var a=this.s.getBoundingClientRect(),b=a.left;return 2==this.Ff?new Aa(-1E9,1E9,-1E9,b+a.width):new Aa(-1E9,1E9,b,1E9)};v(Tb,"default",vk);
function wk(a){this.g=a;this.id="zoomControls";this.Pe=this.Dj=this.Fh=this.co=this.bo=this.ho=null}g=wk.prototype;g.Vd=32;g.ad=32;g.Sj=2;g.Nj=11;g.Ih=20;g.Ol=20;g.s=null;g.te=0;g.Le=0;g.zi=!1;
g.Aa=function(){this.s=B(rc,{},null);var a=String(Math.random()).substring(2);this.Dj=B(rc,{"class":"blocklyZoom"},this.s);var b=B(jc,{id:"blocklyZoomoutClipPath"+a},this.Dj);B(xc,{width:32,height:32},b);B(sc,{width:96,height:124,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+a+")"},this.Dj).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.g.options.tf+"sprites.png");this.co=r(this.Dj,"mousedown",null,this.Vr.bind(this,-1));this.Fh=B(rc,{"class":"blocklyZoom"},this.s);b=B(jc,
{id:"blocklyZoominClipPath"+a},this.Fh);B(xc,{width:32,height:32},b);B(sc,{width:96,height:124,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+a+")"},this.Fh).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.g.options.tf+"sprites.png");this.bo=r(this.Fh,"mousedown",null,this.Vr.bind(this,1));this.g.fb()&&(this.Pe=B(rc,{"class":"blocklyZoom"},this.s),b=B(jc,{id:"blocklyZoomresetClipPath"+a},this.Pe),B(xc,{width:32,height:32},b),B(sc,{width:96,height:124,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+
a+")"},this.Pe).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.g.options.tf+"sprites.png"),this.ho=r(this.Pe,"mousedown",null,this.ju.bind(this)));return this.s};g.H=function(){Cf(this.g.nc,{component:this,weight:2,yd:[If]});this.zi=!0};g.m=function(){Df(this.g.nc,"zoomControls");this.s&&D(this.s);this.ho&&u(this.ho);this.bo&&u(this.bo);this.co&&u(this.co)};g.Xg=function(){var a=this.Sj+2*this.ad;this.Pe&&(a+=this.Nj+this.ad);return new Aa(this.Le,this.Le+a,this.te,this.te+this.Vd)};
g.position=function(a,b){if(this.zi){var c=xj(a),d=this.Sj+2*this.ad;this.Pe&&(d+=this.Nj+this.ad);var e=c.vertical;a=yj(wj(c,new Ha(this.Vd,d),this.Ol,this.Ih,a,this.g),this.Ih,0===e?1:0,b);0===e?(e=this.Sj+this.ad,this.Fh.setAttribute("transform","translate(0, "+e+")"),this.Pe&&this.Pe.setAttribute("transform","translate(0, "+(e+this.Nj+this.ad)+")")):(e=this.Pe?this.Nj+this.ad:0,this.Fh.setAttribute("transform","translate(0, "+e+")"),this.Dj.setAttribute("transform","translate(0, "+(e+this.Sj+
this.ad)+")"));this.Le=a.top;this.te=a.left;this.s.setAttribute("transform","translate("+this.te+","+this.Le+")")}};g.Vr=function(a,b){ed(this.g);lk(this.g,a);xk(this);xb=null;b.stopPropagation();b.preventDefault()};
g.ju=function(a){ed(this.g);var b=Math.log(this.g.options.Fa.zr/this.g.scale)/Math.log(this.g.options.Fa.rr),c=this.g;C(c.sa,"blocklyCanvasTransitioning");C(c.qd,"blocklyCanvasTransitioning");lk(this.g,b);b=this.g;if(b.fb()){c=b.Rb();var d=(c.scrollWidth-c.mb)/2,e=(c.scrollHeight-c.lb)/2;d=-d-c.scrollLeft;e=-e-c.scrollTop;b.scroll(d,e)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.");setTimeout(this.g.jt.bind(this.g),500);xk(this);xb=null;
a.stopPropagation();a.preventDefault()};function xk(a){a=new (A("click"))(null,a.g.id,"zoom_controls");x(a)}Pe([".blocklyZoom>image, .blocklyZoom>svg>image {","opacity: .4;","}",".blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {","opacity: .6;","}",".blocklyZoom>image:active, .blocklyZoom>svg>image:active {","opacity: .8;","}"]);function yk(a){this.Id="undefined"==typeof a;this.Cb=a?a.id:"";this.group=Yb;this.zb=!1}F(yk,kd);yk.prototype.type="finished_loading";yk.prototype.R=function(){var a={type:this.type};this.group&&(a.group=this.group);this.Cb&&(a.workspaceId=this.Cb);return a};yk.prototype.M=function(a){this.Id=!1;this.Cb=a.workspaceId;this.group=a.group};v(Nb,"finished_loading",yk);function zk(a){this.bi=a;this.Aa()}g=zk.prototype;g.Y=null;g.Cd=null;g.bi=null;g.yf=1;g.nj=null;g.Gp=new p(0,0);g.Aa=function(){this.Y||(this.Y=B(yc,{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklyBlockDragSurface"},this.bi),this.Cd=B(rc,{},this.Y))};
function Yf(a,b){if(a.Cd.childNodes.length)throw Error("Already dragging a block.");a.Cd.appendChild(b);a.Y.style.display="block";a.nj=new p(0,0)}g.sg=function(a,b){this.nj=new p(a*this.yf,b*this.yf);a=this.nj.x;b=this.nj.y;a=a.toFixed(0);b=b.toFixed(0);this.Y.style.display="block";Hc(this.Y,"translate3d("+a+"px, "+b+"px, 0px)")};g.Zm=function(){var a=bb(this.Y);return new p(a.x/this.yf,a.y/this.yf)};g.P=function(){return this.Y};
g.ck=function(a){a?a.appendChild(this.Cd.firstChild):this.Cd.removeChild(this.Cd.firstChild);this.Y.style.display="none";if(this.Cd.childNodes.length)throw Error("Drag group was not cleared.");this.nj=null};function Ak(a,b){"string"==typeof a&&(a=document.getElementById(a)||document.querySelector(a));if(!document.contains(a))throw Error("Error: container is not in current document");b=new ee(b||{});var c=document.createElement("div");c.className="injectionDiv";c.tabIndex=0;wh(c,"label",k.WORKSPACE_ARIA_LABEL);a.appendChild(c);a=Bk(c,b);var d=new zk(c),e=new Vj(c),f=Ck(a,b,d,e);Dk(f);of=f;sj(f);c.addEventListener("focusin",function(){of=f});return f}
function Bk(a,b){a.setAttribute("dir","LTR");var c=b.At,d=b.tf;if(!Oe){Oe=!0;var e=Re.join("\n");Re.length=0;c&&(c=d.replace(/[\\/]$/,""),e=e.replace(/<<<PATH>>>/g,c),c=document.createElement("style"),c.id="blockly-common-style",c.appendChild(document.createTextNode(e)),document.head.insertBefore(c,document.head.firstChild))}a=B(yc,{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklySvg",tabindex:"0"},
a);c=B(kc,{},a);e=b.eq;c=B(vc,{id:"blocklyGridPattern"+String(Math.random()).substring(2),patternUnits:"userSpaceOnUse"},c);0<e.length&&0<e.spacing?(B(tc,{stroke:e.colour},c),1<e.length&&B(tc,{stroke:e.colour},c)):B(tc,{},c);b.dn=c;return a}
function Ck(a,b,c,d){b.Sa=null;b=new Wj(b,c,d);c=b.options;b.scale=c.Fa.zr;a.appendChild(b.Aa("blocklyMainBackground"));C(Qj(b),b.Da.gd());C(Qj(b),b.je().gd());!c.fq&&c.Kd&&(d=hk(b,yc),Gc(d,a));if(c.iq){if(!zj)throw Error("Missing require for Blockly.Trashcan");b.Bh=new zj(b);d=b.Bh.Aa();b.s.insertBefore(d,b.sa)}if(c.Fa&&c.Fa.controls){if(!wk)throw Error("Missing require for Blockly.ZoomControls");b.Cj=new wk(b);c=b.Cj.Aa();b.s.appendChild(c)}b.$a.subscribe(a,"workspaceBackgroundColour","background-color");
b.translate(0,0);xe(b,Ek(b));sj(b);ch||(ch=document.createElement("div"),ch.className="blocklyWidgetDiv",(lf||document.body).appendChild(ch));kf();qg||(qg=document.createElement("div"),qg.className="blocklyTooltipDiv",(lf||document.body).appendChild(qg));return b}function Fk(a){var b=a.Yb;if(!(Ag(b.g)&&Bg(b.g)||a.Ra())){b=b.$e(!0);for(var c=[].concat(a.sj),d=0,e;e=c[d];d++)dg(a,b,e)}}
function Ek(a){return function(b){var c=a.Yb;if(!(Ag(c.g)&&Bg(c.g)||a.Ra()))if(-1!==$b.indexOf(b.type)){c=c.$e(!0);var d=null;switch(b.type){case "create":case "move":(d=a.tc(b.ea))&&(d=d.jd())}if(d){var e=Yb;z(b.group);dg(a,c,d)&&!b.group&&console.warn("Moved object in bounds but there was no event group. This may break undo.");null!==e&&z(e)}}else"viewport_change"===b.type&&b.scale>b.Mi&&Fk(a)}}
function dg(a,b,c){var d=c.Xg(),e=jd(b.top,d.top,b.top+b.height-(d.bottom-d.top))-d.top,f=b.left;b=b.left+b.width-(d.right-d.left);a.o?f=Math.min(b,f):b=Math.max(f,b);return(a=jd(f,d.left,b)-d.left)||e?(c.moveBy(a,e),!0):!1}
function Dk(a){var b=a.options,c=E(a);r(c.parentNode,"contextmenu",null,function(e){ab(e)||e.preventDefault()});c=r(window,"resize",null,function(){id(!0);sj(a);Fk(a)});a.wl=c;Gk();if(b.Kd){c=a.Ea;var d=a.uc(!0);c?c.H():d&&(d.H(a),d.show(b.Kd),"function"==typeof d.Fo&&d.Fo())}b.iq&&a.Bh.H();b.Fa&&b.Fa.controls&&a.Cj.H();b.Hb&&b.Hb.scrollbars?(a.ka=new Mc(a,!0===b.Hb.scrollbars||!!b.Hb.scrollbars.yi,!0===b.Hb.scrollbars||!!b.Hb.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),a.ka.resize()):a.dj({x:.5,
y:.5});b.Ct&&Hk(b.tf,a)}function Gk(){na||(r(document,"scroll",null,function(){for(var a=ye(),b=0,c;c=a[b];b++)c.wj&&c.wj()}),r(document,"keydown",null,Ik),Ib(document,"touchend",null,Bb),Ib(document,"touchcancel",null,Bb),Ta&&r(window,"orientationchange",document,function(){sj(of)}));na=!0}
function Hk(a,b){function c(){for(;e.length;)u(e.pop());d.preload()}var d=b.wd;d.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");d.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");d.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var e=[];e.push(r(document,"mousemove",null,c,!0));e.push(r(document,"touchstart",null,c,!0))};function xi(a){this.Pr="";this.qr=Object.create(null);if(a){a=a.split(",");for(var b=0;b<a.length;b++)this.qr[a[b]]=!0}this.reset()}var Bi="DEVELOPER_VARIABLE";xi.prototype.reset=function(){this.Ad=Object.create(null);this.Mp=Object.create(null);this.W=null};xi.prototype.Mo=function(a){this.W=a};
xi.prototype.Sb=function(a,b){var c=a;"VARIABLE"==b&&(this.W?a=(a=this.W.kd(a))?a.name:null:(console.warn("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());"),a=null),a&&(c=a));a=c.toLowerCase();var d="VARIABLE"==b||b==Bi?this.Pr:"";b in this.Ad||(this.Ad[b]=Object.create(null));var e=this.Ad[b];if(a in e)return d+e[a];
b=wi(this,c,b);e[a]=b.substr(d.length);return b};function wi(a,b,c){b?(b=encodeURI(b.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(b[0])&&(b="my_"+b)):b=k.UNNAMED_KEY||"unnamed";for(var d="";a.Mp[b+d]||b+d in a.qr;)d=d?d+1:2;b+=d;a.Mp[b]=!0;return("VARIABLE"==c||c==Bi?a.Pr:"")+b}function qe(a,b){return a.toLowerCase()==b.toLowerCase()};var bk={};function zi(a){var b=re(a,"procedures_defnoreturn").map(function(c){return c.Ze()});a=re(a,"procedures_defreturn").map(function(c){return c.Ze()});b.sort(Jk);a.sort(Jk);return[b,a]}function Jk(a,b){return a[0].localeCompare(b[0],void 0,{sensitivity:"base"})}function Kk(a,b){if(b.Ia)return a;for(a=a||k.UNNAMED_KEY||"unnamed";Lk(a,b.h,b);){var c=a.match(/^(.*?)(\d+)$/);a=c?c[1]+(parseInt(c[2],10)+1):a+"2"}return a}
function Lk(a,b,c){b=ke(b,!1);for(var d=0;d<b.length;d++)if(b[d]!=c&&b[d].Ze){var e=b[d].Ze();if(qe(e[0],a))return!0}return!1}function Mk(a){a=a.trim();var b=Kk(a,this.C()),c=this.Oa();if(c!=a&&c!=b){a=ke(this.C().h,!1);for(var d=0;d<a.length;d++)a[d].qh&&a[d].qh(c,b)}return b}
function ck(a){function b(f,h){for(var l=0;l<f.length;l++){var m=f[l][0],n=f[l][1],q=G("block");q.setAttribute("type",h);q.setAttribute("gap",16);var t=G("mutation");t.setAttribute("name",m);q.appendChild(t);for(m=0;m<n.length;m++){var y=G("arg");y.setAttribute("name",n[m]);t.appendChild(y)}c.push(q)}}var c=[];if(L.procedures_defnoreturn){var d=G("block");d.setAttribute("type","procedures_defnoreturn");d.setAttribute("gap",16);var e=G("field");e.setAttribute("name","NAME");e.appendChild(document.createTextNode(k.PROCEDURES_DEFNORETURN_PROCEDURE));
d.appendChild(e);c.push(d)}L.procedures_defreturn&&(d=G("block"),d.setAttribute("type","procedures_defreturn"),d.setAttribute("gap",16),e=G("field"),e.setAttribute("name","NAME"),e.appendChild(document.createTextNode(k.PROCEDURES_DEFRETURN_PROCEDURE)),d.appendChild(e),c.push(d));L.procedures_ifreturn&&(d=G("block"),d.setAttribute("type","procedures_ifreturn"),d.setAttribute("gap",16),c.push(d));c.length&&c[c.length-1].setAttribute("gap",24);a=zi(a);b(a[0],"procedures_callnoreturn");b(a[1],"procedures_callreturn");
return c}
function Nk(a){for(var b=[],c=re(a,"procedures_mutatorarg"),d=0,e;e=c[d];d++)b.push(I(e,"NAME"));c=G("xml");d=G("block");d.setAttribute("type","procedures_mutatorarg");e=G("field");e.setAttribute("name","NAME");e.appendChild(document.createTextNode(Ok("x",b)));d.appendChild(e);c.appendChild(d);if(b=$d(c)){if(!a.options.Kd)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(de(b)){if(!a.Ea)throw Error("Existing toolbox has no categories.  Can't change mode.");a.options.Kd=b;a.Ea.O(b)}else{if(!a.J)throw Error("Existing toolbox has categories.  Can't change mode.");
a.options.Kd=b;a.J.show(b)}}else if(a.options.Kd)throw Error("Can't nullify an existing toolbox.");}function dk(a){if("bubble_open"==a.type&&"mutator"===a.hm&&a.ih){a=(dc[a.Cb]||null).tc(a.ea);var b=a.type;if("procedures_defnoreturn"==b||"procedures_defreturn"==b)a=a.yb.g,Nk(a),xe(a,Pk)}}function Pk(a){"create"!=a.type&&"delete"!=a.type&&"change"!=a.type||Nk(dc[a.Cb]||null)}
function Qk(a){var b=Zb,c=a.Ze()[0],d=a.qa(!0),e=[];a=ke(a.h,!1);for(var f=0;f<a.length;f++)if(a[f].vc){var h=a[f].vc();h&&qe(h,c)&&e.push(a[f])}for(c=0;a=e[c];c++)f=(f=a.qa())&&sd(f),a.Na(d),h=(h=a.qa())&&sd(h),f!=h&&(Zb=!1,x(new (A("change"))(a,"mutation",null,f,h)),Zb=b)}function Rk(a,b){b=ke(b,!1);for(var c=0;c<b.length;c++)if(b[c].Ze){var d=b[c].Ze();if(d&&qe(d[0],a))return b[c]}return null};function Sk(){Tk=this;this.Tc=Object.create(null);this.jh=Object.create(null)}var Tk,Uk={Shift:16,Control:17,Alt:18,Meta:91};Sk.prototype.register=function(a,b){if(this.Tc[a.name]&&!b)throw Error('Shortcut with name "'+a.name+'" already exists.');this.Tc[a.name]=a};
Sk.prototype.unregister=function(a){if(!this.Tc[a])return console.warn('Keyboard shortcut with name "'+a+'" not found.'),!1;for(var b in this.jh){var c=b,d=this.jh[c],e=d.indexOf(a);-1<e&&(d.splice(e,1),0==d.length&&delete this.jh[c])}delete this.Tc[a];return!0};function Vk(a,b){var c=Tk;a=String(a);var d=c.jh[a];if(d)throw Error('Shortcut with name "'+b+'" collides with shortcuts '+d.toString());c.jh[a]=[b]}
Sk.prototype.Xn=function(a,b){var c="";for(d in Uk)b.getModifierState(d)&&(""!=c&&(c+="+"),c+=d);""!=c&&b.keyCode?c=c+"+"+b.keyCode:b.keyCode&&(c=b.keyCode.toString());c=this.jh[c]||[];if(!c)return!1;var d=0;for(var e;e=c[d];d++)if(e=this.Tc[e],(!e.Ta||e.Ta(a))&&e.ga&&e.ga(a,b,e))return!0;return!1};
function Wk(a,b){var c="";if(b){for(var d=nd(Uk),e=0,f;f=b[e];e++)if(0>d.indexOf(f))throw Error(f+" is not a valid modifier key.");for(var h in Uk)-1<b.indexOf(Uk[h])&&(""!=c&&(c+="+"),c+=h)}""!=c&&a?c=c+"+"+a:a&&(c=a.toString());return c}new Sk;function me(a,b,c,d){this.h=a;this.name=b;this.type=c||"";this.ne=d||mb();x(new (A("var_create"))(this))}me.prototype.S=function(){return this.ne};function Xk(a,b){return a.name.localeCompare(b.name,void 0,{sensitivity:"base"})};var Yj={};function yi(a){var b=ke(a,!1);a=Object.create(null);for(var c=0;c<b.length;c++){var d=b[c].ke();if(d)for(var e=0;e<d.length;e++){var f=d[e],h=f.S();h&&(a[h]=f)}}b=[];for(h in a)b.push(a[h]);return b}var Ai={};function Zj(a){var b=[],c=document.createElement("button");c.setAttribute("text","%{BKY_NEW_VARIABLE}");c.setAttribute("callbackKey","CREATE_VARIABLE");nk(a,function(d){Yk(d.Hl)});b.push(c);a=Zk(a);return b=b.concat(a)}
function Zk(a){a=a.ui("");var b=[];if(0<a.length){var c=a[a.length-1];if(L.variables_set){var d=G("block");d.setAttribute("type","variables_set");d.setAttribute("gap",L.math_change?8:24);d.appendChild($k(c));b.push(d)}L.math_change&&(d=G("block"),d.setAttribute("type","math_change"),d.setAttribute("gap",L.variables_get?20:8),d.appendChild($k(c)),c=td('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),d.appendChild(c),b.push(d));if(L.variables_get){a.sort(Xk);
c=0;for(var e;e=a[c];c++)d=G("block"),d.setAttribute("type","variables_get"),d.setAttribute("gap",8),d.appendChild($k(e)),b.push(d)}}return b}function Ok(a,b){if(!b.length)return a;for(var c="",d="ijkmnopqrstuvwxyzabcdefgh".indexOf(a);;){for(var e=!1,f=0;f<b.length;f++)if(b[f].toLowerCase()==a){e=!0;break}if(!e)return a;d++;25==d&&(d=0,c=Number(c)+1);a="ijkmnopqrstuvwxyzabcdefgh".charAt(d)+c}}
function Yk(a){function b(c){al(k.NEW_VARIABLE_TITLE,c,function(d){if(d){var e=bl(d,a);if(e){if(""==e.type)var f=k.VARIABLE_ALREADY_EXISTS.replace("%1",e.name);else f=k.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,f=f.replace("%1",e.name).replace("%2",e.type);ne(f,function(){b(d)})}else a.cd(d,"")}})}b("")}
function cl(a,b){function c(d){var e=k.RENAME_VARIABLE_TITLE.replace("%1",b.name);al(e,d,function(f){if(f){var h=dl(f,b.type,a);h?(h=k.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",h.name).replace("%2",h.type),ne(h,function(){c(f)})):a.xf(b.S(),f)}})}c("")}function al(a,b,c){el(a,b,function(d){d&&(d=d.replace(/[\s\xa0]+/g," ").trim(),d==k.RENAME_VARIABLE||d==k.NEW_VARIABLE)&&(d=null);c(d)})}
function dl(a,b,c){c=c.W.Qf();a=a.toLowerCase();for(var d=0,e;e=c[d];d++)if(e.name.toLowerCase()==a&&e.type!=b)return e;return null}function bl(a,b){b=b.W.Qf();a=a.toLowerCase();for(var c=0,d;d=b[c];c++)if(d.name.toLowerCase()==a)return d;return null}function $k(a){var b=G("field");b.setAttribute("name","VAR");b.setAttribute("id",a.S());b.setAttribute("variabletype",a.type);b.appendChild(document.createTextNode(a.name));return b}
function fl(a,b,c,d){var e=gl(a,b,c,d);e||(e=a.uf,c||(c=Ok("i",(a.md?a.U:a).Sm())),e=e?e.cd(c,d,b):a.cd(c,d,b));return e}function gl(a,b,c,d){var e=a.uf,f=null;if(b&&(f=a.kd(b),!f&&e&&(f=e.kd(b)),f))return f;if(c){if(void 0==d)throw Error("Tried to look up a variable by name without a type");f=a.Nc(c,d);!f&&e&&(f=e.Nc(c,d))}return f}function Bd(a,b){a=a.Qf();var c=[];if(b.length!=a.length)for(var d=0;d<a.length;d++){var e=a[d];-1==b.indexOf(e)&&c.push(e)}return c};var of=null,J=null,Xd=[],kk=null,hl=null,il=null,lf=null;function sj(a){for(;a.options.Sa;)a=a.options.Sa;var b=E(a),c=Hj(a),d=b.parentNode;if(d){var e=d.offsetWidth;d=d.offsetHeight;c.width!=e&&(b.setAttribute("width",e+"px"),ik(a,e,null));c.height!=d&&(b.setAttribute("height",d+"px"),ik(a,null,d));a.resize()}}function Ik(a){var b=of;!b||ab(a)||b.I&&!b.isVisible()||Tk.Xn(b,a)}function jl(a){a.h.md||(z(!0),id(),a.u?a.m(!1,!0):a.m(!0,!0),z(!1))}
function kl(a){if(a.hh)a=null;else{for(var b=qd(a,!0),c=0,d;d=b.childNodes[c];c++)if("next"==d.nodeName.toLowerCase()){b.removeChild(d);break}c=a.ba();b.setAttribute("x",a.o?-c.x:c.x);b.setAttribute("y",c.y);a={xml:b,source:a.h,Du:sb(a,!0)}}a&&(kk=a.xml,hl=a.source,il=a.Du)}function ll(){if(!kk)return!1;var a=hl;a.md&&(a=a.U);return il&&ue(a,il)?(z(!0),jk(a),z(!1),!0):!1}function id(a){xg();ih();tf();var b=!!a;Gf(of.nc,Kf).forEach(function(c){c.yp(b)})}function ne(a,b){alert(a);b&&b()}
function oe(a,b){b(confirm(a))}function el(a,b,c){c(prompt(a,b))}function ml(a){return function(){hi(this,a)}}function nl(a){for(var b=0;b<a.length;b++){var c=a[b];if(c){var d=c.type;null==d||""===d?console.warn("Block definition #"+b+" in JSON array is missing a type attribute. Skipping."):(L[d]&&console.warn("Block definition #"+b+' in JSON array overwrites prior definition of "'+d+'".'),L[d]={H:ml(c)})}else console.warn("Block definition #"+b+" in JSON array is "+c+". Skipping.")}}
function Ci(a){return/^\s*-?\d+(\.\d+)?\s*$/.test(a)};var ol={am:"\u12a0\u121b\u122d\u129b",ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",be:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0456","be-tarask":"Tara\u0161kievica",bg:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a",bn:"\u09ac\u09be\u0982\u09b2\u09be",br:"Brezhoneg",ca:"Catal\u00e0",cs:"\u010cesky",da:"Dansk",de:"Deutsch",el:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",en:"English",eo:"Esperanto",es:"Espa\u00f1ol",eu:"Euskara",fa:"\u0641\u0627\u0631\u0633\u06cc",
fi:"Suomi",fo:"F\u00f8royskt",fr:"Fran\u00e7ais",gl:"Galego",ha:"Hausa",he:"\u05e2\u05d1\u05e8\u05d9\u05ea",hi:"\u0939\u093f\u0928\u094d\u0926\u0940",hr:"Hrvatski",hu:"Magyar",hy:"\u0570\u0561\u0575\u0565\u0580\u0567\u0576",ia:"Interlingua",id:"Bahasa Indonesia",ig:"As\u1ee5s\u1ee5 Igbo",is:"\u00cdslenska",it:"Italiano",ja:"\u65e5\u672c\u8a9e",kab:"Taqbaylit",kn:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",ko:"\ud55c\uad6d\uc5b4",lt:"Lietuvi\u0173",lv:"Latvie\u0161u",ms:"Bahasa Melayu",my:"\u1019\u103c\u1014\u103a\u1019\u102c\u1005\u102c",
nb:"Norsk (bokm\u00e5l)",nl:"Nederlands, Vlaams",pl:"Polski",pms:"Piemont\u00e8is",pt:"Portugu\u00eas","pt-br":"Portugu\u00eas Brasileiro",ro:"Rom\u00e2n\u0103",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",sc:"Sardu",sk:"Sloven\u010dina",sl:"Sloven\u0161\u010dina",sq:"Shqip",sr:"\u0421\u0440\u043f\u0441\u043a\u0438","sr-latn":"Srpski",sv:"Svenska",th:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",ti:"\u1275\u130d\u122d\u129b",tr:"T\u00fcrk\u00e7e",uk:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",
ur:"\u0627\u064f\u0631\u062f\u064f\u0648\u202c",vi:"Ti\u1ebfng Vi\u1ec7t",yo:"\u00c8d\u00e8 Yor\u00f9b\u00e1","zh-hans":"\u7b80\u4f53\u4e2d\u6587","zh-hant":"\u6b63\u9ad4\u4e2d\u6587"},pl=window.BlocklyGamesLang,ql=window.BlocklyGamesLanguages,rl=["ar","fa","he","ur"].includes(pl),sl=/\.html$/.test(window.location.pathname),S=document.getElementById.bind(document);
function tl(a){try{if(a.lineno||a.colno){var b=Date.now();if(!(tl.yq+1E4>b)){tl.yq=b;var c=new XMLHttpRequest,d="error="+encodeURIComponent((a.error&&a.error.stack||a.message+" "+a.filename+" "+a.lineno+":"+a.colno).trim())+"&url="+encodeURIComponent(window.location);c.open("POST","/scripts/errorReporter.py");c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");c.send(d);console.log("Error reported.")}}}catch(e){console.log(a.error)}}tl.yq=0;sl||window.addEventListener("error",tl);
var T,ul=Math,vl=ul.floor,wl=Number,xl,yl=window.location.search.match(RegExp("[?&]level=([^&]+)"));xl=yl?decodeURIComponent(yl[1].replace(/\+/g,"%20")):"NaN";var zl=vl.call(ul,wl(xl));T=isNaN(zl)?1:Math.max(1,Math.min(zl,10));
function Al(a){document.title=U("Games.name",!0)+(a&&" : ")+a;document.dir=rl?"rtl":"ltr";document.head.parentElement.setAttribute("lang",pl);if(a=S("languageMenu")){for(var b=[],c=ba(ql),d=c.next();!d.done;d=c.next())d=d.value,b.push([ol[d],d]);b.sort(function(e,f){return e[0]>f[0]?1:e[0]<f[0]?-1:0});a.options.length=0;b=ba(b);for(c=b.next();!c.done;c=b.next())d=ba(c.value),c=d.next().value,d=d.next().value,c=new Option(c,d),d===pl&&(c.selected=!0),a.options.add(c);1>=a.options.length&&(a.style.display=
"none")}for(a=1;10>=a;a++)b=S("level"+a),c=!!Bl(a),b&&c&&(b.className+=" level_done");(a=document.querySelector('meta[name="viewport"]'))&&725>screen.availWidth&&a.setAttribute("content","width=725, initial-scale=.35, user-scalable=no")}function Bl(a){var b=Cl;try{var c=window.localStorage[b+a]}catch(d){}return c}
function Dl(a,b){if(!a)throw TypeError("Element not found: "+a);"string"===typeof a&&(a=S(a));a.addEventListener("click",b,!0);a.addEventListener("touchend",function(c){c.preventDefault();b(c)},!0)}function U(a,b){a=window.BlocklyGamesMsg[a];void 0===a&&(a="[Unknown message: ${name}]");return b?El(a):a}function El(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")};function Fl(a,b){for(var c=0,d=0;d<b.length;d++)for(var e=b[d];e;)setTimeout(e.zf.bind(e,a),c),e=ub(e),c+=10}function Gl(a,b){if(a.Pc())Array.prototype.push.apply(b,tb(a,!1));else{a=pd(a,!1);for(var c=0;c<a.length;c++)Gl(a[c],b)}}function Hl(a){var b=[];a=a.Xa(!0);for(var c=0;c<a.length;c++)Gl(a[c],b);return b}function Il(a,b){z(b);var c=a.shift();c&&(c.h?(c.m(!1,!0),setTimeout(Il,10,a,b)):Il(a,b));z(!1)}
Ki.register({Pb:function(){return k.UNDO},Ta:function(a){return 0<a.h.tg.length?"enabled":"disabled"},ga:function(a){we(a.h,!1)},yc:"workspace",id:"undoWorkspace",weight:1});Ki.register({Pb:function(){return k.REDO},Ta:function(a){return 0<a.h.Vi.length?"enabled":"disabled"},ga:function(a){we(a.h,!0)},yc:"workspace",id:"redoWorkspace",weight:2});
Ki.register({Pb:function(){return k.CLEAN_UP},Ta:function(a){return a.h.fb()?1<a.h.Xa(!1).length?"enabled":"disabled":"hidden"},ga:function(a){a=a.h;a.Ib(!1);z(!0);for(var b=a.Xa(!0),c=0,d=0,e;e=b[d];d++)if(e.fb()){var f=e.ba();e.moveBy(-f.x,c-f.y);cj(e);c=e.ba().y+Xf(e).height+a.Da.D().Jh}z(!1);a.Ib(!0)},yc:"workspace",id:"cleanWorkspace",weight:3});
Ki.register({Pb:function(){return k.COLLAPSE_ALL},Ta:function(a){if(a.h.options.collapse){a=a.h.Xa(!1);for(var b=0;b<a.length;b++)for(var c=a[b];c;){if(!c.isCollapsed())return"enabled";c=ub(c)}return"disabled"}return"hidden"},ga:function(a){Fl(!0,a.h.Xa(!0))},yc:"workspace",id:"collapseWorkspace",weight:4});
Ki.register({Pb:function(){return k.EXPAND_ALL},Ta:function(a){if(a.h.options.collapse){a=a.h.Xa(!1);for(var b=0;b<a.length;b++)for(var c=a[b];c;){if(c.isCollapsed())return"enabled";c=ub(c)}return"disabled"}return"hidden"},ga:function(a){Fl(!1,a.h.Xa(!0))},yc:"workspace",id:"expandWorkspace",weight:5});
Ki.register({Pb:function(a){if(a.h)return a=Hl(a.h).length,1==a?k.DELETE_BLOCK:k.DELETE_X_BLOCKS.replace("%1",String(a))},Ta:function(a){if(a.h)return 0<Hl(a.h).length?"enabled":"disabled"},ga:function(a){if(a.h){ej(a.h);var b=Hl(a.h),c=mb();2>b.length?Il(b,c):oe(k.DELETE_ALL_BLOCKS.replace("%1",b.length),function(d){d&&Il(b,c)})}},yc:"workspace",id:"workspaceDelete",weight:6});
Ki.register({Pb:function(){return k.DUPLICATE_BLOCK},Ta:function(a){a=a.block;return!a.Ia&&a.Pc()&&a.fb()?(ve(a.h)?ue(a.h,sb(a,!0)):1)?"enabled":"disabled":"hidden"},ga:function(a){if(a.block){a=a.block;var b=kk,c=hl;kl(a);jk(a.h);kk=b;hl=c}},yc:"block",id:"blockDuplicate",weight:1});
Ki.register({Pb:function(a){return a.block.Ic?k.REMOVE_COMMENT:k.ADD_COMMENT},Ta:function(a){a=a.block;return Ma||a.Ia||!a.h.options.Yh||a.isCollapsed()||!a.Vb()?"hidden":"enabled"},ga:function(a){a=a.block;a.Ic?a.Af(null):a.Af("")},yc:"block",id:"blockComment",weight:2});
Ki.register({Pb:function(a){return Tf(a.block)?k.EXTERNAL_INPUTS:k.INLINE_INPUTS},Ta:function(a){a=a.block;if(!a.Ia&&a.fb()&&!a.isCollapsed())for(var b=1;b<a.A.length;b++)if(3!=a.A[b-1].type&&3!=a.A[b].type)return"enabled";return"hidden"},ga:function(a){a.block.Wc(!Tf(a.block))},yc:"block",id:"blockInline",weight:3});
Ki.register({Pb:function(a){return a.block.isCollapsed()?k.EXPAND_BLOCK:k.COLLAPSE_BLOCK},Ta:function(a){a=a.block;return!a.Ia&&a.fb()&&a.h.options.collapse?"enabled":"hidden"},ga:function(a){a.block.zf(!a.block.isCollapsed())},yc:"block",id:"blockCollapseExpand",weight:4});
Ki.register({Pb:function(a){return a.block.isEnabled()?k.DISABLE_BLOCK:k.ENABLE_BLOCK},Ta:function(a){a=a.block;return!a.Ia&&a.h.options.disable&&a.Vb()?gi(a)?"disabled":"enabled":"hidden"},ga:function(a){a=a.block;var b=Yb;b||z(!0);a.Zb(!a.isEnabled());b||z(!1)},yc:"block",id:"blockDisable",weight:5});
Ki.register({Pb:function(a){var b=a.block;a=tb(b,!1).length;(b=ub(b))&&(a-=tb(b,!1).length);return 1==a?k.DELETE_BLOCK:k.DELETE_X_BLOCKS.replace("%1",String(a))},Ta:function(a){return!a.block.Ia&&a.block.Pc()?"enabled":"hidden"},ga:function(a){z(!0);a.block&&jl(a.block);z(!1)},yc:"block",id:"blockDelete",weight:6});
Ki.register({Pb:function(){return k.HELP},Ta:function(a){a=a.block;return("function"==typeof a.Fb?a.Fb():a.Fb)?"enabled":"hidden"},ga:function(a){a.block.showHelp()},yc:"block",id:"blockHelp",weight:7});function V(a,b){return" "+a+","+b+" "}function Jl(a,b){return" "+a+b.join("")}function Kl(a,b){return" M "+a+","+b+" "}function Sf(a,b){return" m "+a+","+b+" "}function Ll(a,b){return" l "+a+","+b+" "}function K(a,b){return" "+a+" "+b+" "}function Ml(a,b,c){return"a "+b+" "+b+" "+a+c};function Nl(){this.ud=0;this.Ls=3;this.Ec=5;this.np=8;this.Lb=10;this.tp=this.Ec;this.Rh=15;this.Lg=5;this.Tj=8;this.Gs=15;this.Pl=4;this.Fs=12;this.gs=16;this.fs=this.ep=this.Rh;this.ya=8;this.Ps=this.Kh=15;this.rp=0;this.sp=20;this.Xr=4;this.Qs=this.Ec;this.Rs=this.Lb;this.Zr=this.Ec;this.Yr=this.Lb;this.bp=!1;this.Ns=15;this.Os=100;this.Ms=15;this.Jh=24;this.js=14.5;this.hs=this.Rh+11;this.ls=2;this.ks=this.Jh;this.qp=Sf(0,0);this.Bs=12;this.Cs=6;this.Dg=11;this.Eg="normal";this.Cg="sans-serif";
this.ip=this.Kj=-1;this.Jj=4;this.Ll=16;this.Bg=5;this.fp="#fff";this.Nl=!Ma&&!Oa;this.hp=this.Ll;this.rs=this.qs=this.Ml=!1;this.ts=this.Bg;this.Gh=12;this.ss="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";
this.gp=this.us=!1;this.ps=26;this.os=this.Ll;this.ns=this.Bg-3;this.rl=String(Math.random()).substring(2);this.yk="";this.Km=null;this.Rp="";this.gi=this.Np=this.xm=null;this.cp="#cc0a0a";this.lp="#4286f4";this.Hj=100;this.up=5;this.Gj=10;this.bs=2;this.ds=4;this.jp=!1;this.zs="#000000";this.kp=.2;this.pp={Js:1,Ig:2}}g=Nl.prototype;
g.H=function(){this.Fg=this.Bn();this.Ig=this.Cn();this.Kg=this.En();this.Tl=this.Dn();var a=this.ya;this.Mj={width:a,height:a,qo:Ml("0 0,0",a,V(-a,a)),ol:Ml("0 0,0",a,V(a,a))};a=this.ya;this.Ph={Vo:Sf(0,a)+Ml("0 0,1",a,V(a,-a)),Au:Ml("0 0,1",a,V(a,a)),Vs:Ml("0 0,1",a,V(-a,a)),gm:Ml("0 0,1",a,V(-a,-a)),mu:a}};g.hj=function(){this.Yj=Object.create(null);var a=Lc("Hg",this.Dg+"pt",this.Eg,this.Cg);this.Kj=a.height;this.ip=a.Gc};
function fj(a,b){var c="auto_"+b;a.Yj[c]||(a.Yj[c]=Ol({colourPrimary:b}));return{style:a.Yj[c],name:c}}function bj(a,b){return a.Yj[b||""]||(b&&0==b.indexOf("auto_")?fj(a,b.substring(5)).style:Ol({colourPrimary:"#000000"}))}function Ol(a){var b={};a&&md(b,a);a=vb(b.colourPrimary||"#000");b.Te=a.xi;b.colourSecondary?a=vb(b.colourSecondary).xi:(a=b.Te,a=va("#fff",a,.6)||a);b.gk=a;b.colourTertiary?a=vb(b.colourTertiary).xi:(a=b.Te,a=va("#fff",a,.3)||a);b.Yd=a;b.Gd=b.hat||"";return b}
g.m=function(){this.Km&&D(this.Km);this.xm&&D(this.xm);this.Np&&D(this.Np);this.gi=null};g.Bn=function(){var a=this.Bs,b=this.Cs;return{height:a,width:b,path:" l"+[V(b,a/4),V(2*-b,a/2),V(b,a/4)].join("")}};g.En=function(){var a=this.Ns,b=this.Os;return{height:a,width:b,path:Jl("c",[V(30,-a),V(70,-a),V(b,0)])}};
g.Dn=function(){function a(f){f=f?-1:1;var h=-f,l=c/2;return Jl("c",[V(0,f*(l+2.5)),V(-b,h*(l+.5)),V(-b,f*l)])+Jl("s",[V(b,2.5*h),V(b,f*l)])}var b=this.Tj,c=this.Rh,d=a(!0),e=a(!1);return{type:this.pp.Js,width:b,height:c,Sc:e,Oi:d}};g.Cn=function(){function a(h){return" l"+[V(h*d,c),V(3*h,0),V(h*d,-c)].join("")}var b=this.Gs,c=this.Pl,d=(b-3)/2,e=a(1),f=a(-1);return{type:this.pp.Ig,width:b,height:c,sf:e,$q:f}};
function Rf(a,b){switch(b.type){case 1:case 2:return a.Tl;case 4:case 3:return a.Ig;default:throw Error("Unknown connection type");}}
g.Aa=function(a,b,c){c=this.Um(c);b="blockly-renderer-style-"+b;this.gi=document.getElementById(b);c=c.join("\n");if(this.gi)this.gi.firstChild.textContent=c;else{var d=document.createElement("style");d.id=b;d.appendChild(document.createTextNode(c));document.head.insertBefore(d,document.head.firstChild);this.gi=d}a=B(kc,{},a);b=B(pc,{id:"blocklyEmbossFilter"+this.rl},a);B(mc,{"in":"SourceAlpha",stdDeviation:1,result:"blur"},b);c=B(oc,{"in":"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,
"lighting-color":"white",result:"specOut"},b);B(nc,{x:-5E3,y:-1E4,z:2E4},c);B(lc,{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},b);B(lc,{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},b);this.yk=b.id;this.Km=b;a=B(vc,{id:"blocklyDisabledPattern"+this.rl,patternUnits:"userSpaceOnUse",width:10,height:10},a);B(xc,{width:10,height:10,fill:"#aaa"},a);B(uc,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},a);this.Rp=a.id;this.xm=a};
g.Um=function(a){return[a+" .blocklyText, ",a+" .blocklyFlyoutLabelText {","font: "+this.Eg+" "+this.Dg+"pt "+this.Cg+";","}",a+" .blocklyText {","fill: #fff;","}",a+" .blocklyNonEditableText>rect,",a+" .blocklyEditableText>rect {","fill: "+this.fp+";","fill-opacity: .6;","stroke: none;","}",a+" .blocklyNonEditableText>text,",a+" .blocklyEditableText>text {","fill: #000;","}",a+" .blocklyFlyoutLabelText {","fill: #000;","}",a+" .blocklyText.blocklyBubbleText {","fill: #000;","}",a+" .blocklyEditableText:not(.editing):hover>rect {",
"stroke: #fff;","stroke-width: 2;","}",a+" .blocklyHtmlInput {","font-family: "+this.Cg+";","font-weight: "+this.Eg+";","}",a+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",a+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",a+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",a+" .blocklyReplaceable .blocklyPathLight,",a+" .blocklyReplaceable .blocklyPathDark {","display: none;","}",a+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.kp+
";","stroke: none;","}"]};function Pl(a){this.Pg=this.X=this.type=this.height=this.width=0;this.i=a;this.Rc=this.i.Kh};function Ql(a,b){Ql.j.constructor.call(this,a);this.Nb=b;this.shape=Rf(this.i,b);this.$f=!!this.shape.isDynamic;this.type|=1024}F(Ql,Pl);function Rl(a,b){Rl.j.constructor.call(this,a,b);this.type|=8192;this.height=this.$f?0:this.shape.height;this.Xc=this.width=this.$f?0:this.shape.width;this.oc=this.i.Lg;this.$h=0}F(Rl,Ql);function Sl(a,b){Sl.j.constructor.call(this,a,b);this.type|=2048;this.height=this.shape.height;this.width=this.shape.width}F(Sl,Ql);
function Tl(a,b){Tl.j.constructor.call(this,a,b);this.type|=4096;this.height=this.shape.height;this.width=this.shape.width}F(Tl,Ql);function Ul(a,b){Ul.j.constructor.call(this,a,b.connection);this.type|=128;this.input=b;this.align=b.align;(this.We=b.connection&&b.connection.G()?b.connection.G():null)?(a=Xf(this.We),this.Zh=a.width,this.jk=a.height):this.jk=this.Zh=0;this.oc=this.$h=0}F(Ul,Ql);
function Vl(a,b){Vl.j.constructor.call(this,a,b);this.type|=256;this.We?(this.width=this.Zh,this.height=this.jk):(this.height=this.i.hs,this.width=this.i.js);this.Rg=this.$f?this.shape.height(this.height):this.shape.height;this.zd=this.$f?this.shape.width(this.height):this.shape.width;this.We||(this.width+=this.zd*(this.$f?2:1));this.oc=this.$f?this.shape.oc(this.Rg):this.i.Lg;this.$h=this.$f?this.shape.$h(this.zd):0}F(Vl,Ul);
function Wl(a,b){Wl.j.constructor.call(this,a,b);this.type|=512;this.height=this.We?this.jk+this.i.rp:this.i.ks;this.width=this.i.Ps+this.shape.width}F(Wl,Ul);function Xl(a,b){Xl.j.constructor.call(this,a,b);this.type|=64;this.height=this.We?this.jk-this.i.Lg-this.i.Ec:this.shape.height;this.width=this.shape.width+this.i.ls;this.oc=this.i.Lg;this.Rg=this.shape.height;this.zd=this.shape.width}F(Xl,Ul);function Yl(a,b){Yl.j.constructor.call(this,a);this.icon=b;this.isVisible=b.isVisible();this.type|=4;a=new Ha(Ve.prototype.Rj,Ve.prototype.Rj-2);this.height=a.height;this.width=a.width}F(Yl,Pl);function Zl(a){Zl.j.constructor.call(this,a);this.type|=524288;this.height=this.i.Fg.height;this.width=this.i.Fg.width}F(Zl,Pl);function $l(a,b){$l.j.constructor.call(this,a);this.Wp=b;this.Vb=b.Ij;this.mt=!1;this.type|=1;a=this.Wp.getSize();this.height=a.height;this.width=a.width}F($l,Pl);
function am(a){am.j.constructor.call(this,a);this.type|=2;this.height=this.i.Kg.height;this.width=this.i.Kg.width;this.Ng=this.height}F(am,Pl);function bm(a,b){bm.j.constructor.call(this,a);this.type=(b&&"left"!=b?131072:32768)|16384;this.width=this.height=this.i.ud}F(bm,Pl);function cm(a,b){cm.j.constructor.call(this,a);this.type=(b&&"left"!=b?262144:65536)|16384;this.width=this.i.ya;this.height=this.i.ya/2}F(cm,Pl);
function dm(a,b){dm.j.constructor.call(this,a);this.type|=40;this.width=b;this.height=this.i.Ms}F(dm,Pl);function em(a){this.type=1048576;this.elements=[];this.X=this.ob=this.rd=this.minWidth=this.minHeight=this.width=this.height=0;this.gq=this.dh=this.fn=this.eb=this.bf=!1;this.i=a;this.Rc=this.i.Kh;this.align=null}em.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.");};function fm(a){for(var b=a.elements.length-1,c;c=a.elements[b];b--)if(c.type&128)return c;return null}em.prototype.Fl=function(){return!0};em.prototype.mi=function(){return!0};
function gm(a){gm.j.constructor.call(this,a);this.type|=2097152;this.Ng=this.Wd=0;this.Bt=!1;this.connection=null}F(gm,em);gm.prototype.gn=function(a){var b=(a.Gd?"cap"===a.Gd:this.i.bp)&&!a.u&&!a.F,c=a.F&&a.F.G();return!!a.u||b||(c?ub(c)==a:!1)};
gm.prototype.measure=function(){for(var a=0,b=0,c=0,d=0,e;e=this.elements[d];d++)b+=e.width,e.type&8||(e.type&2?c=Math.max(c,e.Ng):a=Math.max(a,e.height));this.width=Math.max(this.minWidth,b);this.height=Math.max(this.minHeight,a)+c;this.Wd=this.Ng=c;this.rd=this.width};gm.prototype.Fl=function(){return!1};gm.prototype.mi=function(){return!1};function hm(a){hm.j.constructor.call(this,a);this.type|=4194304;this.hq=!1;this.connection=null;this.Gc=this.ji=0}F(hm,em);
hm.prototype.gn=function(a){return!!a.u||!!ub(a)};hm.prototype.measure=function(){for(var a=0,b=0,c=0,d=0,e;e=this.elements[d];d++)b+=e.width,e.type&8||(e.type&4096?c=Math.max(c,e.height):a=Math.max(a,e.height));this.width=Math.max(this.minWidth,b);this.height=Math.max(this.minHeight,a)+c;this.ji=c;this.rd=this.width};hm.prototype.Fl=function(){return!1};hm.prototype.mi=function(){return!1};
function im(a,b,c){im.j.constructor.call(this,a);this.type|=24;this.width=c;this.height=b;this.Zp=!1;this.rd=0;this.elements=[new dm(this.i,c)]}F(im,em);im.prototype.measure=function(){};function jm(a){jm.j.constructor.call(this,a);this.type|=8388608;this.Ip=0}F(jm,em);
jm.prototype.measure=function(){this.width=this.minWidth;this.height=this.minHeight;for(var a=0,b=0,c;c=this.elements[b];b++)this.width+=c.width,c.type&128&&(c.type&512?a+=c.Zh:c.type&64&&0!=c.Zh&&(a+=c.Zh-c.zd)),c.type&8||(this.height=Math.max(this.height,c.height));this.Ip=a;this.rd=this.width+a};jm.prototype.mi=function(){return!this.bf&&!this.eb};function km(a,b){this.v=b;this.Da=a;this.i=this.Da.D();this.u=b.u?new Rl(this.i,b.u):null;this.gh=Tf(b)&&!b.isCollapsed();this.isCollapsed=b.isCollapsed();this.Gb=b.Gb();this.o=b.o;this.Df=this.width=this.Dh=this.height=0;this.rows=[];this.pq=[];this.kq=[];this.jb=new gm(this.i);this.Ha=new hm(this.i);this.El=this.Xc=0}g=km.prototype;
g.measure=function(){var a=!!this.v.F,b=(this.v.Gd?"cap"===this.v.Gd:this.i.bp)&&!this.u&&!a,c=this.jb.gn(this.v)?bm:cm;this.jb.elements.push(new c(this.i));b?(a=new am(this.i),this.jb.elements.push(a),this.jb.Wd=a.Ng):a&&(this.jb.Bt=!0,this.jb.connection=new Sl(this.i,this.v.F),this.jb.elements.push(this.jb.connection));this.v.A.length&&3==this.v.A[0].type&&!this.v.isCollapsed()?this.jb.minHeight=this.i.Rs:this.jb.minHeight=this.i.Qs;c=bm;this.jb.elements.push(new c(this.i,"right"));this.rows.push(this.jb);
a=new jm(this.i);this.pq.push(a);c=Vf(this.v);b=0;for(var d;d=c[b];b++){var e=new Yl(this.i,d);this.isCollapsed&&d.Hp?this.kq.push(e):a.elements.push(e)}d=null;for(b=0;c=this.v.A[b];b++)if(c.isVisible()){!d||3!=c.type&&3!=d.type&&(1!=c.type&&5!=c.type||this.gh)||(this.rows.push(a),a=new jm(this.i),this.pq.push(a));for(d=0;e=c.aa[d];d++)a.elements.push(new $l(this.i,e,c));this.xp(c,a);d=c}this.isCollapsed&&(a.gq=!0,a.elements.push(new Zl(this.i)));(a.elements.length||a.dh)&&this.rows.push(a);this.uo();
this.rows.push(this.Ha);this.wp();a=this.rows;this.rows=[];for(b=0;b<a.length;b++)if(this.rows.push(a[b]),b!=a.length-1){c=this.rows;d=c.push;e=a[b];var f=a[b+1],h=new im(this.i,this.aq(e,f),this.width-this.Xc);e.eb&&(h.Zp=!0);f.eb&&(h.rv=!0);d.call(c,h)}for(d=c=b=a=0;e=this.rows[d];d++)e.measure(),b=Math.max(b,e.width),e.eb&&(a=Math.max(a,e.width-fm(e).width)),c=Math.max(c,e.rd);this.Df=a;this.width=b;for(d=0;e=this.rows[d];d++)e.eb&&(e.Df=this.Df);this.Dh=Math.max(b,c);this.u&&(this.Xc=this.u.width,
this.width+=this.u.width,this.Dh+=this.u.width);this.Yl();this.Xp()};g.uo=function(){this.Ha.hq=!!this.v.B;this.Ha.minHeight=this.v.A.length&&3==this.v.A[this.v.A.length-1].type?this.i.Yr:this.i.Zr;this.Ha.gn(this.v)?this.Ha.elements.push(new bm(this.i)):this.Ha.elements.push(new cm(this.i));this.Ha.hq&&(this.Ha.connection=new Tl(this.i,this.v.B),this.Ha.elements.push(this.Ha.connection));this.Ha.elements.push(new bm(this.i,"right"))};
g.xp=function(a,b){this.gh&&1==a.type?(b.elements.push(new Vl(this.i,a)),b.fn=!0):3==a.type?(b.elements.push(new Wl(this.i,a)),b.eb=!0):1==a.type?(b.elements.push(new Xl(this.i,a)),b.bf=!0):5==a.type&&(b.minHeight=Math.max(b.minHeight,a.C()&&a.C().V?this.i.fs:this.i.ep),b.dh=!0);null==b.align&&(b.align=a.align)};
g.wp=function(){for(var a=0,b;b=this.rows[a];a++){var c=b.elements;b.elements=[];b.Fl()&&b.elements.push(new dm(this.i,this.Rf(null,c[0])));if(c.length){for(var d=0;d<c.length-1;d++)b.elements.push(c[d]),b.elements.push(new dm(this.i,this.Rf(c[d],c[d+1])));b.elements.push(c[c.length-1]);b.mi()&&b.elements.push(new dm(this.i,this.Rf(c[c.length-1],null)))}}};
g.Rf=function(a,b){if(!a&&b&&b.type&512)return this.i.sp;if(a&&a.type&128&&!b){if(a.type&64)return this.i.ud;if(a.type&256)return this.i.Lb;if(a.type&512)return this.i.ud}return a&&a.type&32768&&b&&(b.type&2048||b.type&4096)?b.Rc:a&&a.type&65536&&b&&(b.type&2048||b.type&4096)?b.Rc-this.i.ya:this.i.Ec};g.Yl=function(){for(var a=0,b;b=this.rows[a];a++)if(b.eb)lm(this,b);else{var c=this.ri(b)-b.width;0<c&&mm(b,c);b.type&6291456&&(b.rd=b.width)}};g.ri=function(){return this.width-this.Xc};
function mm(a,b){a:{var c=0;for(var d;d=a.elements[c];c++)if(d.type&8){c=d;break a}c=null}a:{d=a.elements.length-1;for(var e;e=a.elements[d];d--)if(e.type&8){d=e;break a}d=null}if(a.bf||a.eb)a.rd+=b;-1==a.align?d.width+=b:0==a.align?(c.width+=b/2,d.width+=b/2):1==a.align?c.width+=b:d.width+=b;a.width+=b}function lm(a,b){var c=fm(b),d=b.width-c.width,e=a.Df;d=e-d;0<d&&mm(b,d);d=b.width;e=a.ri(b);c.width+=e-d;c.height=Math.max(c.height,b.height);b.width+=e-d;b.rd=Math.max(b.width,a.Df+b.Ip)}g.aq=function(){return this.i.Ec};
g.$p=function(a,b){return b.type&8?a.ob+b.height/2:a.type&4194304?(a=a.ob+a.height-a.ji,b.type&4096?a+b.height/2:a-b.height/2):a.type&2097152?b.type&2?a.Wd-b.height/2:a.Wd+b.height/2:a.ob+a.height/2};function nm(a,b){for(var c=b.X,d=0,e;e=b.elements[d];d++)e.type&8&&(e.height=b.height),e.X=c,e.Pg=a.$p(b,e),c+=e.width}
g.Xp=function(){for(var a=0,b=0,c=0,d;d=this.rows[c];c++)d.ob=b,d.X=this.Xc,b+=d.height,a=Math.max(a,d.rd),nm(this,d);this.u&&this.v.B&&this.v.B.isConnected()&&(a=Math.max(a,Xf(this.v.B.G()).width));this.Dh=a+this.Xc;this.height=b;this.El=this.jb.Wd;this.Ha.Gc=b-this.Ha.ji};function om(a,b){this.v=a;this.N=b;a.ba();this.Ik=this.Z="";this.i=b.Da.D()}g=om.prototype;g.ed=function(){pm(this);qm(this);rm(this);this.v.oa.Io(this.Z+"\n"+this.Ik);this.N.o&&this.v.oa.Pm();sm(this)};function sm(a){a.v.height=a.N.height;a.v.width=a.N.Dh}function pm(a){for(var b=0,c;c=a.N.kq[b];b++)c.icon.Ub.setAttribute("display","none")}function qm(a){a.Gm();for(var b=1;b<a.N.rows.length-1;b++){var c=a.N.rows[b];c.gq?a.ki(c):c.eb?a.Fm(c):c.bf?a.Hm(c):a.Up(c)}a.Bm();a.Em()}
g.Gm=function(){var a=this.N.jb,b=a.elements,c=this.N.jb;if(c.connection){var d=c.X+c.Rc;Ti(c.connection.Nb,this.N.o?-d:d,0)}this.Z+=Sf(a.X,this.N.El);for(c=0;d=b[c];c++)d.type&65536?this.Z+=this.i.Ph.Vo:d.type&262144?this.Z+=this.i.Ph.Au:d.type&2048?this.Z+=d.shape.sf:d.type&2?this.Z+=this.i.Kg.path:d.type&8&&(this.Z+=K("h",d.width));this.Z+=K("v",a.height)};g.ki=function(a){this.Z+=this.i.Fg.path+K("v",a.height-this.i.Fg.height)};
g.Hm=function(a){var b=fm(a);this.er(a);var c="function"==typeof b.shape.Sc?b.shape.Sc(b.height):b.shape.Sc;this.Z+=K("H",b.X+b.width)+c+K("v",a.height-b.Rg)};g.Fm=function(a){var b=fm(a);this.Z+=K("H",b.X+b.Rc+b.shape.width)+(b.shape.$q+K("h",-(b.Rc-this.i.Mj.width))+this.i.Mj.qo)+K("v",a.height-2*this.i.Mj.height)+this.i.Mj.ol+K("H",a.X+a.width);this.jr(a)};g.Up=function(a){this.Z+=K("V",a.ob+a.height)};
g.Bm=function(){var a=this.N.Ha,b=a.elements;this.ir();for(var c=0,d="",e=b.length-1,f;f=b[e];e--)f.type&4096?d+=f.shape.$q:f.type&32768?d+=K("H",a.X):f.type&65536?d+=this.i.Ph.gm:f.type&262144?(d+=this.i.Ph.Vs,c=this.i.Ph.mu):f.type&8&&(d+=K("h",-1*f.width));this.Z+=K("V",a.Gc-c);this.Z+=d};
g.Em=function(){var a=this.N.u;if(this.N.u){var b=this.N.Xc+this.N.u.$h;Ti(this.v.u,this.N.o?-b:b,this.N.u.oc)}a&&(b=a.oc+a.height,a="function"==typeof a.shape.Oi?a.shape.Oi(a.height):a.shape.Oi,this.Z+=K("V",b)+a);this.Z+="z"};
function rm(a){for(var b=0,c;c=a.N.rows[b];b++)for(var d=0,e;e=c.elements[d];d++)if(e.type&256)a.Dm(e);else if(e.type&4||e.type&1){var f=a;if(e.type&1)var h=e.Wp.P();else e.type&4&&(h=e.icon.Ub);var l=e.Pg-e.height/2,m=e.X,n="";f.N.o&&(m=-(m+e.width),e.mt&&(m+=e.width,n="scale(-1 1)"));e.type&4?(h.setAttribute("display","block"),h.setAttribute("transform","translate("+m+","+l+")"),Xe(e.icon)):h.setAttribute("transform","translate("+m+","+l+")"+n);f.N.Gb&&h.setAttribute("display","none")}}
g.Dm=function(a){var b=a.height,c=a.oc;this.Ik+=Kl(a.X+a.zd,a.Pg-b/2)+K("v",c)+a.shape.Sc+K("v",b-(a.Rg+c))+K("h",a.width-a.zd)+K("v",-b)+"z";this.gr(a)};g.gr=function(a){var b=a.Pg-a.height/2;if(a.Nb){var c=a.X+a.zd+a.$h;this.N.o&&(c*=-1);Ti(a.Nb,c,b+a.oc)}};g.jr=function(a){var b=fm(a);if(b.Nb){var c=a.X+a.Df+b.Rc;this.N.o&&(c*=-1);Ti(b.Nb,c,a.ob)}};g.er=function(a){var b=fm(a);if(b.Nb){var c=a.X+a.width;this.N.o&&(c*=-1);Ti(b.Nb,c,a.ob)}};
g.ir=function(){var a=this.N.Ha;if(a.connection){var b=a.connection,c=b.X;Ti(b.Nb,this.N.o?-c:c,a.Gc)}};function tm(a,b,c,d){var e=a?a.h.id:void 0;d&&"workspace"==d.getType()&&(e=d.T.id);tm.j.constructor.call(this,e);this.ea=a?a.id:null;this.Rq=c;this.Mq=d;this.Jd=b}F(tm,Se);tm.prototype.type="marker_move";tm.prototype.R=function(){var a=tm.j.R.call(this);a.isCursor=this.Jd;a.blockId=this.ea;a.oldNode=this.Rq;a.newNode=this.Mq;return a};tm.prototype.M=function(a){tm.j.M.call(this,a);this.Jd=a.isCursor;this.ea=a.blockId;this.Rq=a.oldNode;this.Mq=a.newNode};v(Nb,"marker_move",tm);function gk(a,b,c){this.g=a;this.Gn=c;this.ze=null;this.i=b;this.Tg=null;a=this.Jd()?this.i.cp:this.i.lp;this.ub=c.fk||a}g=gk.prototype;g.P=function(){return this.s};g.si=function(){return this.Gn};g.Jd=function(){return"cursor"==this.Gn.type};
g.Aa=function(){var a=this.Jd()?"blocklyCursor":"blocklyMarker";this.s=B(rc,{"class":a},null);this.ve=B(rc,{width:this.i.Hj,height:this.i.up},this.s);this.kf=B(xc,{width:this.i.Hj,height:this.i.up},this.ve);this.eg=B(xc,{"class":"blocklyVerticalMarker",rx:10,ry:10},this.ve);this.dg=B(uc,{transform:""},this.ve);this.ue=B(uc,{transform:"",fill:"none","stroke-width":this.i.ds},this.ve);this.pb();this.Jd()&&(a={attributeType:"XML",attributeName:"fill",dur:"1s",values:this.ub+";transparent;transparent;",
repeatCount:"indefinite"},B(hc,a,this.kf),B(hc,a,this.dg),a.attributeName="stroke",B(hc,a,this.ue));return this.s};function um(a,b){a.Jd()?(a.ze&&a.ze.Ee(null),b.Ee(a.P())):(a.ze&&a.ze.Cf(null),b.Cf(a.P()));a.ze=b}
g.ed=function(a,b){if(b){this.i=this.g.Da.D();var c=this.Jd()?this.i.cp:this.i.lp;this.ub=this.Gn.fk||c;this.kf.setAttribute("fill",this.ub);this.eg.setAttribute("stroke",this.ub);this.dg.setAttribute("fill",this.ub);this.ue.setAttribute("stroke",this.ub);this.Jd()&&(c=this.ub+";transparent;transparent;",this.kf.firstChild.setAttribute("values",c),this.dg.firstChild.setAttribute("values",c),this.ue.firstChild.setAttribute("values",c));c=b.T.type;if("block"==b.getType())vm(this,b);else if("output"==
b.getType())vm(this,b);else if(1==c){var d=b.T;c=d.C();var e=d.hg.x,f=d.hg.y;d=Kl(0,0)+Rf(this.i,d).Sc;this.dg.setAttribute("d",d);this.dg.setAttribute("transform","translate("+e+","+f+")"+(this.g.o?" scale(-1 1)":""));this.Tg=this.dg;um(this,c);wm(this)}else if(3==c)f=b.T,c=f.C(),e=0,f=f.hg.y,d=Xf(c).width,this.g.o&&(e=-d),xm(this,e,f,d),um(this,c),wm(this);else if("previous"==b.getType())vm(this,b);else if("field"==b.getType())c=b.T,e=c.getSize().width,f=c.getSize().height,ym(this,0,0,e,f),um(this,
c),wm(this);else if("workspace"==b.getType())e=b.Tr,c=e.x,e=e.y,this.g.o&&(c-=this.i.Hj),xm(this,c,e,this.i.Hj),um(this,this.g),wm(this);else if("stack"==b.getType()){c=b.T;f=Xf(c);e=f.width+this.i.Gj;f=f.height+this.i.Gj;var h=d=-this.i.Gj/2,l=-this.i.Gj/2;this.g.o&&(h=-(e+d));ym(this,h,l,e,f);um(this,c);wm(this)}c=b.C();a=new (A("marker_move"))(c,this.Jd(),a,b);x(a);a=this.Tg.childNodes[0];void 0!==a&&a.beginElement&&a.beginElement()}else this.pb()};
function vm(a,b){b=b.C();var c=b.width,d=b.height,e=.75*d,f=a.i.bs;if(b.F){var h=Rf(a.i,b.F);a.ue.setAttribute("d",Sf(-f,e)+K("V",-f)+K("H",a.i.Kh)+h.sf+K("H",c+2*f)+K("V",e))}else b.u?(h=Rf(a.i,b.u),a.ue.setAttribute("d",Sf(c,0)+K("h",-(c-h.width))+K("v",a.i.Lg)+h.Sc+K("V",d)+K("H",c))):a.ue.setAttribute("d",Sf(-f,e)+K("V",-f)+K("H",c+2*f)+K("V",e));a.g.o&&a.ue.setAttribute("transform","scale(-1 1)");a.Tg=a.ue;um(a,b);wm(a)}function wm(a){a.pb();a.Tg.style.display=""}
function xm(a,b,c,d){a.kf.setAttribute("x",b);a.kf.setAttribute("y",c);a.kf.setAttribute("width",d);a.Tg=a.kf}function ym(a,b,c,d,e){a.eg.setAttribute("x",b);a.eg.setAttribute("y",c);a.eg.setAttribute("width",d);a.eg.setAttribute("height",e);a.Tg=a.eg}g.pb=function(){this.kf.style.display="none";this.eg.style.display="none";this.dg.style.display="none";this.ue.style.display="none"};g.m=function(){this.s&&D(this.s)};function zm(a,b,c){this.ai=c;this.Ud=a;this.ta=B(uc,{"class":"blocklyPath"},this.Ud);this.style=b;this.Fn=this.ii=null}g=zm.prototype;g.Io=function(a){this.ta.setAttribute("d",a)};g.Pm=function(){this.ta.setAttribute("transform","scale(-1 1)")};g.Ee=function(a){a?(this.Ud.appendChild(a),this.ii=a):this.ii=null};g.Cf=function(a){a?(this.ii?this.Ud.insertBefore(a,this.ii):this.Ud.appendChild(a),this.Fn=a):this.Fn=null};
g.Ka=function(a){this.ta.setAttribute("stroke",this.style.Yd);this.ta.setAttribute("fill",this.style.Te);this.Mr(a.V);this.Wo(!a.isEnabled()||gi(a))};g.Ge=function(a){this.style=a};function Qf(a,b,c){c?C(a.Ud,b):Ec(a.Ud,b)}g.Lr=function(a){a?this.ta.setAttribute("filter","url(#"+this.ai.yk+")"):this.ta.setAttribute("filter","none")};g.Mr=function(a){a&&(this.ta.setAttribute("stroke","none"),this.ta.setAttribute("fill",this.style.gk))};
g.Wo=function(a){Qf(this,"blocklyDisabled",a);a&&this.ta.setAttribute("fill","url(#"+this.ai.Rp+")")};function Am(a){this.name=a;this.mo=this.i=null}g=Am.prototype;g.gd=function(){return this.name+"-renderer"};g.H=function(a,b){this.i=this.An();b&&(this.mo=b,md(this.i,b));this.i.hj(a);this.i.H()};g.Aa=function(a,b){this.i.Aa(a,this.name+"-"+b.name,"."+this.gd()+"."+b.gd())};g.Ao=function(a,b){var c=this.D();c.m();this.i=this.An();this.mo&&md(this.i,this.mo);this.i.rl=c.rl;this.i.hj(b);this.i.H();this.Aa(a,b)};g.m=function(){this.i&&this.i.m()};g.An=function(){return new Nl};
g.Fq=function(a){return new km(this,a)};g.Dq=function(a,b){return new om(a,b)};g.Eq=function(a,b){return new zm(a,b,this.i)};g.D=function(){return this.i};g.O=function(a){var b=this.Fq(a);b.measure();this.Dq(a,b).ed()};function Bm(){Bm.j.constructor.call(this);this.Nl=!1;this.rb=1;this.Es=30;this.rp=-this.Pl/2}F(Bm,Nl);Bm.prototype.Um=function(a){return Bm.j.Um.call(this,a).concat([a+" .blocklyInsertionMarker>.blocklyPathLight,",a+" .blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: "+this.kp+";","stroke: none;","}"])};function Cm(a){this.N=a;this.Ai=this.L="";this.sb=this.N.o;a=a.Da;this.i=a.D();this.wc=a.wc;this.dc=this.wc.OFFSET;this.lo=this.wc.Is;this.fh=this.wc.As;this.Ui=this.wc.Tl;this.Ot=this.wc.Ig;this.uu=this.wc.Kg;this.wq=this.wc.Fg}Cm.prototype.ki=function(a){this.N.o&&(this.L+=this.wq.sf+K("v",a.height-this.wq.height-this.dc))};function Dm(a,b){var c=b.X+b.width-a.dc;b.Zp&&(a.L+=K("H",c));a.sb&&(a.L+=K("H",c),b.height>a.dc&&(a.L+=K("V",b.ob+b.height-a.dc)))};function Em(a,b){Em.j.constructor.call(this,a,b);this.We&&(this.width+=this.i.rb,this.height+=this.i.rb)}F(Em,Vl);function Fm(a,b){Fm.j.constructor.call(this,a,b);this.We&&(this.height+=this.i.rb)}F(Fm,Wl);function Gm(a,b){Gm.j.constructor.call(this,a,b)}F(Gm,km);g=Gm.prototype;g.uo=function(){Gm.j.uo.call(this);this.v.A.length&&3==this.v.A[this.v.A.length-1].type||(this.Ha.minHeight=this.i.Ec-this.i.rb)};g.xp=function(a,b){this.gh&&1==a.type?(b.elements.push(new Em(this.i,a)),b.fn=!0):3==a.type?(b.elements.push(new Fm(this.i,a)),b.eb=!0):1==a.type?(b.elements.push(new Xl(this.i,a)),b.bf=!0):5==a.type&&(b.minHeight=Math.max(b.minHeight,this.i.ep),b.dh=!0);this.gh||null!=b.align||(b.align=a.align)};
g.wp=function(){for(var a=!1,b=0,c;c=this.rows[b];b++)c.bf&&(a=!0);for(b=0;c=this.rows[b];b++){var d=c.elements;c.elements=[];c.Fl()&&c.elements.push(new dm(this.i,this.Rf(null,d[0])));if(d.length){for(var e=0;e<d.length-1;e++){c.elements.push(d[e]);var f=this.Rf(d[e],d[e+1]);c.elements.push(new dm(this.i,f))}c.elements.push(d[d.length-1]);c.mi()&&(f=this.Rf(d[d.length-1],null),a&&c.dh&&(f+=this.i.Tj),c.elements.push(new dm(this.i,f)))}}};
g.Rf=function(a,b){if(!a)return b&&b.type&1&&b.Vb?this.i.Ec:b&&b.type&256?this.i.np:b&&b.type&512?this.i.sp:this.i.Lb;if(!(a.type&128)&&(!b||b.type&512))return a.type&1&&a.Vb?this.i.Ec:a.type&4?2*this.i.Lb+1:a.type&2?this.i.ud:a.type&6144?this.i.Lb:a.type&65536?this.i.Fs:a.type&524288?this.i.ud:this.i.Lb;if(a.type&128&&!b){if(a.type&64)return this.i.ud;if(a.type&256)return this.i.Lb;if(a.type&512)return this.i.ud}if(!(a.type&128)&&b&&b.type&128){if(a.type&1&&a.Vb){if(b.type&256||b.type&64)return this.i.Ls}else{if(b.type&
256||b.type&64)return this.i.np;if(b.type&512)return this.i.Lb}return this.i.Lb-1}if(a.type&4&&b&&!(b.type&128))return this.i.Lb;if(a.type&256&&b&&b.type&1)return b.Vb?this.i.Ec:this.i.Lb;if(a.type&32768&&b){if(b.type&2)return this.i.ud;if(b.type&2048)return b.Rc;if(b.type&4096)return a=(this.o?1:-1)*this.i.rb/2,b.Rc+a}if(a.type&65536&&b){if(b.type&2048)return b.Rc-this.i.ya;if(b.type&4096)return a=(this.o?1:-1)*this.i.rb/2,b.Rc-this.i.ya+a}return a.type&1&&b&&b.type&1&&a.Vb==b.Vb||b&&b.type&524288?
this.i.Lb:this.i.Ec};g.aq=function(a,b){return a.type&2097152&&b.type&4194304?this.i.gs:a.type&2097152||b.type&4194304?this.i.ud:a.bf&&b.bf?this.i.Lb:!a.eb&&b.eb?this.i.Xr:a.eb&&b.eb||!a.eb&&b.dh||a.dh?this.i.Lb:this.i.Ec};
g.$p=function(a,b){if(b.type&8)return a.ob+b.height/2;if(a.type&4194304)return a=a.ob+a.height-a.ji,b.type&4096?a+b.height/2:a-b.height/2;if(a.type&2097152)return b.type&2?a.Wd-b.height/2:a.Wd+b.height/2;var c=a.ob;b.type&1||b.type&4?(c+=b.height/2,(a.fn||a.eb)&&b.height+this.i.tp<=a.height&&(c+=this.i.tp)):c=b.type&256?c+b.height/2:c+a.height/2;return c};
g.Yl=function(){if(this.gh){for(var a=0,b=null,c=this.rows.length-1,d;d=this.rows[c];c--)d.On=a,d.type&8388608&&(d.eb&&lm(this,d),b&&b.eb&&d.width<b.width?d.On=b.width:a=d.width,b=d);for(c=a=0;d=this.rows[c];c++)d.eb?a=this.ri(d):d.type&8?d.width=Math.max(a,d.On):(a=Math.max(a,d.On)-d.width,0<a&&mm(d,a),a=d.width)}else Gm.j.Yl.call(this)};g.ri=function(a){return this.gh&&a.eb?this.Df+this.i.Es+this.Xc:Gm.j.ri.call(this,a)};
g.Xp=function(){for(var a=0,b=0,c=0,d;d=this.rows[c];c++){d.ob=b;d.X=this.Xc;b+=d.height;a=Math.max(a,d.rd);var e=b-this.jb.Ng;d==this.Ha&&e<this.i.Jh&&(e=this.i.Jh-e,this.Ha.height+=e,b+=e);nm(this,d)}this.u&&this.v.B&&this.v.B.isConnected()&&(a=Math.max(a,Xf(this.v.B.G()).width-this.i.rb));this.Ha.Gc=b-this.Ha.ji;this.Dh=a+this.Xc+this.i.rb;this.width+=this.i.rb;this.height=b+this.i.rb;this.El=this.jb.Wd};function Hm(a,b){Hm.j.constructor.call(this,a,b);this.Hd=new Cm(b)}F(Hm,om);g=Hm.prototype;g.ed=function(){pm(this);qm(this);rm(this);var a=this.v.oa;a.Io(this.Z+"\n"+this.Ik);var b=this.Hd;a.qg.setAttribute("d",b.L+"\n"+b.Ai);this.N.o&&a.Pm();sm(this)};
g.Gm=function(){var a=this.Hd,b=this.N.jb;a.L+=Sf(b.X,a.N.El);for(var c=0,d;d=b.elements[c];c++)d.type&32768?a.L+=a.wc.qp:d.type&65536?a.L+=a.lo.Vo(a.sb):d.type&2048?a.L+=a.Ot.sf:d.type&2?a.L+=a.uu.path(a.sb):d.type&8&&0!=d.width&&(a.L+=K("H",d.X+d.width-a.dc));a.L+=K("H",b.X+b.width-a.dc);Dm(this.Hd,this.N.jb);Hm.j.Gm.call(this)};g.ki=function(a){this.Hd.ki(a);Hm.j.ki.call(this,a)};
g.Hm=function(a){var b=this.Hd,c=fm(a);if(b.sb){var d=a.height-c.Rg;b.L+=Kl(c.X+c.width-b.dc,a.ob)+b.Ui.Sc(b.sb)+K("v",d)}else b.L+=Kl(c.X+c.width,a.ob)+b.Ui.Sc(b.sb);Hm.j.Hm.call(this,a)};g.Fm=function(a){var b=this.Hd,c=fm(a);if(b.sb){var d=a.height-2*b.fh.height;b.L+=Kl(c.X,a.ob)+b.fh.qo(b.sb)+K("v",d)+b.fh.ol(b.sb)+Ll(a.width-c.X-b.fh.width,0)}else b.L+=Kl(c.X,a.ob+a.height)+b.fh.ol(b.sb)+Ll(a.width-c.X-b.fh.width,0);Hm.j.Fm.call(this,a)};
g.Up=function(a){Dm(this.Hd,a);this.Z+=K("H",a.X+a.width)+K("V",a.ob+a.height)};g.Bm=function(){var a=this.Hd,b=this.N.Ha;if(a.sb)a.L+=K("V",b.Gc-a.dc);else{var c=a.N.Ha.elements[0];c.type&32768?a.L+=Kl(b.X+a.dc,b.Gc-a.dc):c.type&65536&&(a.L+=Kl(b.X,b.Gc),a.L+=a.lo.gm())}Hm.j.Bm.call(this)};
g.Em=function(){var a=this.Hd,b=a.N.u;b&&(b=b.oc+b.height,a.sb?a.L+=Kl(a.N.Xc,b):(a.L+=Kl(a.N.Xc+a.dc,a.N.Ha.Gc-a.dc),a.L+=K("V",b)),a.L+=a.Ui.Oi(a.sb));a.sb||(b=a.N.jb,a.L=b.elements[0].type&65536?a.L+K("V",a.lo.height):a.L+K("V",b.Wd+a.dc));Hm.j.Em.call(this)};
g.Dm=function(a){var b=this.Hd,c=b.dc,d=a.X+a.zd,e=a.Pg-a.height/2,f=a.width-a.zd,h=e+c;b.sb?(e=a.height-(a.oc+a.Rg)+c,b.Ai+=Kl(d-c,h)+K("v",a.oc-c)+b.Ui.Sc(b.sb)+K("v",e)+K("h",f)):b.Ai+=Kl(a.X+a.width+c,h)+K("v",a.height)+K("h",-f)+Kl(d,e+a.oc)+b.Ui.Sc(b.sb);Hm.j.Dm.call(this,a)};g.gr=function(a){var b=a.Pg-a.height/2;if(a.Nb){var c=a.X+a.zd+this.i.rb;this.N.o&&(c*=-1);Ti(a.Nb,c,b+a.oc+this.i.rb)}};
g.jr=function(a){var b=fm(a);if(b.Nb){var c=a.X+a.Df+b.Rc;c=this.N.o?-1*c:c+this.i.rb;Ti(b.Nb,c,a.ob+this.i.rb)}};g.er=function(a){var b=fm(a);if(b.Nb){var c=a.X+a.width+this.i.rb;this.N.o&&(c*=-1);Ti(b.Nb,c,a.ob)}};g.ir=function(){var a=this.N.Ha;if(a.connection){var b=a.connection,c=b.X;Ti(b.Nb,(this.N.o?-c:c)+this.i.rb/2,a.Gc+this.i.rb)}};function Im(a){this.Sg=a;this.OFFSET=.5;this.qp=Sf(this.OFFSET,this.OFFSET)}g=Im.prototype;g.H=function(){this.As=Jm(this);this.Is=Km(this);this.Tl=this.Dn();this.Ig=this.Cn();this.Fg=this.Bn();this.Kg=this.En()};function Jm(a){var b=a.Sg.ya;a=a.OFFSET;var c=(1-Math.SQRT1_2)*(b+a)-a,d=Sf(c,c)+Ml("0 0,0",b,V(-c-a,b-c)),e=Ml("0 0,0",b+a,V(b+a,b+a)),f=Sf(c,-c)+Ml("0 0,0",b+a,V(b-c,c+a));return{width:b+a,height:b,qo:function(h){return h?d:""},ol:function(h){return h?e:f}}}
function Km(a){var b=a.Sg.ya;a=a.OFFSET;var c=(1-Math.SQRT1_2)*(b-a)+a,d=Sf(c,c)+Ml("0 0,1",b-a,V(b-c,-c+a)),e=Sf(a,b)+Ml("0 0,1",b-a,V(b,-b+a)),f=-c,h=Sf(c,f)+Ml("0 0,1",b-a,V(-c+a,-f-b));return{height:b,Vo:function(l){return l?d:e},gm:function(){return h}}}
g.Dn=function(){var a=this.Sg.Tj,b=this.Sg.Rh,c=Sf(-2,-b+3.4)+Ll(-.45*a,-2.1),d=K("v",2.5)+Sf(.97*-a,2.5)+Jl("q",[V(.05*-a,10),V(.3*a,9.5)])+Sf(.67*a,-1.9)+K("v",2.5),e=K("v",-1.5)+Sf(-.92*a,-.5)+Jl("q",[V(-.19*a,-5.5),V(0,-11)])+Sf(.92*a,1),f=Sf(-5,b-.7)+Ll(.46*a,-2.1);return{width:a,height:b,Oi:function(h){return h?c:e},Sc:function(h){return h?d:f}}};g.Cn=function(){return{sf:K("h",this.OFFSET)+this.Sg.Ig.sf}};g.Bn=function(){return{sf:Ll(5.1,2.6)+Sf(-10.2,6.8)+Ll(5.1,2.6),height:12,width:10.2}};
g.En=function(){var a=Sf(25,-8.7)+Jl("c",[V(29.7,-6.2),V(57.2,-.5),V(75,8.7)]),b=Jl("c",[V(17.8,-9.2),V(45.3,-14.9),V(75,-8.7)])+Kl(100.5,this.Sg.Kg.height+.5);return{path:function(c){return c?a:b}}};function Lm(a,b,c){this.ai=c;this.Ud=a;this.pj=B(uc,{"class":"blocklyPathDark",transform:"translate(1,1)"},this.Ud);this.ta=B(uc,{"class":"blocklyPath"},this.Ud);this.qg=B(uc,{"class":"blocklyPathLight"},this.Ud);this.nm="#000000";this.style=b}F(Lm,zm);g=Lm.prototype;g.Io=function(a){this.ta.setAttribute("d",a);this.pj.setAttribute("d",a)};g.Pm=function(){this.ta.setAttribute("transform","scale(-1 1)");this.qg.setAttribute("transform","scale(-1 1)");this.pj.setAttribute("transform","translate(1,1) scale(-1 1)")};
g.Ka=function(a){this.qg.style.display="";this.pj.style.display="";this.qg.setAttribute("stroke",this.style.Yd);this.pj.setAttribute("fill",this.nm);Lm.j.Ka.call(this,a);this.ta.setAttribute("stroke","none")};g.Ge=function(a){this.style=a;this.nm=va("#000",this.style.Te,.2)||this.nm};g.Lr=function(a){a?(this.ta.setAttribute("filter","url(#"+this.ai.yk+")"),this.qg.style.display="none"):(this.ta.setAttribute("filter","none"),this.qg.style.display="inline")};
g.Mr=function(a){a&&(this.qg.style.display="none",this.pj.setAttribute("fill",this.style.gk),this.ta.setAttribute("stroke","none"),this.ta.setAttribute("fill",this.style.gk))};g.Wo=function(a){Lm.j.Wo.call(this,a);a&&this.ta.setAttribute("stroke","none")};function Mm(a){Mm.j.constructor.call(this,a);this.wc=null}F(Mm,Am);g=Mm.prototype;g.H=function(a,b){Mm.j.H.call(this,a,b);this.wc=new Im(this.D());this.wc.H()};g.Ao=function(a,b){Mm.j.Ao.call(this,a,b);this.wc.H()};g.An=function(){return new Bm};g.Fq=function(a){return new Gm(this,a)};g.Dq=function(a,b){return new Hm(a,b)};g.Eq=function(a,b){return new Lm(a,b,this.D())};v(Pb,"geras",Mm);(function(){var a={name:"escape",Ta:function(b){return!b.options.readOnly},ga:function(){id();return!0}};Tk.register(a);Vk(27,a.name)})();(function(){var a={name:"delete",Ta:function(b){return!b.options.readOnly&&J&&J.Pc()},ga:function(b,c){c.preventDefault();if(Pg())return!1;jl(J);return!0}};Tk.register(a);Vk(46,a.name);Vk(8,a.name)})();
(function(){var a={name:"copy",Ta:function(c){return!c.options.readOnly&&!Pg()&&J&&J.Pc()&&J.fb()},ga:function(c,d){d.preventDefault();id();kl(J);return!0}};Tk.register(a);var b=Wk(67,[17]);Vk(b,a.name);b=Wk(67,[18]);Vk(b,a.name);b=Wk(67,[91]);Vk(b,a.name)})();(function(){var a={name:"cut",Ta:function(c){return!c.options.readOnly&&!Pg()&&J&&J.Pc()&&J.fb()&&!J.h.md},ga:function(){kl(J);jl(J);return!0}};Tk.register(a);var b=Wk(88,[17]);Vk(b,a.name);b=Wk(88,[18]);Vk(b,a.name);b=Wk(88,[91]);Vk(b,a.name)})();
(function(){var a={name:"paste",Ta:function(c){return!c.options.readOnly&&!Pg()},ga:function(){return ll()}};Tk.register(a);var b=Wk(86,[17]);Vk(b,a.name);b=Wk(86,[18]);Vk(b,a.name);b=Wk(86,[91]);Vk(b,a.name)})();(function(){var a={name:"undo",Ta:function(c){return!c.options.readOnly&&!Pg()},ga:function(c){id();we(c,!1);return!0}};Tk.register(a);var b=Wk(90,[17]);Vk(b,a.name);b=Wk(90,[18]);Vk(b,a.name);b=Wk(90,[91]);Vk(b,a.name)})();
(function(){var a={name:"redo",Ta:function(c){return!Pg()&&!c.options.readOnly},ga:function(c){id();we(c,!0);return!0}};Tk.register(a);var b=Wk(90,[16,17]);Vk(b,a.name);b=Wk(90,[16,18]);Vk(b,a.name);b=Wk(90,[16,91]);Vk(b,a.name);b=Wk(89,[17]);Vk(b,a.name)})();var Nm=null,Om=null,Pm=null;function Qm(){var a=Nm();Rm("/scripts/storage.py","app="+encodeURIComponent(Cl)+"&data="+encodeURIComponent(a),Sm)}var Tm=new Map;
function Rm(a,b,c,d,e){e=void 0===e?"POST":e;Tm.has(a)&&Tm.get(a).abort();var f=new XMLHttpRequest;Tm.set(a,f);f.onload=function(){200===this.status?c&&c.call(f):d?d.call(f):Um(U("Games.httpRequestError",!1)+"\nXHR status: "+f.status);Tm.delete(a)};"POST"===e?(f.open(e,a),f.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),f.send(b)):(b&&(a+="?"+b),f.open(e,a),f.send())}
function Sm(){window.location.hash=this.responseText.trim();Um(U("Games.linkAlert",!1).replace("%1",window.location.href));Pm=Nm()}function Vm(){var a=this.responseText.trim();a.length?(a=a.replace(/^\{\[\(< UNTRUSTED CONTENT >\)\]\}\n/,""),Om(a)):Um(U("Games.hashError",!1).replace("%1",window.location.hash));Pm=Nm()}function Um(a){if("object"===typeof W){var b=S("linkButton");W.Ar(b,a)}else alert(a)};var oi=null,Wm="";function Xm(){var a=U("Games.movie",!0);Al(a);if(a=S("linkButton"))sl?a.style.display="none":(Nm=Ym,Om=Zm,Dl(a,Qm));(a=S("languageMenu"))&&a.addEventListener("change",$m,!0)}function an(){if(!sl&&1<window.location.hash.length)Rm("/data/"+Cl+"/storage/"+window.location.hash.substring(1)+".blockly","",Vm,null,"GET");else{try{var a=window.sessionStorage.Cq}catch(d){}a&&delete window.sessionStorage.Cq;var b=Bl(T),c=Bl(T-1);Zm(a||b||c||"<xml></xml>")}}
function Zm(a){a=td(a);oi.clear();ud(a,oi);a=oi;a.tg.length=0;a=a.Vi.length=0;for(var b;b=ac[a];a++)b.zb=!1}
function Ym(){for(var a=oi,b=G("xml"),c=yi(a),d=G("variables"),e=0,f;f=c[e];e++){var h=G("variable");h.appendChild(document.createTextNode(f.name));f.type&&h.setAttribute("type",f.type);h.id=f.S();d.appendChild(h)}d.hasChildNodes()&&b.appendChild(d);d=[].concat(a.Il);1<d.length&&(a.Td.offset=Math.sin(3*Math.PI/180),a.o&&(a.Td.offset*=-1),d.sort(a.Td));for(c=0;e=d[c];c++)b.appendChild(e.uv(!0));a=a.Xa(!0);for(c=0;d=a[c];c++)b.appendChild(od(d,!0));1===oi.Xa(!1).length&&b.querySelector&&(a=b.querySelector("block"))&&
(a.removeAttribute("x"),a.removeAttribute("y"));return sd(b)}function bn(){null!==Pm&&Pm!==Ym()&&(window.location.hash="",Pm=null)}function cn(){var a={rtl:rl,trashcan:!0,zoom:10===T?{controls:!0,wheel:!0}:null},b=S("toolbox");b&&(a.toolbox=b);a.media="third-party/blockly/media/";a.oneBasedIndex=!1;oi=Ak("blockly",a);xe(oi,bn)}function dn(){window.location=(sl?"index.html":"./")+"?lang="+pl}
function $m(){window.sessionStorage&&(window.sessionStorage.Cq=Ym());var a=S("languageMenu");a=encodeURIComponent(a.options[a.selectedIndex].value);var b=window.location.search;b=1>=b.length?"?lang="+a:/[?&]lang=[^&]*/.test(b)?b.replace(/([?&]lang=)[^&]*/,"$1"+a):b.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+b}
function en(){10>T?location=location.protocol+"//"+location.host+location.pathname+"?lang="+pl+"&level="+(T+1):dn()}var fn=null,gn=0;var W={Yf:!1,Op:null,nk:null,qk:null,tk:null,rk:null,wh:function(a,b,c,d,e,f){function h(){if(W.Yf){n.style.visibility="visible";n.style.zIndex=10;q.style.visibility="hidden";var y=a.getElementsByClassName("primary");y.length||(y=a.getElementsByClassName("secondary"),y.length||(y=a.getElementsByTagName("button")));y.length&&y[0].focus()}}if(!a)throw TypeError("Content not found: "+a);for(var l=a.getElementsByClassName("addHideHandler"),m;m=l[0];)m.addEventListener("click",W.eh,!0),m.addEventListener("touchend",
W.eh,!0),m.classList.remove("addHideHandler");W.Yf&&W.eh(!1);of&&id(!0);W.Yf=!0;W.Op=b;W.nk=f;var n=S("dialog");f=S("dialogShadow");var q=S("dialogBorder"),t;for(t in e)n.style[t]=e[t];d&&(f.style.visibility="visible",f.style.opacity=.3,f.style.zIndex=9,d=document.createElement("div"),d.id="dialogHeader",n.appendChild(d),W.qk=Ib(d,"mousedown",null,W.ft));n.appendChild(a);a.classList.remove("dialogHiddenContent");try{b.blur()}catch(y){}c&&b?(W.Sk(b,!1,.2),W.Sk(n,!0,.8),setTimeout(h,175)):h()},Pp:0,
Qp:0,ft:function(a){W.wm();if(!fb(a)){var b=S("dialog");W.Pp=b.offsetLeft-a.clientX;W.Qp=b.offsetTop-a.clientY;W.tk=Ib(document,"mouseup",null,W.wm);W.rk=Ib(document,"mousemove",null,W.gt);a.stopPropagation()}},gt:function(a){var b=S("dialog"),c=W.Pp+a.clientX;a=W.Qp+a.clientY;a=Math.max(a,0);a=Math.min(a,window.innerHeight-b.offsetHeight);c=Math.max(c,0);c=Math.min(c,window.innerWidth-b.offsetWidth);b.style.left=c+"px";b.style.top=a+"px"},wm:function(){W.tk&&(u(W.tk),W.tk=null);W.rk&&(u(W.rk),W.rk=
null)},eh:function(a){function b(){d.style.zIndex=-1;d.style.visibility="hidden";S("dialogBorder").style.visibility="hidden"}a=void 0===a?!0:a;if(W.Yf){W.wm();W.qk&&(u(W.qk),W.qk=null);W.Yf=!1;W.nk&&W.nk();W.nk=null;var c=a?W.Op:null;a=S("dialog");var d=S("dialogShadow");d.style.opacity=0;c&&a?(W.Sk(a,!1,.8),W.Sk(c,!0,.2),setTimeout(b,175)):b();a.style.visibility="hidden";a.style.zIndex=-1;for((c=S("dialogHeader"))&&c.parentNode.removeChild(c);a.firstChild;)c=a.firstChild,c.classList.add("dialogHiddenContent"),
document.body.appendChild(c)}},Sk:function(a,b,c){function d(){e.style.width=f.width+"px";e.style.height=f.height+"px";e.style.left=f.x+"px";e.style.top=f.y+"px";e.style.opacity=c}if(a){var e=S("dialogBorder"),f=W.getBBox(a);b?(e.className="dialogAnimate",setTimeout(d,1)):(e.className="",d());e.style.visibility="visible"}},getBBox:function(a){var b=Ka(a);b={x:b.x,y:b.y};a.getBBox?(a=a.getBBox(),b.height=a.height,b.width=a.width):(b.height=a.offsetHeight,b.width=a.offsetWidth);return b},Ar:function(a,
b){var c=S("containerStorage");c.textContent="";b=ba(b.split("\n"));for(var d=b.next();!d.done;d=b.next()){var e=document.createElement("p");e.appendChild(document.createTextNode(d.value));c.appendChild(e)}c=S("dialogStorage");W.wh(c,a,!0,!0,{width:"50%",left:"25%",top:"5em"},W.Ro);W.Qo()},Ss:function(){if(!Bl(T))if(W.Yf||oi.Ra())setTimeout(W.Ss,15E3);else{var a=S("dialogAbort"),b=S("abortOk");b.addEventListener("click",dn,!0);b.addEventListener("touchend",dn,!0);W.wh(a,null,!1,!0,{width:"40%",left:"30%",
top:"3em"},function(){document.body.removeEventListener("keydown",W.vp,!0)});document.body.addEventListener("keydown",W.vp,!0)}},pk:function(a){!W.Yf||13!==a.keyCode&&27!==a.keyCode&&32!==a.keyCode||(W.eh(!0),a.stopPropagation(),a.preventDefault())},Qo:function(){document.body.addEventListener("keydown",W.pk,!0)},Ro:function(){document.body.removeEventListener("keydown",W.pk,!0)},vp:function(a){W.pk(a);13!==a.keyCode&&32!==a.keyCode||dn()}};window.BlocklyDialogs=W;var hn="";function jn(a){a=a.replace(/(,\s*)?'block_id_[^']+'\)/g,")");return a.replace(/\s+$/,"")}function kn(){setTimeout(function(){var a=document.createElement("script");a.type="text/javascript";a.src="third-party/JS-Interpreter/compressed.js";document.head.appendChild(a)},1)}
function ln(){setTimeout(function(){var a=document.createElement("link");a.rel="stylesheet";a.type="text/css";a.href="common/prettify.css";document.head.appendChild(a);a=document.createElement("script");a.type="text/javascript";a.src="common/prettify.js";document.head.appendChild(a)},1)}
function mn(){var a=S("dialogDone");if(oi){var b=S("dialogLinesText");b.textContent="";var c=hn;c=jn(c);c=c.replace(/\bvar\b/g,"int");c="int main() {\n"+c.split("\n").map(function(e){return"    "+e}).join("\n");c+="\n    return 0;\n}";var d=S("containerCode");d.textContent=c;"function"===typeof prettyPrintOne&&(c=d.innerHTML,c=prettyPrintOne(c,"c"),d.innerHTML=c);c=c.split("\n").length-2;c=1===c?U("Games.linesOfCode1",!1):U("Games.linesOfCode2",!1).replace("%1",String(c));b.appendChild(document.createTextNode(c))}b=
10>T?U("Games.nextLevel",!1).replace("%1",String(T+1)):U("Games.finalLevel",!1);c=S("doneOk");c.addEventListener("click",en,!0);c.addEventListener("touchend",en,!0);W.wh(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",nn,!0)});document.body.addEventListener("keydown",nn,!0);S("dialogDoneText").textContent=b}function nn(a){W.pk(a);13!==a.keyCode&&32!==a.keyCode||en()};function on(){S("galleryXml").value=Ym();var a=S("galleryDialog");if(!pn){var b=S("galleryOk");b.addEventListener("click",qn,!0);b.addEventListener("touchend",qn,!0);pn=!0}b=S("submitButton");W.wh(a,b,!0,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",rn,!0)});document.body.addEventListener("keydown",rn,!0);setTimeout(function(){S("galleryTitle").focus()},250)}var pn;function rn(a){27===a.keyCode?W.eh(!0):13===a.keyCode&&qn()}
function sn(a,b,c){for(var d=[],e=ba(a.elements),f=e.next();!f.done;f=e.next())f=f.value,f.name&&d.push(encodeURIComponent(f.name)+"="+encodeURIComponent(f.value));Rm(a.action,d.join("&"),b,c)}function qn(){var a=S("galleryTitle");a.value.trim()?(a=S("galleryForm"),sn(a,function(){W.Ar(null,U("Games.submitted",!1))},function(){console.error(this.responseText)}),W.eh(!0)):(a.value="",a.focus())};nl([{type:"colour_picker",message0:"%1",args0:[{type:"field_colour",name:"COLOUR",colour:"#ff0000"}],output:"Colour",helpUrl:"%{BKY_COLOUR_PICKER_HELPURL}",colour:"%{BKY_COLOUR_HUE}",tooltip:"%{BKY_COLOUR_PICKER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"colour_random",message0:"%{BKY_COLOUR_RANDOM_TITLE}",output:"Colour",helpUrl:"%{BKY_COLOUR_RANDOM_HELPURL}",colour:"%{BKY_COLOUR_HUE}",tooltip:"%{BKY_COLOUR_RANDOM_TOOLTIP}"},{type:"colour_rgb",message0:"%{BKY_COLOUR_RGB_TITLE} %{BKY_COLOUR_RGB_RED} %1 %{BKY_COLOUR_RGB_GREEN} %2 %{BKY_COLOUR_RGB_BLUE} %3",
args0:[{type:"input_value",name:"RED",check:"Number",align:"RIGHT"},{type:"input_value",name:"GREEN",check:"Number",align:"RIGHT"},{type:"input_value",name:"BLUE",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_RGB_HELPURL}",colour:"%{BKY_COLOUR_HUE}",tooltip:"%{BKY_COLOUR_RGB_TOOLTIP}"},{type:"colour_blend",message0:"%{BKY_COLOUR_BLEND_TITLE} %{BKY_COLOUR_BLEND_COLOUR1} %1 %{BKY_COLOUR_BLEND_COLOUR2} %2 %{BKY_COLOUR_BLEND_RATIO} %3",args0:[{type:"input_value",name:"COLOUR1",
check:"Colour",align:"RIGHT"},{type:"input_value",name:"COLOUR2",check:"Colour",align:"RIGHT"},{type:"input_value",name:"RATIO",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_BLEND_HELPURL}",colour:"%{BKY_COLOUR_HUE}",tooltip:"%{BKY_COLOUR_BLEND_TOOLTIP}"}]);function tn(a,b,c){"function"!=typeof a&&(un(a),a=JSON.parse(JSON.stringify(a)));this.lh=a;this.So=this.vo=this.Dk=null;a=this.lh;if(Array.isArray(a)){for(var d=!1,e=0;e<a.length;e++){var f=a[e][0];"string"==typeof f?a[e][0]=jb(f):(null!=f.alt&&(a[e][0].alt=jb(f.alt)),d=!0)}if(!(d||2>a.length)){f=[];for(e=0;e<a.length;e++)f.push(a[e][0]);var h=Ba(f);e=Ca(f,h);d=Da(f,h);if((e||d)&&!(h<=e+d)){e&&(this.vo=f[0].substring(0,e-1));d&&(this.So=f[0].substr(1-d));f=[];for(h=0;h<a.length;h++){var l=a[h][0],
m=a[h][1];l=l.substring(e,l.length-d);f[h]=[l,m]}this.lh=f}}}this.sh=Wh(this,!1)[0];tn.j.constructor.call(this,this.sh[1],b,c);this.zh=this.Mf=this.oe=this.Xb=this.bj=null}F(tn,kh);tn.M=function(a){return new tn(a.options,void 0,a)};tn.prototype.Bk=function(a){Vh(this)&&Wh(this,!1);this.Ja(a.textContent)};tn.prototype.Lf=!0;var vn=Sa?"\u25bc":"\u25be";g=tn.prototype;g.Fj="default";
g.Xf=function(){this.No()?mh(this):this.ek=this.l.P();nh(this);this.oe=B(sc,{},this.rc);this.D().rs?(this.zh=B(sc,{height:this.D().Gh+"px",width:this.D().Gh+"px"},this.rc),this.zh.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.D().ss)):(this.Mf=B(Ac,{},this.ib),this.Mf.appendChild(document.createTextNode(this.l.o?vn+" ":" "+vn)),this.l.o?this.ib.insertBefore(this.Mf,this.Ke):this.ib.appendChild(this.Mf));this.va&&C(this.va,"blocklyDropdownRect")};
g.No=function(){return!this.D().Ml||this.D().Ml&&!this.l.V};g.He=function(a){this.Im();this.Xb.io=a&&"number"===typeof a.clientX?new p(a.clientX,a.clientY):null;this.Xb.O(bf);C(this.Xb.vb,"blocklyDropdownMenu");if(this.D().qs){a=this.l.V?this.l.getParent().Wm():this.l.Wm();var b=this.l.V?this.l.getParent().style.Yd:this.l.style.Yd;af.style.backgroundColor=a;af.style.borderColor=b}mf(this,this.Jm.bind(this));this.Xb.focus();this.bj&&this.Xb.Fe(this.bj);this.Ka()};
g.Im=function(){var a=new Di;a.fj("listbox");this.Xb=a;var b=Wh(this,!1);this.bj=null;for(var c=0;c<b.length;c++){var d=b[c][0],e=b[c][1];if("object"==typeof d){var f=new Image(d.width,d.height);f.src=d.src;f.alt=d.alt||"";d=f}d=new Gi(d,e);d.fj("option");d.Eo=this.l.o;d.lm=!0;a.pd.push(d);d.mm=e==this.xa;e==this.xa&&(this.bj=d);Hi(d,this.vt,this)}};g.Jm=function(){this.Xb&&this.Xb.m();this.bj=this.Xb=null;this.Ka()};g.vt=function(a){ef===this&&tf();this.Wq(a)};g.Wq=function(a){this.Ja(a.Oa())};
function Vh(a){return"function"==typeof a.lh}function Wh(a,b){return Vh(a)?(a.Dk&&b||(a.Dk=a.lh.call(a),un(a.Dk)),a.Dk):a.lh}g.Ye=function(a){for(var b=!1,c=Wh(this,!0),d=0,e;e=c[d];d++)if(e[1]==a){b=!0;break}return b?a:(this.l&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.l.type+", Field name: "+this.name+", Value: "+a),null)};g.Bd=function(a){tn.j.Bd.call(this,a);a=Wh(this,!0);for(var b=0,c;c=a[b];b++)c[1]==this.xa&&(this.sh=c)};
g.Ka=function(){this.va&&(this.va.setAttribute("stroke",this.l.style.Yd),this.Xb?this.va.setAttribute("fill",this.l.style.Yd):this.va.setAttribute("fill","transparent"));this.l&&this.Mf&&(this.Mf.style.fill=this.l.V?this.l.style.gk:this.l.style.Te)};
g.rh=function(){this.Ke.nodeValue="";this.oe.style.display="none";var a=this.sh&&this.sh[0];if(a&&"object"==typeof a){this.oe.style.display="";this.oe.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a.src);this.oe.setAttribute("height",a.height);this.oe.setAttribute("width",a.width);var b=Number(a.height);a=Number(a.width);var c=!!this.va,d=Math.max(c?this.D().hp:0,b+10);c=c?this.D().Bg:0;if(this.zh)var e=wn(this,a+c,d/2-this.D().Gh/2);else{e=this.Mf;var f=this.D().Dg,h=this.D().Eg,l=this.D().Cg;
e=Kc(e,f+"pt",h,l)}this.Jb.width=a+e+2*c;this.Jb.height=d;f=0;this.l.o?this.oe.setAttribute("x",c+e):(f=a+e,this.ib.setAttribute("text-anchor","end"),this.oe.setAttribute("x",c));this.oe.setAttribute("y",d/2-b/2);qh(this,f+c,a+e)}else this.Ke.nodeValue=this.Fk(),C(this.ib,"blocklyDropdownText"),this.ib.setAttribute("text-anchor","start"),a=!!this.va,b=Math.max(a?this.D().hp:0,this.D().Kj),d=this.ib,c=this.D().Dg,e=this.D().Eg,f=this.D().Cg,d=Kc(d,c+"pt",e,f),a=a?this.D().Bg:0,c=0,this.zh&&(c=wn(this,
d+a,b/2-this.D().Gh/2)),this.Jb.width=d+c+2*a,this.Jb.height=b,qh(this,a,d);rh(this)};function wn(a,b,c){if(!a.zh)return 0;var d=a.va?a.D().Bg:0,e=a.D().ts,f=a.D().Gh;a.zh.setAttribute("transform","translate("+(a.l.o?d:b+e)+","+c+")");return f+e}g.$m=function(){if(!this.sh)return null;var a=this.sh[0];return"object"==typeof a?a.alt:a};
function un(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");if(!a.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var b=!1,c=0;c<a.length;++c){var d=a[c];Array.isArray(d)?"string"!=typeof d[1]?(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option id must be a string. Found "+d[1]+" in: ",d)):d[0]&&"string"!=typeof d[0]&&"string"!=typeof d[0].src&&(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option must have a string label or image description. Found"+
d[0]+" in: ",d)):(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option must be an array. Found: ",d))}if(b)throw TypeError("Found invalid FieldDropdown options.");}v(Ob,"field_dropdown",tn);function Qh(a){Qh.j.constructor.call(this,null);this.mr=a}F(Qh,Ve);g=Qh.prototype;g.g=null;g.Eh=0;g.Aj=0;
g.Cm=function(a){B(xc,{"class":"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},a);B(uc,{"class":"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},a);
B(ic,{"class":"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},a)};g.jn=function(a){this.v.Vb()&&Ve.prototype.jn.call(this,a)};
g.rm=function(){this.oj=B(yc,{x:Ce,y:Ce},null);if(this.mr.length)for(var a=G("xml"),b=0,c;c=this.mr[b];b++){var d=G("block");d.setAttribute("type",c);a.appendChild(d)}else a=null;b=new ee({disable:!1,parentWorkspace:this.v.h,media:this.v.h.options.tf,rtl:this.v.o,renderer:this.v.h.options.Yi,rendererOverrides:this.v.h.options.Zi});b.ab=this.v.o?3:2;if(c=!!a)b.Kd=$d(a);this.g=new Wj(b);this.g.Ei=!0;xe(this.g,fc);a=c?hk(this.g,rc):null;b=this.g.Aa("blocklyMutatorBackground");a&&b.insertBefore(a,this.g.sa);
this.oj.appendChild(b);return this.oj};g.Oe=function(){Qh.j.Oe.call(this);this.v.Ia||(this.v.Vb()?this.Ub&&Ec(this.Ub,"blocklyIconGroupReadonly"):(this.la(!1),this.Ub&&C(this.Ub,"blocklyIconGroupReadonly")))};
function xn(a){var b=2*Ce,c=a.g.sa.getBBox(),d=c.width+c.x,e=c.height+3*b,f=a.g.uc();if(f){var h=f.g.Yb.$e();e=Math.max(e,h.height+20);d+=f.me()}a.v.o&&(d=-c.x);d+=3*b;if(Math.abs(a.Eh-d)>b||Math.abs(a.Aj-e)>b)a.Eh=d,a.Aj=e,a.La.cj(d+b,e+b),a.oj.setAttribute("width",a.Eh),a.oj.setAttribute("height",a.Aj),ik(a.g,a.Eh,a.Aj);a.v.o&&a.g.sa.setAttribute("transform","translate("+a.Eh+",0)");a.g.resize()}g.Qt=function(){this.g&&uj(this.g)};
g.la=function(a){if(a!=this.isVisible())if(x(new (A("bubble_open"))(this.v,a,"mutator")),a){this.La=new ze(this.v.h,this.rm(),this.v.oa.ta,this.ef,null,null);Ie(this.La,this.v.id);this.La.Kn=this.Qt.bind(this);var b=this.g.options.Kd;a=this.g.uc();b&&(a.H(this.g),a.show(b));this.Pd=this.v.ee(this.g);b=tb(this.Pd,!1);for(var c=0,d;d=b[c];c++)d.O();this.Pd.zl(!1);this.Pd.vm=!1;a?(b=2*a.ya,a=this.Pd.o?a.me()+b:b):a=b=16;this.v.o&&(a=-a);this.Pd.moveBy(a,b);if(this.v.xl){var e=this,f=this.v;f.xl(this.Pd);
this.Dl=function(){f.xl(e.Pd)};xe(this.v.h,this.Dl)}xn(this);xe(this.g,this.Hu.bind(this));this.Ka()}else this.oj=null,this.g.m(),this.Pd=this.g=null,this.La.m(),this.La=null,this.Aj=this.Eh=0,this.Dl&&(rb(this.v.h.gb,this.Dl),this.Dl=null)};
g.Hu=function(a){if(!(a.Pk||"change"==a.type&&"disabled"==a.element)){if(!this.g.Ra()){a=this.g.Xa(!1);for(var b=0,c;c=a[b];b++){var d=c.ba();20>d.y&&c.moveBy(0,20-d.y);if(c.o){var e=-20,f=this.g.uc();f&&(e-=f.me());d.x>e&&c.moveBy(e-d.x,0)}else 20>d.x&&c.moveBy(20-d.x,0)}}if(this.Pd.h==this.g){z(!0);c=this.v;a=(a=c.qa())&&sd(a);b=c.I;c.I=!1;c.Zd(this.Pd);c.I=b;c.ld();c.I&&c.O();b=(b=c.qa())&&sd(b);if(a!=b){x(new (A("change"))(c,"mutation",null,a,b));var h=Yb;setTimeout(function(){z(h);c.Ma();z(!1)},
250)}this.g.Ra()||xn(this);z(!1)}}};g.m=function(){this.v.yb=null;Ve.prototype.m.call(this)};function yn(a,b,c){if(!a||!a.C().h)return!1;c=H(b,c).connection;var d=a.G();return d&&d!=b||c.K==a?!1:(c.isConnected()&&c.disconnect(),c.connect(a),!0)}function zn(a){var b=null;if(a&&a.options){var c=a.options.Sa;a.md?c&&c.options&&(b=c.options.Sa):c&&(b=c)}return b};nl([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",colour:"%{BKY_LISTS_HUE}",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",colour:"%{BKY_LISTS_HUE}",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",
args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,colour:"%{BKY_LISTS_HUE}",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",colour:"%{BKY_LISTS_HUE}",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",
name:"VALUE",check:["String","Array"]}],output:"Number",colour:"%{BKY_LISTS_HUE}",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]);
L.lists_create_with={H:function(){this.Fb=k.LISTS_CREATE_WITH_HELPURL;this.hb(k.LISTS_HUE);this.nd=3;this.Cc();this.Rd(!0,"Array");this.ej(new Qh(["lists_create_with_item"]));this.Ua(k.LISTS_CREATE_WITH_TOOLTIP)},qa:function(){var a=G("mutation");a.setAttribute("items",this.nd);return a},Na:function(a){this.nd=parseInt(a.getAttribute("items"),10);this.Cc()},ee:function(a){var b=a.lf("lists_create_with_container");b.ld();for(var c=H(b,"STACK").connection,d=0;d<this.nd;d++){var e=a.lf("lists_create_with_item");
e.ld();c.connect(e.F);c=e.B}return b},Zd:function(a){var b=mi(a,"STACK");for(a=[];b&&!b.Gb();)a.push(b.Zo),b=b.B&&b.B.G();for(b=0;b<this.nd;b++){var c=H(this,"ADD"+b).connection.K;c&&-1==a.indexOf(c)&&c.disconnect()}this.nd=a.length;this.Cc();for(b=0;b<this.nd;b++)yn(a[b],this,"ADD"+b)},xl:function(a){a=mi(a,"STACK");for(var b=0;a;){var c=H(this,"ADD"+b);a.Zo=c&&c.connection.K;b++;a=a.B&&a.B.G()}},Cc:function(){this.nd&&H(this,"EMPTY")?this.Ya("EMPTY"):this.nd||H(this,"EMPTY")||M(O(this,"EMPTY"),
k.LISTS_CREATE_EMPTY_TITLE);for(var a=0;a<this.nd;a++)if(!H(this,"ADD"+a)){var b=ci(this.ua(1,"ADD"+a),1);0==a&&M(b,k.LISTS_CREATE_WITH_INPUT_WITH)}for(;H(this,"ADD"+a);)this.Ya("ADD"+a),a++}};L.lists_create_with_container={H:function(){this.hb(k.LISTS_HUE);M(O(this),k.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD);this.ua(3,"STACK");this.Ua(k.LISTS_CREATE_WITH_CONTAINER_TOOLTIP);this.contextMenu=!1}};
L.lists_create_with_item={H:function(){this.hb(k.LISTS_HUE);M(O(this),k.LISTS_CREATE_WITH_ITEM_TITLE);this.Sd(!0);this.Qd(!0);this.Ua(k.LISTS_CREATE_WITH_ITEM_TOOLTIP);this.contextMenu=!1}};
L.lists_indexOf={H:function(){var a=[[k.LISTS_INDEX_OF_FIRST,"FIRST"],[k.LISTS_INDEX_OF_LAST,"LAST"]];this.Fb=k.LISTS_INDEX_OF_HELPURL;this.hb(k.LISTS_HUE);this.Rd(!0,"Number");M(this.ua(1,"VALUE").qb("Array"),k.LISTS_INDEX_OF_INPUT_IN_LIST);M(this.ua(1,"FIND"),new tn(a),"END");this.Wc(!0);var b=this;this.Ua(function(){return k.LISTS_INDEX_OF_TOOLTIP.replace("%1",b.h.options.ye?"0":"-1")})}};
L.lists_getIndex={H:function(){var a=[[k.LISTS_GET_INDEX_GET,"GET"],[k.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[k.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.Xl=[[k.LISTS_GET_INDEX_FROM_START,"FROM_START"],[k.LISTS_GET_INDEX_FROM_END,"FROM_END"],[k.LISTS_GET_INDEX_FIRST,"FIRST"],[k.LISTS_GET_INDEX_LAST,"LAST"],[k.LISTS_GET_INDEX_RANDOM,"RANDOM"]];this.Fb=k.LISTS_GET_INDEX_HELPURL;this.hb(k.LISTS_HUE);a=new tn(a,function(c){c="REMOVE"==c;this.C().Nr(c)});M(this.ua(1,"VALUE").qb("Array"),k.LISTS_GET_INDEX_INPUT_IN_LIST);
M(M(O(this),a,"MODE"),"","SPACE");O(this,"AT");k.LISTS_GET_INDEX_TAIL&&M(O(this,"TAIL"),k.LISTS_GET_INDEX_TAIL);this.Wc(!0);this.Rd(!0);this.Bc(!0);var b=this;this.Ua(function(){var c=I(b,"MODE"),d=I(b,"WHERE"),e="";switch(c+" "+d){case "GET FROM_START":case "GET FROM_END":e=k.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case "GET FIRST":e=k.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case "GET LAST":e=k.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case "GET RANDOM":e=k.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case "GET_REMOVE FROM_START":case "GET_REMOVE FROM_END":e=
k.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case "GET_REMOVE FIRST":e=k.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case "GET_REMOVE LAST":e=k.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case "GET_REMOVE RANDOM":e=k.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case "REMOVE FROM_START":case "REMOVE FROM_END":e=k.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case "REMOVE FIRST":e=k.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case "REMOVE LAST":e=k.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case "REMOVE RANDOM":e=
k.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}if("FROM_START"==d||"FROM_END"==d)e+="  "+("FROM_START"==d?k.LISTS_INDEX_FROM_START_TOOLTIP:k.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",b.h.options.ye?"#1":"#0");return e})},qa:function(){var a=G("mutation");a.setAttribute("statement",!this.u);a.setAttribute("at",1==H(this,"AT").type);return a},Na:function(a){var b="true"==a.getAttribute("statement");this.Nr(b);a="false"!=a.getAttribute("at");this.Bc(a)},Nr:function(a){a!=!this.u&&(Od(this,!0),a?(this.Rd(!1),
this.Sd(!0),this.Qd(!0)):(this.Sd(!1),this.Qd(!1),this.Rd(!0)))},Bc:function(a){this.Ya("AT");this.Ya("ORDINAL",!0);a?(this.ua(1,"AT").qb("Number"),k.ORDINAL_NUMBER_SUFFIX&&M(O(this,"ORDINAL"),k.ORDINAL_NUMBER_SUFFIX)):O(this,"AT");var b=new tn(this.Xl,function(c){var d="FROM_START"==c||"FROM_END"==c;if(d!=a){var e=this.C();e.Bc(d);fi(e,c,"WHERE");return null}});M(H(this,"AT"),b,"WHERE");k.LISTS_GET_INDEX_TAIL&&li(this,"TAIL",null)}};
L.lists_setIndex={H:function(){var a=[[k.LISTS_SET_INDEX_SET,"SET"],[k.LISTS_SET_INDEX_INSERT,"INSERT"]];this.Xl=[[k.LISTS_GET_INDEX_FROM_START,"FROM_START"],[k.LISTS_GET_INDEX_FROM_END,"FROM_END"],[k.LISTS_GET_INDEX_FIRST,"FIRST"],[k.LISTS_GET_INDEX_LAST,"LAST"],[k.LISTS_GET_INDEX_RANDOM,"RANDOM"]];this.Fb=k.LISTS_SET_INDEX_HELPURL;this.hb(k.LISTS_HUE);M(this.ua(1,"LIST").qb("Array"),k.LISTS_SET_INDEX_INPUT_IN_LIST);M(M(O(this),new tn(a),"MODE"),"","SPACE");O(this,"AT");M(this.ua(1,"TO"),k.LISTS_SET_INDEX_INPUT_TO);
this.Wc(!0);this.Sd(!0);this.Qd(!0);this.Ua(k.LISTS_SET_INDEX_TOOLTIP);this.Bc(!0);var b=this;this.Ua(function(){var c=I(b,"MODE"),d=I(b,"WHERE"),e="";switch(c+" "+d){case "SET FROM_START":case "SET FROM_END":e=k.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case "SET FIRST":e=k.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case "SET LAST":e=k.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case "SET RANDOM":e=k.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case "INSERT FROM_START":case "INSERT FROM_END":e=k.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;
break;case "INSERT FIRST":e=k.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case "INSERT LAST":e=k.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case "INSERT RANDOM":e=k.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}if("FROM_START"==d||"FROM_END"==d)e+="  "+k.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",b.h.options.ye?"#1":"#0");return e})},qa:function(){var a=G("mutation");a.setAttribute("at",1==H(this,"AT").type);return a},Na:function(a){a="false"!=a.getAttribute("at");this.Bc(a)},Bc:function(a){this.Ya("AT");
this.Ya("ORDINAL",!0);a?(this.ua(1,"AT").qb("Number"),k.ORDINAL_NUMBER_SUFFIX&&M(O(this,"ORDINAL"),k.ORDINAL_NUMBER_SUFFIX)):O(this,"AT");var b=new tn(this.Xl,function(c){var d="FROM_START"==c||"FROM_END"==c;if(d!=a){var e=this.C();e.Bc(d);fi(e,c,"WHERE");return null}});li(this,"AT","TO");H(this,"ORDINAL")&&li(this,"ORDINAL","TO");M(H(this,"AT"),b,"WHERE")}};
L.lists_getSublist={H:function(){this.WHERE_OPTIONS_1=[[k.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[k.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[k.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]];this.WHERE_OPTIONS_2=[[k.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[k.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[k.LISTS_GET_SUBLIST_END_LAST,"LAST"]];this.Fb=k.LISTS_GET_SUBLIST_HELPURL;this.hb(k.LISTS_HUE);M(this.ua(1,"LIST").qb("Array"),k.LISTS_GET_SUBLIST_INPUT_IN_LIST);O(this,"AT1");O(this,"AT2");
k.LISTS_GET_SUBLIST_TAIL&&M(O(this,"TAIL"),k.LISTS_GET_SUBLIST_TAIL);this.Wc(!0);this.Rd(!0,"Array");this.Bc(1,!0);this.Bc(2,!0);this.Ua(k.LISTS_GET_SUBLIST_TOOLTIP)},qa:function(){var a=G("mutation");a.setAttribute("at1",1==H(this,"AT1").type);a.setAttribute("at2",1==H(this,"AT2").type);return a},Na:function(a){var b="true"==a.getAttribute("at1");a="true"==a.getAttribute("at2");this.Bc(1,b);this.Bc(2,a)},Bc:function(a,b){this.Ya("AT"+a);this.Ya("ORDINAL"+a,!0);b?(this.ua(1,"AT"+a).qb("Number"),k.ORDINAL_NUMBER_SUFFIX&&
M(O(this,"ORDINAL"+a),k.ORDINAL_NUMBER_SUFFIX)):O(this,"AT"+a);var c=new tn(this["WHERE_OPTIONS_"+a],function(d){var e="FROM_START"==d||"FROM_END"==d;if(e!=b){var f=this.C();f.Bc(a,e);fi(f,d,"WHERE"+a);return null}});M(H(this,"AT"+a),c,"WHERE"+a);1==a&&(li(this,"AT1","AT2"),H(this,"ORDINAL1")&&li(this,"ORDINAL1","AT2"));k.LISTS_GET_SUBLIST_TAIL&&li(this,"TAIL",null)}};
L.lists_sort={H:function(){hi(this,{message0:"%{BKY_LISTS_SORT_TITLE}",args0:[{type:"field_dropdown",name:"TYPE",options:[["%{BKY_LISTS_SORT_TYPE_NUMERIC}","NUMERIC"],["%{BKY_LISTS_SORT_TYPE_TEXT}","TEXT"],["%{BKY_LISTS_SORT_TYPE_IGNORECASE}","IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[["%{BKY_LISTS_SORT_ORDER_ASCENDING}","1"],["%{BKY_LISTS_SORT_ORDER_DESCENDING}","-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",colour:"%{BKY_LISTS_HUE}",tooltip:"%{BKY_LISTS_SORT_TOOLTIP}",
helpUrl:"%{BKY_LISTS_SORT_HELPURL}"})}};nl([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,
nextStatement:null,colour:"%{BKY_LOGIC_HUE}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["\u2260","NEQ"],["\u200f<","LT"],["\u200f\u2264","LTE"],["\u200f>","GT"],["\u200f\u2265","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",colour:"%{BKY_LOGIC_HUE}",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",
extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",colour:"%{BKY_LOGIC_HUE}",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",
name:"BOOL",check:"Boolean"}],output:"Boolean",colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",
helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]}]);
nl([{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,
colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]);Kh("logic_op_tooltip",Th("OP",{EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"}));
Nh("controls_if_mutator",{qc:0,fd:0,Ef:!0,qa:function(){if(!this.qc&&!this.fd)return null;var a=G("mutation");this.qc&&a.setAttribute("elseif",this.qc);this.fd&&a.setAttribute("else",1);return a},Na:function(a){this.qc=parseInt(a.getAttribute("elseif"),10)||0;this.fd=parseInt(a.getAttribute("else"),10)||0;this.gu()},ee:function(a){var b=a.lf("controls_if_if");b.ld();for(var c=b.B,d=1;d<=this.qc;d++){var e=a.lf("controls_if_elseif");e.ld();c.connect(e.F);c=e.B}this.fd&&(a=a.lf("controls_if_else"),
a.ld(),c.connect(a.F));return b},Zd:function(a){a=a.B.G();this.fd=this.qc=0;for(var b=[null],c=[null],d=null;a&&!a.Gb();){switch(a.type){case "controls_if_elseif":this.qc++;b.push(a.Zo);c.push(a.Je);break;case "controls_if_else":this.fd++;d=a.Je;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.B&&a.B.G()}this.Cc();this.pr(b,c,d)},xl:function(a){a=a.B.G();for(var b=1;a;){switch(a.type){case "controls_if_elseif":var c=H(this,"IF"+b),d=H(this,"DO"+b);a.Zo=c&&c.connection.K;a.Je=d&&d.connection.K;
b++;break;case "controls_if_else":d=H(this,"ELSE");a.Je=d&&d.connection.K;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.B&&a.B.G()}},gu:function(){var a=[null],b=[null],c=null;H(this,"ELSE")&&(c=H(this,"ELSE").connection.K);for(var d=1;H(this,"IF"+d);){var e=H(this,"DO"+d);a.push(H(this,"IF"+d).connection.K);b.push(e.connection.K);d++}this.Cc();this.pr(a,b,c)},Cc:function(){H(this,"ELSE")&&this.Ya("ELSE");for(var a=1;H(this,"IF"+a);)this.Ya("IF"+a),this.Ya("DO"+a),a++;for(a=1;a<=
this.qc;a++)M(this.ua(1,"IF"+a).qb("Boolean"),k.CONTROLS_IF_MSG_ELSEIF),M(this.ua(3,"DO"+a),k.CONTROLS_IF_MSG_THEN);this.fd&&M(this.ua(3,"ELSE"),k.CONTROLS_IF_MSG_ELSE)},pr:function(a,b,c){for(var d=1;d<=this.qc;d++)yn(a[d],this,"IF"+d),yn(b[d],this,"DO"+d);yn(c,this,"ELSE")}},null,["controls_if_elseif","controls_if_else"]);
Kh("controls_if_tooltip",function(){this.Ua(function(){if(this.qc||this.fd){if(!this.qc&&this.fd)return k.CONTROLS_IF_TOOLTIP_2;if(this.qc&&!this.fd)return k.CONTROLS_IF_TOOLTIP_3;if(this.qc&&this.fd)return k.CONTROLS_IF_TOOLTIP_4}else return k.CONTROLS_IF_TOOLTIP_1;return""}.bind(this))});
var An={onchange:function(a){this.Si||(this.Si=[null,null]);var b=mi(this,"A"),c=mi(this,"B");b&&c&&!Ud(b.u,c.u)&&(z(a.group),a=this.Si[0],a!==b&&(Od(b),!a||a.Kc||a.V||H(this,"A").connection.connect(a.u)),b=this.Si[1],b!==c&&(Od(c),!b||b.Kc||b.V||H(this,"B").connection.connect(b.u)),this.Ma(),z(!1));this.Si[0]=mi(this,"A");this.Si[1]=mi(this,"B")}};Kh("logic_compare",function(){Mh(this,An)});
Lh("logic_ternary",{kr:null,onchange:function(a){var b=mi(this,"THEN"),c=mi(this,"ELSE"),d=this.u.K;if((b||c)&&d)for(var e=0;2>e;e++){var f=1==e?b:c;f&&!Ud(f.u,d)&&(z(a.group),d===this.kr?(Od(this),d.C().Ma()):(Od(f),f.Ma()),z(!1))}this.kr=d}});function Bn(a,b,c){this.kj=!0;Bn.j.constructor.call(this,a,b,c);this.fl=this.xe=this.fc=null;this.Ck=!1;this.g=null}F(Bn,kh);Bn.prototype.Ag="";Bn.M=function(a){var b=jb(a.text);return new Bn(b,void 0,a)};g=Bn.prototype;g.Lf=!0;g.Fj="text";g.bc=function(a){Bn.j.bc.call(this,a);"boolean"==typeof a.spellcheck&&(this.kj=a.spellcheck)};
g.Xf=function(){if(this.D().jp){for(var a=0,b=0,c=0,d;d=this.l.A[c];c++){for(var e=0;d.aa[e];e++)a++;d.connection&&b++}this.Ck=1>=a&&this.l.u&&!b}else this.Ck=!1;this.Ck?this.ek=this.l.P():mh(this);nh(this)};g.Ye=function(a){return null===a||void 0===a?null:String(a)};g.Sp=function(){if(this.Bi){this.rn=!1;var a=this.xa;this.xa=this.fc.Kr;this.l&&0==w&&x(new (A("change"))(this.l,"field",this.name||null,a,this.xa))}};g.Bd=function(a){this.rn=!0;this.xa=a;this.Bi||(this.qe=!0)};
g.Ka=function(){this.l&&this.D().jp&&(this.va?this.va.setAttribute("stroke",this.l.style.Yd):this.l.oa.ta.setAttribute("fill",this.D().fp))};g.rh=function(){Bn.j.rh.call(this);if(this.Bi){Cn(this);var a=this.fc;this.rn?(Ec(a,"blocklyInvalidInput"),wh(a,"invalid",!1)):(C(a,"blocklyInvalidInput"),wh(a,"invalid",!0))}};function Dn(a){0!=a.kj&&(a.kj=!1,a.fc&&a.fc.setAttribute("spellcheck",a.kj))}
g.He=function(a,b){this.g=this.l.h;a=b||!1;!a&&(Ya||Sa||Ta)?En(this):(hh(this,this.l.o,this.Gu.bind(this)),this.fc=this.$o(),this.Bi=!0,a||(this.fc.focus({preventScroll:!0}),this.fc.select()))};function En(a){el(k.CHANGE_VALUE_TITLE,a.Tb(),function(b){null!==b&&this.Ja(b)}.bind(a))}
g.$o=function(){var a=ch;C(lh(this),"editing");var b=document.createElement("input");b.className="blocklyHtmlInput";b.setAttribute("spellcheck",this.kj);var c=mk(this.g),d=this.D().Dg*c+"pt";a.style.fontSize=d;b.style.fontSize=d;d=4*c+"px";if(this.Ck){d=nf(this);d=(d.bottom-d.top)/2+"px";var e=this.l.getParent()?this.l.getParent().style.Yd:this.l.style.Yd;b.style.border=1*c+"px solid "+e;a.style.borderRadius=d;a.style.transition="box-shadow 0.25s ease 0s";this.D().us&&(a.style.boxShadow="rgba(255, 255, 255, 0.3) 0px 0px 0px "+
4*c+"px")}b.style.borderRadius=d;a.appendChild(b);b.value=b.defaultValue=String(this.xa);b.Kr=this.xa;b.Uq=null;Cn(this);this.xe=r(b,"keydown",this,this.Ut);this.fl=r(b,"input",this,this.Tt);return b};g.Gu=function(){this.Bi=!1;this.rn=!0;sh(this);this.Wn&&this.Wn(this.xa);this.xe&&(u(this.xe),this.xe=null);this.fl&&(u(this.fl),this.fl=null);var a=ch.style;a.width="auto";a.height="auto";a.fontSize="";a.transition="";a.boxShadow="";this.fc=null;Ec(lh(this),"editing")};
g.Ut=function(a){if(13==a.keyCode)ih(),tf();else if(27==a.keyCode)this.Ja(this.fc.Kr),ih(),tf();else if(9==a.keyCode){ih();tf();var b=this.l,c=!a.shiftKey,d=new aj;$g(d,Sg(this));var e=d.pc;c?d.next():d.Be();(c=d.pc)&&c!==e&&(e=c.T,Jg(e)&&e.He(void 0),b.h.kh&&$g(b.h.Yg(),c));a.preventDefault()}};g.Tt=function(){var a=this.fc.value;a!==this.fc.Uq&&(this.fc.Uq=a,z(!0),this.Ja(a),sh(this),Cn(this),z(!1))};
function Cn(a){var b=ch,c=nf(a);b.style.width=c.right-c.left+"px";b.style.height=c.bottom-c.top+"px";a=new p(a.l.o?c.right-b.offsetWidth:c.left,c.top);b.style.left=a.x+"px";b.style.top=a.y+"px"}g.vq=function(){return!0};g.$m=function(){return this.Bi&&this.fc?this.fc.value:null};v(Ob,"field_input",Bn);function Fn(a,b,c,d,e,f){this.Li=-Infinity;this.Ji=Infinity;this.oh=0;this.tm=null;Fn.j.constructor.call(this,a,e,f);f||(Gn(this,b),Hn(this,c),In(this,d),this.Ja(this.Oa()))}F(Fn,Bn);Fn.prototype.Ag=0;Fn.M=function(a){return new Fn(a.value,void 0,void 0,void 0,void 0,a)};Fn.prototype.Lf=!0;Fn.prototype.bc=function(a){Fn.j.bc.call(this,a);Gn(this,a.min);Hn(this,a.max);In(this,a.precision)};function Gn(a,b){null==b?a.Li=-Infinity:(b=Number(b),isNaN(b)||(a.Li=b))}
function Hn(a,b){null==b?a.Ji=Infinity:(b=Number(b),isNaN(b)||(a.Ji=b))}function In(a,b){a.oh=Number(b)||0;var c=String(a.oh);-1!=c.indexOf("e")&&(c=a.oh.toLocaleString("en-US",{maximumFractionDigits:20}));var d=c.indexOf(".");a.tm=-1==d?b?0:null:c.length-d-1}
Fn.prototype.Ye=function(a){if(null===a)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=a.replace(/infinity/i,"Infinity");a=Number(a||0);if(isNaN(a))return null;a=Math.min(Math.max(a,this.Li),this.Ji);this.oh&&isFinite(a)&&(a=Math.round(a/this.oh)*this.oh);null!=this.tm&&(a=Number(a.toFixed(this.tm)));return a};Fn.prototype.$o=function(){var a=Fn.j.$o.call(this);-Infinity<this.Li&&wh(a,"valuemin",this.Li);Infinity>this.Ji&&wh(a,"valuemax",this.Ji);return a};
v(Ob,"field_number",Fn);function Jn(a,b,c,d,e){this.lh=Kn;this.dt="string"===typeof a?a:"";this.Jb=new Ha(0,0);e&&this.bc(e);b&&(this.ug=b);e||Ln(this,c,d)}F(Jn,tn);Jn.M=function(a){var b=jb(a.variable);return new Jn(b,void 0,void 0,void 0,a)};g=Jn.prototype;g.Lf=!0;g.bc=function(a){Jn.j.bc.call(this,a);Ln(this,a.variableTypes,a.defaultType)};g.Wf=function(){if(!this.hc){var a=fl(this.l.h,null,this.dt,this.ct);this.Bd(a.S())}};g.No=function(){return Jn.j.No.call(this)&&(!this.D().Ml||"variables_get"!=this.l.type)};
g.Bk=function(a){var b=a.getAttribute("id"),c=a.textContent,d=a.getAttribute("variabletype")||a.getAttribute("variableType")||"";b=fl(this.l.h,b,c,d);if(null!=d&&d!==b.type)throw Error("Serialized variable type with id '"+b.S()+"' had type "+b.type+", and does not match variable field that references it: "+sd(a)+".");this.Ja(b.S())};g.Gr=function(a){this.Wf();a.id=this.hc.S();a.textContent=this.hc.name;this.hc.type&&a.setAttribute("variabletype",this.hc.type);return a};
g.Lo=function(a){if(a.V)throw Error("Variable fields are not allowed to exist on shadow blocks.");Jn.j.Lo.call(this,a)};g.Oa=function(){return this.hc?this.hc.S():null};g.Tb=function(){return this.hc?this.hc.name:""};g.Nc=function(){return this.hc};g.cq=function(){return this.hc?this.ug:null};
g.Ye=function(a){if(null===a)return null;var b=gl(this.l.h,a);if(!b)return console.warn("Variable id doesn't point to a real variable! ID was "+a),null;b=b.type;var c;a:if(c=Mn(this)){for(var d=0;d<c.length;d++)if(b==c[d]){c=!0;break a}c=!1}else c=!0;return c?a:(console.warn("Variable type doesn't match this field!  Type was "+b),null)};g.Bd=function(a){this.hc=gl(this.l.h,a);Jn.j.Bd.call(this,a)};
function Mn(a){var b=a.Eu;if(null===b&&a.l&&a.l.h)return a.l.h.an();b=b||[""];if(0==b.length)throw a=a.Tb(),Error("'variableTypes' of field variable "+a+" was an empty list");return b}
function Ln(a,b,c){c=c||"";if(null==b||void 0==b)b=null;else if(Array.isArray(b)){for(var d=!1,e=0;e<b.length;e++)b[e]==c&&(d=!0);if(!d)throw Error("Invalid default type '"+c+"' in the definition of a FieldVariable");}else throw Error("'variableTypes' was not an array in the definition of a FieldVariable");a.ct=c;a.Eu=b}
function Kn(){if(!this.hc)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var a=this.Tb(),b=[];if(this.l&&this.l.h)for(var c=Mn(this),d=0;d<c.length;d++)b=b.concat(this.l.h.ui(c[d]));b.sort(Xk);c=[];for(d=0;d<b.length;d++)c[d]=[b[d].name,b[d].S()];c.push([k.RENAME_VARIABLE,"RENAME_VARIABLE_ID"]);k.DELETE_VARIABLE&&c.push([k.DELETE_VARIABLE.replace("%1",a),"DELETE_VARIABLE_ID"]);return c}
g.Wq=function(a){a=a.Oa();if(this.l&&this.l.h){if("RENAME_VARIABLE_ID"==a){cl(this.l.h,this.hc);return}if("DELETE_VARIABLE_ID"==a){this.l.h.fe(this.hc.S());return}}this.Ja(a)};g.Wi=function(){return!0};v(Ob,"field_variable",Jn);nl([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],
message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,
nextStatement:null,colour:"%{BKY_LOOPS_HUE}",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,colour:"%{BKY_LOOPS_HUE}",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",extensions:["controls_flow_tooltip",
"controls_flow_in_loop_check"]}]);Kh("controls_whileUntil_tooltip",Th("MODE",{WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"}));Kh("controls_flow_tooltip",Th("FLOW",{BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"}));
Lh("contextMenu_newGetVariableBlock",{ce:function(a){if(!this.Ia){var b=Fd(this,"VAR").Nc(),c=b.name;if(!this.isCollapsed()&&null!=c){var d={enabled:!0};d.text=k.VARIABLES_SET_CREATE_GET.replace("%1",c);b=$k(b);c=G("block");c.setAttribute("type","variables_get");c.appendChild(b);d.ga=Ii.$j(this,c);a.push(d)}}}});Kh("controls_for_tooltip",Xh("%{BKY_CONTROLS_FOR_TOOLTIP}"));Kh("controls_forEach_tooltip",Xh("%{BKY_CONTROLS_FOREACH_TOOLTIP}"));
var Nn={Ds:["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"],Ef:!0,bq:function(a){do{if(-1!=Nn.Ds.indexOf(a.type))return a;a=ei(a)}while(a);return null},onchange:function(a){if(this.h.Ra&&!this.h.Ra()&&"move"==a.type){var b=Nn.bq(this);this.vh(b?null:k.CONTROLS_FLOW_STATEMENTS_WARNING);if(!this.Ia){var c=Yb;z(a.group);this.Zb(b);z(c)}}}};Lh("controls_flow_in_loop_check",Nn);nl([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}",
"MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},
{type:"input_value",name:"NUM",check:"Number"}],output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",colour:"%{BKY_MATH_HUE}",
helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["\u03c0","PI"],["e","E"],["\u03c6","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(\u00bd)","SQRT1_2"],["\u221e","INFINITY"]]}],output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},
{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",
name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,colour:"%{BKY_VARIABLES_HUE}",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",
name:"NUM",check:"Number"}],output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",
args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",
tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",
helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]);
Kh("math_op_tooltip",Th("OP",{ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",
SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"}));
Nh("math_is_divisibleby_mutator",{qa:function(){var a=G("mutation"),b="DIVISIBLE_BY"==I(this,"PROPERTY");a.setAttribute("divisor_input",b);return a},Na:function(a){a="true"==a.getAttribute("divisor_input");this.Cc(a)},Cc:function(a){var b=H(this,"DIVISOR");a?b||this.ua(1,"DIVISOR").qb("Number"):b&&this.Ya("DIVISOR")}},function(){oh(Fd(this,"PROPERTY"),function(a){a="DIVISIBLE_BY"==a;this.C().Cc(a)})});Kh("math_change_tooltip",Xh("%{BKY_MATH_CHANGE_TOOLTIP}"));
Nh("math_modes_of_list_mutator",{Or:function(a){"MODE"==a?this.u.qb("Array"):this.u.qb("Number")},qa:function(){var a=G("mutation");a.setAttribute("op",I(this,"OP"));return a},Na:function(a){this.Or(a.getAttribute("op"))}},function(){oh(Fd(this,"OP"),function(a){this.Or(a)}.bind(this))});function On(a,b,c){this.Fp=null;On.j.constructor.call(this,a,b,c)}F(On,kh);On.prototype.Ag=!1;On.M=function(a){return new On(a.checked,void 0,a)};g=On.prototype;g.Lf=!0;g.Fj="default";g.bc=function(a){On.j.bc.call(this,a);a.checkCharacter&&(this.Fp=a.checkCharacter)};g.Xf=function(){On.j.Xf.call(this);C(this.ib,"blocklyCheckbox");this.ib.style.display=this.xa?"block":"none"};g.rh=function(){this.Ke&&(this.Ke.nodeValue=this.Fk());ph(this,this.D().ns)};g.Fk=function(){return this.Fp||"\u2713"};
g.He=function(){this.Ja(!this.xa)};g.Ye=function(a){return!0===a||"TRUE"===a?"TRUE":!1===a||"FALSE"===a?"FALSE":null};g.Bd=function(a){this.xa=Pn(a);this.ib&&(this.ib.style.display=this.xa?"block":"none")};g.Oa=function(){return this.xa?"TRUE":"FALSE"};g.Tb=function(){return String(Pn(this.xa))};function Pn(a){return"string"==typeof a?"TRUE"==a:!!a}v(Ob,"field_checkbox",On);L.fu={};
L.procedures_defnoreturn={H:function(){var a=Kk("",this);a=new Bn(a,Mk);Dn(a);M(M(M(O(this),k.PROCEDURES_DEFNORETURN_TITLE),a,"NAME"),"","PARAMS");this.ej(new Qh(["procedures_mutatorarg"]));(this.h.options.Yh||this.h.options.Sa&&this.h.options.Sa.options.Yh)&&k.PROCEDURES_DEFNORETURN_COMMENT&&this.Af(k.PROCEDURES_DEFNORETURN_COMMENT);this.hb(k.PROCEDURES_HUE);this.Ua(k.PROCEDURES_DEFNORETURN_TOOLTIP);this.Fb=k.PROCEDURES_DEFNORETURN_HELPURL;this.$=[];this.cb=[];this.og(!0);this.Je=null},og:function(a){this.Hk!==a&&
(a?(M(this.ua(3,"STACK"),k.PROCEDURES_DEFNORETURN_DO),H(this,"RETURN")&&li(this,"STACK","RETURN")):this.Ya("STACK",!0),this.Hk=a)},xj:function(){var a="";this.$.length&&(a=k.PROCEDURES_BEFORE_PARAMS+" "+this.$.join(", "));w++;try{fi(this,a,"PARAMS")}finally{w--}},qa:function(a){var b=G("mutation");a&&b.setAttribute("name",I(this,"NAME"));for(var c=0;c<this.cb.length;c++){var d=G("arg"),e=this.cb[c];d.setAttribute("name",e.name);d.setAttribute("varid",e.S());a&&this.no&&d.setAttribute("paramId",this.no[c]);
b.appendChild(d)}this.Hk||b.setAttribute("statements","false");return b},Na:function(a){this.$=[];this.cb=[];for(var b=0,c;c=a.childNodes[b];b++)if("arg"==c.nodeName.toLowerCase()){var d=c.getAttribute("name");c=c.getAttribute("varid")||c.getAttribute("varId");this.$.push(d);c=fl(this.h,c,d,"");null!=c?this.cb.push(c):console.log("Failed to create a variable with name "+d+", ignoring.")}this.xj();Qk(this);this.og("false"!==a.getAttribute("statements"))},ee:function(a){var b=G("block");b.setAttribute("type",
"procedures_mutatorcontainer");var c=G("statement");c.setAttribute("name","STACK");b.appendChild(c);for(var d=0;d<this.$.length;d++){var e=G("block");e.setAttribute("type","procedures_mutatorarg");var f=G("field");f.setAttribute("name","NAME");f.appendChild(document.createTextNode(this.$[d]));e.appendChild(f);f=G("next");e.appendChild(f);c.appendChild(e);c=f}a=vd(b,a);"procedures_defreturn"==this.type?fi(a,this.Hk,"STATEMENTS"):a.Ya("STATEMENT_INPUT");Qk(this);return a},Zd:function(a){this.$=[];this.no=
[];this.cb=[];for(var b=mi(a,"STACK");b&&!b.Gb();){var c=I(b,"NAME");this.$.push(c);this.cb.push(this.h.Nc(c,""));this.no.push(b.id);b=b.B&&b.B.G()}this.xj();Qk(this);a=I(a,"STATEMENTS");if(null!==a&&(a="TRUE"==a,this.Hk!=a))if(a)this.og(!0),yn(this.Je,this,"STACK"),this.Je=null;else{a=H(this,"STACK").connection;if(this.Je=a.K)a=a.G(),Od(a),a.Ma();this.og(!1)}},Ze:function(){return[I(this,"NAME"),this.$,!1]},le:function(){return this.$},ke:function(){return this.cb},ul:function(a,b){var c=this.h.kd(a);
if(""==c.type){c=c.name;b=this.h.kd(b);for(var d=!1,e=0;e<this.cb.length;e++)this.cb[e].S()==a&&(this.$[e]=b.name,this.cb[e]=b,d=!0);d&&(this.vk(c,b.name),Qk(this))}},Jl:function(a){for(var b=a.name,c=!1,d=0;d<this.cb.length;d++)if(this.cb[d].S()==a.S()){var e=this.$[d];this.$[d]=b;c=!0}c&&(this.vk(e,b),Qk(this))},vk:function(a,b){this.xj();if(this.yb&&this.yb.isVisible())for(var c=ke(this.yb.g,!1),d=0,e;e=c[d];d++)"procedures_mutatorarg"==e.type&&qe(a,I(e,"NAME"))&&fi(e,b,"NAME")},ce:function(a){if(!this.Ia){var b=
{enabled:!0},c=I(this,"NAME");b.text=k.PROCEDURES_CREATE_DO.replace("%1",c);var d=G("mutation");d.setAttribute("name",c);for(c=0;c<this.$.length;c++){var e=G("arg");e.setAttribute("name",this.$[c]);d.appendChild(e)}c=G("block");c.setAttribute("type",this.Dp);c.appendChild(d);b.ga=Ii.$j(this,c);a.push(b);if(!this.isCollapsed())for(c=0;c<this.cb.length;c++)b={enabled:!0},d=this.cb[c],b.text=k.VARIABLES_SET_CREATE_GET.replace("%1",d.name),d=$k(d),e=G("block"),e.setAttribute("type","variables_get"),e.appendChild(d),
b.ga=Ii.$j(this,e),a.push(b)}},Dp:"procedures_callnoreturn"};
L.procedures_defreturn={H:function(){var a=Kk("",this);a=new Bn(a,Mk);Dn(a);M(M(M(O(this),k.PROCEDURES_DEFRETURN_TITLE),a,"NAME"),"","PARAMS");M(ci(this.ua(1,"RETURN"),1),k.PROCEDURES_DEFRETURN_RETURN);this.ej(new Qh(["procedures_mutatorarg"]));(this.h.options.Yh||this.h.options.Sa&&this.h.options.Sa.options.Yh)&&k.PROCEDURES_DEFRETURN_COMMENT&&this.Af(k.PROCEDURES_DEFRETURN_COMMENT);this.hb(k.PROCEDURES_HUE);this.Ua(k.PROCEDURES_DEFRETURN_TOOLTIP);this.Fb=k.PROCEDURES_DEFRETURN_HELPURL;this.$=[];
this.cb=[];this.og(!0);this.Je=null},og:L.procedures_defnoreturn.og,xj:L.procedures_defnoreturn.xj,qa:L.procedures_defnoreturn.qa,Na:L.procedures_defnoreturn.Na,ee:L.procedures_defnoreturn.ee,Zd:L.procedures_defnoreturn.Zd,Ze:function(){return[I(this,"NAME"),this.$,!0]},le:L.procedures_defnoreturn.le,ke:L.procedures_defnoreturn.ke,ul:L.procedures_defnoreturn.ul,Jl:L.procedures_defnoreturn.Jl,vk:L.procedures_defnoreturn.vk,ce:L.procedures_defnoreturn.ce,Dp:"procedures_callreturn"};
L.procedures_mutatorcontainer={H:function(){M(O(this),k.PROCEDURES_MUTATORCONTAINER_TITLE);this.ua(3,"STACK");M(M(O(this,"STATEMENT_INPUT"),k.PROCEDURES_ALLOW_STATEMENTS),new On("TRUE"),"STATEMENTS");this.hb(k.PROCEDURES_HUE);this.Ua(k.PROCEDURES_MUTATORCONTAINER_TOOLTIP);this.contextMenu=!1}};
L.procedures_mutatorarg={H:function(){var a=new Bn("x",this.ug);a.Pt=a.He;a.He=function(){this.ei=[];this.Pt()};M(M(O(this),k.PROCEDURES_MUTATORARG_TITLE),a,"NAME");this.Sd(!0);this.Qd(!0);this.hb(k.PROCEDURES_HUE);this.Ua(k.PROCEDURES_MUTATORARG_TOOLTIP);this.contextMenu=!1;a.Wn=this.et;a.ei=[];a.Wn("x")},ug:function(a){var b=this.C(),c=zn(b.h);a=a.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,"");if(!a)return null;for(var d=ke(b.h.U||b.h,!1),e=a.toLowerCase(),f=0;f<d.length;f++)if(d[f].id!=this.C().id){var h=
I(d[f],"NAME");if(h&&h.toLowerCase()==e)return null}if(b.Ia)return a;(b=c.Nc(a,""))&&b.name!=a&&c.xf(b.S(),a);b||(b=c.cd(a,""))&&this.ei&&this.ei.push(b);return a},et:function(a){var b=zn(this.C().h);if(b)for(var c=0;c<this.ei.length;c++){var d=this.ei[c];d.name!=a&&b.fe(d.S())}}};
L.procedures_callnoreturn={H:function(){M(O(this,"TOPROW"),"","NAME");this.Sd(!0);this.Qd(!0);this.hb(k.PROCEDURES_HUE);this.Fb=k.PROCEDURES_CALLNORETURN_HELPURL;this.$=[];this.cb=[];this.lg={};this.Nd=null;this.wo=!0},vc:function(){return I(this,"NAME")},qh:function(a,b){qe(a,this.vc())&&(fi(this,b,"NAME"),this.Ua((this.u?k.PROCEDURES_CALLRETURN_TOOLTIP:k.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",b)))},Jo:function(a,b){var c=Rk(this.vc(),this.h),d=c&&c.yb&&c.yb.isVisible();d||(this.lg={},this.Nd=
null);if(b)if(a.join("\n")==this.$.join("\n"))this.Nd=b;else{if(b.length!=a.length)throw RangeError("paramNames and paramIds must be the same length.");this.zf(!1);this.Nd||(this.lg={},this.Nd=[]);c=this.I;this.I=!1;for(var e=0;e<this.$.length;e++){var f=H(this,"ARG"+e);f&&(f=f.connection.K,this.lg[this.Nd[e]]=f,d&&f&&-1==b.indexOf(this.Nd[e])&&(f.disconnect(),f.C().Ma()))}this.$=[].concat(a);this.cb=[];for(e=0;e<this.$.length;e++)a=fl(this.h,null,this.$[e],""),this.cb.push(a);this.Cc();if(this.Nd=
b)for(e=0;e<this.$.length;e++)b=this.Nd[e],b in this.lg&&(f=this.lg[b],yn(f,this,"ARG"+e)||delete this.lg[b]);(this.I=c)&&this.O()}},Cc:function(){for(var a=0;a<this.$.length;a++){var b=Fd(this,"ARGNAME"+a);if(b){w++;try{b.Ja(this.$[a])}finally{w--}}else b=new Yh(this.$[a]),M(ci(this.ua(1,"ARG"+a),1),b,"ARGNAME"+a).H()}for(;H(this,"ARG"+a);)this.Ya("ARG"+a),a++;if(a=H(this,"TOPROW"))if(this.$.length)Fd(this,"WITH")||(M(a,k.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"),a.H());else if(Fd(this,"WITH"))a:{b=
0;for(var c;c=a.aa[b];b++)if("WITH"===c.name){c.m();a.aa.splice(b,1);a.l.I&&(a.l=a.l,a.l.O(),a.l.Ma());break a}throw Error('Field "WITH" not found.');}},qa:function(){var a=G("mutation");a.setAttribute("name",this.vc());for(var b=0;b<this.$.length;b++){var c=G("arg");c.setAttribute("name",this.$[b]);a.appendChild(c)}return a},Na:function(a){var b=a.getAttribute("name");this.qh(this.vc(),b);b=[];for(var c=[],d=0,e;e=a.childNodes[d];d++)"arg"==e.nodeName.toLowerCase()&&(b.push(e.getAttribute("name")),
c.push(e.getAttribute("paramId")));this.Jo(b,c)},le:function(){return this.$},ke:function(){return this.cb},onchange:function(a){if(this.h&&!this.h.md&&a.zb)if("create"==a.type&&-1!=a.ff.indexOf(this.id)){var b=this.vc();b=Rk(b,this.h);!b||b.type==this.um&&JSON.stringify(b.le())==JSON.stringify(this.$)||(b=null);if(!b){z(a.group);a=G("xml");b=G("block");b.setAttribute("type",this.um);var c=this.ba(),d=c.y+56;b.setAttribute("x",c.x+28*(this.o?-1:1));b.setAttribute("y",d);c=this.qa();b.appendChild(c);
c=G("field");c.setAttribute("name","NAME");d=this.vc();d||(d=Kk("",this),this.qh("",d));c.appendChild(document.createTextNode(d));b.appendChild(c);a.appendChild(b);ud(a,this.h);z(!1)}}else"delete"==a.type?(b=this.vc(),b=Rk(b,this.h),b||(z(a.group),this.m(!0),z(!1))):"change"==a.type&&"disabled"==a.element&&(b=this.vc(),(b=Rk(b,this.h))&&b.id==a.ea&&((b=Yb)&&console.log("Saw an existing group while responding to a definition change"),z(a.group),a.newValue?(this.wo=this.isEnabled(),this.Zb(!1)):this.Zb(this.wo),
z(b)))},ce:function(a){if(this.h.fb()){var b={enabled:!0};b.text=k.PROCEDURES_HIGHLIGHT_DEF;var c=this.vc(),d=this.h;b.ga=function(){var e=Rk(c,d);if(e){var f=e.id;if(d.fb()){if(f=f?d.tc(f):null){var h=f.ba(),l=Xf(f),m=d.scale;f=(h.x+(d.o?-1:1)*l.width/2)*m;h=(h.y+l.height/2)*m;l=d.Rb();d.scroll(-(f-l.mb/2),-(h-l.lb/2))}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.");e.select()}};a.push(b)}},um:"procedures_defnoreturn"};
L.procedures_callreturn={H:function(){M(O(this,"TOPROW"),"","NAME");this.Rd(!0);this.hb(k.PROCEDURES_HUE);this.Fb=k.PROCEDURES_CALLRETURN_HELPURL;this.$=[];this.cb=[];this.lg={};this.Nd=null;this.wo=!0},vc:L.procedures_callnoreturn.vc,qh:L.procedures_callnoreturn.qh,Jo:L.procedures_callnoreturn.Jo,Cc:L.procedures_callnoreturn.Cc,qa:L.procedures_callnoreturn.qa,Na:L.procedures_callnoreturn.Na,le:L.procedures_callnoreturn.le,ke:L.procedures_callnoreturn.ke,onchange:L.procedures_callnoreturn.onchange,
ce:L.procedures_callnoreturn.ce,um:"procedures_defreturn"};
L.procedures_ifreturn={H:function(){M(this.ua(1,"CONDITION").qb("Boolean"),k.CONTROLS_IF_MSG_IF);M(this.ua(1,"VALUE"),k.PROCEDURES_DEFRETURN_RETURN);this.Wc(!0);this.Sd(!0);this.Qd(!0);this.hb(k.PROCEDURES_HUE);this.Ua(k.PROCEDURES_IFRETURN_TOOLTIP);this.Fb=k.PROCEDURES_IFRETURN_HELPURL;this.cf=!0},qa:function(){var a=G("mutation");a.setAttribute("value",Number(this.cf));return a},Na:function(a){this.cf=1==a.getAttribute("value");this.cf||(this.Ya("VALUE"),M(O(this,"VALUE"),k.PROCEDURES_DEFRETURN_RETURN))},
onchange:function(){if(this.h.Ra&&!this.h.Ra()){var a=!1,b=this;do{if(-1!=this.ws.indexOf(b.type)){a=!0;break}b=ei(b)}while(b);a?("procedures_defnoreturn"==b.type&&this.cf?(this.Ya("VALUE"),M(O(this,"VALUE"),k.PROCEDURES_DEFRETURN_RETURN),this.cf=!1):"procedures_defreturn"!=b.type||this.cf||(this.Ya("VALUE"),M(this.ua(1,"VALUE"),k.PROCEDURES_DEFRETURN_RETURN),this.cf=!0),this.vh(null),this.Ia||this.Zb(!0)):(this.vh(k.PROCEDURES_IFRETURN_WARNING),this.Ia||gi(this)||this.Zb(!1))}},ws:["procedures_defnoreturn",
"procedures_defreturn"]};nl([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,colour:"%{BKY_VARIABLES_HUE}",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,
colour:"%{BKY_VARIABLES_HUE}",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]);function Qn(a){return function(){var b=a.h,c=Fd(a,"VAR").Nc();cl(b,c)}}function Rn(a){return function(){var b=a.h,c=Fd(a,"VAR").Nc();b.fe(c.S());fk(b)}}
Lh("contextMenu_variableSetterGetter",{ce:function(a){if(!this.Ia){if("variables_get"==this.type)var b="variables_set",c=k.VARIABLES_GET_CREATE_SET;else b="variables_get",c=k.VARIABLES_SET_CREATE_GET;var d={enabled:0<te(this.h)},e=Fd(this,"VAR").Tb();d.text=c.replace("%1",e);c=G("field");c.setAttribute("name","VAR");c.appendChild(document.createTextNode(e));e=G("block");e.setAttribute("type",b);e.appendChild(c);d.ga=Ii.$j(this,e);a.push(d)}else if("variables_get"==this.type||"variables_get_reporter"==
this.type)b={text:k.RENAME_VARIABLE,enabled:!0,ga:Qn(this)},e=Fd(this,"VAR").Tb(),d={text:k.DELETE_VARIABLE.replace("%1",e),enabled:!0,ga:Rn(this)},a.unshift(b),a.unshift(d)}});P.fk={};P.colour_picker=function(a){return[P.nr(I(a,"COLOUR")),P.Qe]};P.colour_random=function(){return[vi("colourRandom",["function "+P.td+"() {","  var num = Math.floor(Math.random() * Math.pow(2, 24));","  return '#' + ('00000' + num.toString(16)).substr(-6);","}"])+"()",P.Ga]};
P.colour_rgb=function(a){var b=Q(P,a,"RED",P.ra)||0,c=Q(P,a,"GREEN",P.ra)||0;a=Q(P,a,"BLUE",P.ra)||0;return[vi("colourRgb",["function "+P.td+"(r, g, b) {","  r = Math.max(Math.min(Number(r), 100), 0) * 2.55;","  g = Math.max(Math.min(Number(g), 100), 0) * 2.55;","  b = Math.max(Math.min(Number(b), 100), 0) * 2.55;","  r = ('0' + (Math.round(r) || 0).toString(16)).slice(-2);","  g = ('0' + (Math.round(g) || 0).toString(16)).slice(-2);","  b = ('0' + (Math.round(b) || 0).toString(16)).slice(-2);","  return '#' + r + g + b;",
"}"])+"("+b+", "+c+", "+a+")",P.Ga]};
P.colour_blend=function(a){var b=Q(P,a,"COLOUR1",P.ra)||"'#000000'",c=Q(P,a,"COLOUR2",P.ra)||"'#000000'";a=Q(P,a,"RATIO",P.ra)||.5;return[vi("colourBlend",["function "+P.td+"(c1, c2, ratio) {","  ratio = Math.max(Math.min(Number(ratio), 1), 0);","  var r1 = parseInt(c1.substring(1, 3), 16);","  var g1 = parseInt(c1.substring(3, 5), 16);","  var b1 = parseInt(c1.substring(5, 7), 16);","  var r2 = parseInt(c2.substring(1, 3), 16);","  var g2 = parseInt(c2.substring(3, 5), 16);","  var b2 = parseInt(c2.substring(5, 7), 16);",
"  var r = Math.round(r1 * (1 - ratio) + r2 * ratio);","  var g = Math.round(g1 * (1 - ratio) + g2 * ratio);","  var b = Math.round(b1 * (1 - ratio) + b2 * ratio);","  r = ('0' + (r || 0).toString(16)).slice(-2);","  g = ('0' + (g || 0).toString(16)).slice(-2);","  b = ('0' + (b || 0).toString(16)).slice(-2);","  return '#' + r + g + b;","}"])+"("+b+", "+c+", "+a+")",P.Ga]};P.Bq={};P.lists_create_empty=function(){return["[]",P.Qe]};P.lists_create_with=function(a){for(var b=Array(a.nd),c=0;c<a.nd;c++)b[c]=Q(P,a,"ADD"+c,P.ra)||"null";return["["+b.join(", ")+"]",P.Qe]};P.lists_repeat=function(a){var b=vi("listsRepeat",["function "+P.td+"(value, n) {","  var array = [];","  for (var i = 0; i < n; i++) {","    array[i] = value;","  }","  return array;","}"]),c=Q(P,a,"ITEM",P.ra)||"null";a=Q(P,a,"NUM",P.ra)||"0";return[b+"("+c+", "+a+")",P.Ga]};
P.lists_length=function(a){return[(Q(P,a,"VALUE",P.bb)||"[]")+".length",P.bb]};P.lists_isEmpty=function(a){return["!"+(Q(P,a,"VALUE",P.bb)||"[]")+".length",P.Mh]};P.lists_indexOf=function(a){var b="FIRST"==I(a,"END")?"indexOf":"lastIndexOf",c=Q(P,a,"FIND",P.ra)||"''";b=(Q(P,a,"VALUE",P.bb)||"[]")+"."+b+"("+c+")";return a.h.options.ye?[b+" + 1",P.Jf]:[b,P.Ga]};
P.lists_getIndex=function(a){var b=I(a,"MODE")||"GET",c=I(a,"WHERE")||"FROM_START",d=Q(P,a,"VALUE","RANDOM"==c?P.ra:P.bb)||"[]";switch(c){case "FIRST":if("GET"==b)return[d+"[0]",P.bb];if("GET_REMOVE"==b)return[d+".shift()",P.bb];if("REMOVE"==b)return d+".shift();\n";break;case "LAST":if("GET"==b)return[d+".slice(-1)[0]",P.bb];if("GET_REMOVE"==b)return[d+".pop()",P.bb];if("REMOVE"==b)return d+".pop();\n";break;case "FROM_START":a=P.Ed(a,"AT");if("GET"==b)return[d+"["+a+"]",P.bb];if("GET_REMOVE"==b)return[d+
".splice("+a+", 1)[0]",P.Ga];if("REMOVE"==b)return d+".splice("+a+", 1);\n";break;case "FROM_END":a=P.Ed(a,"AT",1,!0);if("GET"==b)return[d+".slice("+a+")[0]",P.Ga];if("GET_REMOVE"==b)return[d+".splice("+a+", 1)[0]",P.Ga];if("REMOVE"==b)return d+".splice("+a+", 1);";break;case "RANDOM":d=vi("listsGetRandomItem",["function "+P.td+"(list, remove) {","  var x = Math.floor(Math.random() * list.length);","  if (remove) {","    return list.splice(x, 1)[0];","  } else {","    return list[x];","  }","}"])+
"("+d+", "+("GET"!=b)+")";if("GET"==b||"GET_REMOVE"==b)return[d,P.Ga];if("REMOVE"==b)return d+";\n"}throw Error("Unhandled combination (lists_getIndex).");};
P.lists_setIndex=function(a){function b(){if(c.match(/^\w+$/))return"";var h=wi(P.Ca,"tmpList","VARIABLE"),l="var "+h+" = "+c+";\n";c=h;return l}var c=Q(P,a,"LIST",P.bb)||"[]",d=I(a,"MODE")||"GET",e=I(a,"WHERE")||"FROM_START",f=Q(P,a,"TO",P.Kf)||"null";switch(e){case "FIRST":if("SET"==d)return c+"[0] = "+f+";\n";if("INSERT"==d)return c+".unshift("+f+");\n";break;case "LAST":if("SET"==d)return a=b(),a+(c+"["+c+".length - 1] = "+f+";\n");if("INSERT"==d)return c+".push("+f+");\n";break;case "FROM_START":e=
P.Ed(a,"AT");if("SET"==d)return c+"["+e+"] = "+f+";\n";if("INSERT"==d)return c+".splice("+e+", 0, "+f+");\n";break;case "FROM_END":e=P.Ed(a,"AT",1,!1,P.Jg);a=b();if("SET"==d)return a+(c+"["+c+".length - "+e+"] = "+f+";\n");if("INSERT"==d)return a+(c+".splice("+c+".length - "+e+", 0, "+f+");\n");break;case "RANDOM":a=b();e=wi(P.Ca,"tmpX","VARIABLE");a+="var "+e+" = Math.floor(Math.random() * "+c+".length);\n";if("SET"==d)return a+(c+"["+e+"] = "+f+";\n");if("INSERT"==d)return a+(c+".splice("+e+", 0, "+
f+");\n")}throw Error("Unhandled combination (lists_setIndex).");};P.Bq.st=function(a,b,c){return"FIRST"==b?"0":"FROM_END"==b?a+".length - 1 - "+c:"LAST"==b?a+".length - 1":c};
P.lists_getSublist=function(a){var b=Q(P,a,"LIST",P.bb)||"[]",c=I(a,"WHERE1"),d=I(a,"WHERE2");if("FIRST"==c&&"LAST"==d)b+=".slice(0)";else if(b.match(/^\w+$/)||"FROM_END"!=c&&"FROM_START"==d){switch(c){case "FROM_START":var e=P.Ed(a,"AT1");break;case "FROM_END":e=P.Ed(a,"AT1",1,!1,P.Jg);e=b+".length - "+e;break;case "FIRST":e="0";break;default:throw Error("Unhandled option (lists_getSublist).");}switch(d){case "FROM_START":a=P.Ed(a,"AT2",1);break;case "FROM_END":a=P.Ed(a,"AT2",0,!1,P.Jg);a=b+".length - "+
a;break;case "LAST":a=b+".length";break;default:throw Error("Unhandled option (lists_getSublist).");}b=b+".slice("+e+", "+a+")"}else{e=P.Ed(a,"AT1");a=P.Ed(a,"AT2");var f=P.Bq.st,h={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};b=vi("subsequence"+h[c]+h[d],["function "+P.td+"(sequence"+("FROM_END"==c||"FROM_START"==c?", at1":"")+("FROM_END"==d||"FROM_START"==d?", at2":"")+") {","  var start = "+f("sequence",c,"at1")+";","  var end = "+f("sequence",d,"at2")+" + 1;","  return sequence.slice(start, end);",
"}"])+"("+b+("FROM_END"==c||"FROM_START"==c?", "+e:"")+("FROM_END"==d||"FROM_START"==d?", "+a:"")+")"}return[b,P.Ga]};
P.lists_sort=function(a){var b=Q(P,a,"LIST",P.Ga)||"[]",c="1"===I(a,"DIRECTION")?1:-1;a=I(a,"TYPE");var d=vi("listsGetSortCompare",["function "+P.td+"(type, direction) {","  var compareFuncs = {",'    "NUMERIC": function(a, b) {',"        return Number(a) - Number(b); },",'    "TEXT": function(a, b) {',"        return a.toString() > b.toString() ? 1 : -1; },",'    "IGNORE_CASE": function(a, b) {',"        return a.toString().toLowerCase() > b.toString().toLowerCase() ? 1 : -1; },","  };","  var compare = compareFuncs[type];",
"  return function(a, b) { return compare(a, b) * direction; }","}"]);return[b+".slice().sort("+d+'("'+a+'", '+c+"))",P.Ga]};P.lists_reverse=function(a){return[(Q(P,a,"LIST",P.Ga)||"[]")+".slice().reverse()",P.Ga]};P.nv={};P.controls_if=function(a){var b=0,c="";P.ac&&(c+=qi(P.ac,a));do{var d=Q(P,a,"IF"+b,P.ra)||"false";var e=si(a,"DO"+b);P.tb&&(e=ri(qi(P.tb,a),P.Kb)+e);c+=(0<b?" else ":"")+"if ("+d+") {\n"+e+"}";++b}while(H(a,"IF"+b));if(H(a,"ELSE")||P.tb)e=si(a,"ELSE"),P.tb&&(e=ri(qi(P.tb,a),P.Kb)+e),c+=" else {\n"+e+"}";return c+"\n"};
P.logic_compare=function(a){var b={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[I(a,"OP")],c="=="==b||"!="==b?P.op:P.Hs,d=Q(P,a,"A",c)||"0";a=Q(P,a,"B",c)||"0";return[d+" "+b+" "+a,c]};P.logic_operation=function(a){var b="AND"==I(a,"OP")?"&&":"||",c="&&"==b?P.Ql:P.Rl,d=Q(P,a,"A",c);a=Q(P,a,"B",c);if(d||a){var e="&&"==b?"true":"false";d||(d=e);a||(a=e)}else a=d="false";return[d+" "+b+" "+a,c]};P.logic_negate=function(a){var b=P.Mh;return["!"+(Q(P,a,"BOOL",b)||"true"),b]};
P.logic_boolean=function(a){return["TRUE"==I(a,"BOOL")?"true":"false",P.Qe]};P.logic_ternary=function(a){var b=Q(P,a,"IF",P.Pj)||"false",c=Q(P,a,"THEN",P.Pj)||"null";a=Q(P,a,"ELSE",P.Pj)||"null";return[b+" ? "+c+" : "+a,P.Pj]};P.ov={};P.controls_repeat_ext=function(a){var b=Fd(a,"TIMES")?String(Number(I(a,"TIMES"))):Q(P,a,"TIMES",P.Kf)||"0",c=si(a,"DO");c=ti(c,a);a="";var d=wi(P.Ca,"count","VARIABLE"),e=b;b.match(/^\w+$/)||Ci(b)||(e=wi(P.Ca,"repeat_end","VARIABLE"),a+="var "+e+" = "+b+";\n");return a+("for (var "+d+" = 0; "+d+" < "+e+"; "+d+"++) {\n"+c+"}\n")};P.controls_repeat=P.controls_repeat_ext;
P.controls_whileUntil=function(a){var b="UNTIL"==I(a,"MODE"),c=Q(P,a,"BOOL",b?P.Mh:P.ra)||"false",d=si(a,"DO");d=ti(d,a);b&&(c="!"+c);return"while ("+c+") {\n"+d+"}\n"};
P.controls_for=function(a){var b=P.Ca.Sb(I(a,"VAR"),"VARIABLE"),c=Q(P,a,"FROM",P.Kf)||"0",d=Q(P,a,"TO",P.Kf)||"0",e=Q(P,a,"BY",P.Kf)||"1",f=si(a,"DO");f=ti(f,a);if(Ci(c)&&Ci(d)&&Ci(e)){var h=Number(c)<=Number(d);a="for ("+b+" = "+c+"; "+b+(h?" <= ":" >= ")+d+"; "+b;b=Math.abs(Number(e));a=(1==b?a+(h?"++":"--"):a+((h?" += ":" -= ")+b))+(") {\n"+f+"}\n")}else a="",h=c,c.match(/^\w+$/)||Ci(c)||(h=wi(P.Ca,b+"_start","VARIABLE"),a+="var "+h+" = "+c+";\n"),c=d,d.match(/^\w+$/)||Ci(d)||(c=wi(P.Ca,b+"_end",
"VARIABLE"),a+="var "+c+" = "+d+";\n"),d=wi(P.Ca,b+"_inc","VARIABLE"),a+="var "+d+" = ",a=Ci(e)?a+(Math.abs(e)+";\n"):a+("Math.abs("+e+");\n"),a=a+("if ("+h+" > "+c+") {\n")+(P.Kb+d+" = -"+d+";\n"),a+="}\n",a+="for ("+b+" = "+h+"; "+d+" >= 0 ? "+b+" <= "+c+" : "+b+" >= "+c+"; "+b+" += "+d+") {\n"+f+"}\n";return a};
P.controls_forEach=function(a){var b=P.Ca.Sb(I(a,"VAR"),"VARIABLE"),c=Q(P,a,"LIST",P.Kf)||"[]",d=si(a,"DO");d=ti(d,a);a="";var e=c;c.match(/^\w+$/)||(e=wi(P.Ca,b+"_list","VARIABLE"),a+="var "+e+" = "+c+";\n");c=wi(P.Ca,b+"_index","VARIABLE");d=P.Kb+b+" = "+e+"["+c+"];\n"+d;return a+("for (var "+c+" in "+e+") {\n"+d+"}\n")};
P.controls_flow_statements=function(a){var b="";P.ac&&(b+=qi(P.ac,a));P.tb&&(b+=qi(P.tb,a));if(P.ac){var c=Nn.bq(a);c&&!c.Ef&&(b+=qi(P.ac,c))}switch(I(a,"FLOW")){case "BREAK":return b+"break;\n";case "CONTINUE":return b+"continue;\n"}throw Error("Unknown flow statement.");};P.pv={};P.math_number=function(a){a=Number(I(a,"NUM"));return[a,0<=a?P.Qe:P.Oh]};P.math_arithmetic=function(a){var b={ADD:[" + ",P.Jf],MINUS:[" - ",P.Jg],MULTIPLY:[" * ",P.Sl],DIVIDE:[" / ",P.Lh],POWER:[null,P.ra]}[I(a,"OP")],c=b[0];b=b[1];var d=Q(P,a,"A",b)||"0";a=Q(P,a,"B",b)||"0";return c?[d+c+a,b]:["Math.pow("+d+", "+a+")",P.Ga]};
P.math_single=function(a){var b=I(a,"OP");if("NEG"==b)return a=Q(P,a,"NUM",P.Oh)||"0","-"==a[0]&&(a=" "+a),["-"+a,P.Oh];a="SIN"==b||"COS"==b||"TAN"==b?Q(P,a,"NUM",P.Lh)||"0":Q(P,a,"NUM",P.ra)||"0";switch(b){case "ABS":var c="Math.abs("+a+")";break;case "ROOT":c="Math.sqrt("+a+")";break;case "LN":c="Math.log("+a+")";break;case "EXP":c="Math.exp("+a+")";break;case "POW10":c="Math.pow(10,"+a+")";break;case "ROUND":c="Math.round("+a+")";break;case "ROUNDUP":c="Math.ceil("+a+")";break;case "ROUNDDOWN":c=
"Math.floor("+a+")";break;case "SIN":c="Math.sin("+a+" / 180 * Math.PI)";break;case "COS":c="Math.cos("+a+" / 180 * Math.PI)";break;case "TAN":c="Math.tan("+a+" / 180 * Math.PI)"}if(c)return[c,P.Ga];switch(b){case "LOG10":c="Math.log("+a+") / Math.log(10)";break;case "ASIN":c="Math.asin("+a+") / Math.PI * 180";break;case "ACOS":c="Math.acos("+a+") / Math.PI * 180";break;case "ATAN":c="Math.atan("+a+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+b);}return[c,P.Lh]};
P.math_constant=function(a){return{PI:["Math.PI",P.bb],E:["Math.E",P.bb],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",P.Lh],SQRT2:["Math.SQRT2",P.bb],SQRT1_2:["Math.SQRT1_2",P.bb],INFINITY:["Infinity",P.Qe]}[I(a,"CONSTANT")]};
P.math_number_property=function(a){var b=Q(P,a,"NUMBER_TO_CHECK",P.Nh)||"0",c=I(a,"PROPERTY");if("PRIME"==c){var d=vi("mathIsPrime",["function "+P.td+"(n) {","  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if (n == 2 || n == 3) {","    return true;","  }","  // False if n is NaN, negative, is 1, or not whole.","  // And false if n is divisible by 2 or 3.","  if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {","    return false;","  }","  // Check all the numbers of form 6k +/- 1, up to sqrt(n).",
"  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {","    if (n % (x - 1) == 0 || n % (x + 1) == 0) {","      return false;","    }","  }","  return true;","}"])+"("+b+")";return[d,P.Ga]}switch(c){case "EVEN":d=b+" % 2 == 0";break;case "ODD":d=b+" % 2 == 1";break;case "WHOLE":d=b+" % 1 == 0";break;case "POSITIVE":d=b+" > 0";break;case "NEGATIVE":d=b+" < 0";break;case "DIVISIBLE_BY":a=Q(P,a,"DIVISOR",P.Nh)||"0",d=b+" % "+a+" == 0"}return[d,P.op]};
P.math_change=function(a){var b=Q(P,a,"DELTA",P.Jf)||"0";a=P.Ca.Sb(I(a,"VAR"),"VARIABLE");return a+" = (typeof "+a+" == 'number' ? "+a+" : 0) + "+b+";\n"};P.math_round=P.math_single;P.math_trig=P.math_single;P.math_modulo=function(a){var b=Q(P,a,"DIVIDEND",P.Nh)||"0";a=Q(P,a,"DIVISOR",P.Nh)||"0";return[b+" % "+a,P.Nh]};P.math_constrain=function(a){var b=Q(P,a,"VALUE",P.ra)||"0",c=Q(P,a,"LOW",P.ra)||"0";a=Q(P,a,"HIGH",P.ra)||"Infinity";return["Math.min(Math.max("+b+", "+c+"), "+a+")",P.Ga]};
P.math_random_int=function(a){var b=Q(P,a,"FROM",P.ra)||"0";a=Q(P,a,"TO",P.ra)||"0";return[vi("mathRandomInt",["function "+P.td+"(a, b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.","    var c = a;","    a = b;","    b = c;","  }","  return Math.floor(Math.random() * (b - a + 1) + a);","}"])+"("+b+", "+a+")",P.Ga]};P.math_random_float=function(){return["Math.random()",P.Ga]};
P.math_atan2=function(a){var b=Q(P,a,"X",P.ra)||"0";return["Math.atan2("+(Q(P,a,"Y",P.ra)||"0")+", "+b+") / Math.PI * 180",P.Lh]};P.fu={};P.procedures_defreturn=function(a){var b=P.Ca.Sb(I(a,"NAME"),"PROCEDURE"),c="";P.ac&&(c+=qi(P.ac,a));P.tb&&(c+=qi(P.tb,a));c&&(c=ri(c,P.Kb));var d="";P.Lj&&(d=ri(qi(P.Lj,a),P.Kb));var e=si(a,"STACK"),f=Q(P,a,"RETURN",P.ra)||"",h="";e&&f&&(h=c);f&&(f=P.Kb+"return "+f+";\n");for(var l=[],m=a.le(),n=0;n<m.length;n++)l[n]=P.Ca.Sb(m[n],"VARIABLE");c="function "+b+"("+l.join(", ")+") {\n"+c+d+e+h+f+"}";c=P.yl(a,c);P.Ug["%"+b]=c;return null};P.procedures_defnoreturn=P.procedures_defreturn;
P.procedures_callreturn=function(a){for(var b=P.Ca.Sb(I(a,"NAME"),"PROCEDURE"),c=[],d=a.le(),e=0;e<d.length;e++)c[e]=Q(P,a,"ARG"+e,P.ra)||"null";return[b+"("+c.join(", ")+")",P.Ga]};P.procedures_callnoreturn=function(a){return P.procedures_callreturn(a)[0]+";\n"};P.procedures_ifreturn=function(a){var b="if ("+(Q(P,a,"CONDITION",P.ra)||"false")+") {\n";P.tb&&(b+=ri(qi(P.tb,a),P.Kb));a.cf?(a=Q(P,a,"VALUE",P.ra)||"null",b+=P.Kb+"return "+a+";\n"):b+=P.Kb+"return;\n";return b+"}\n"};P.xv={};P.variables_get=function(a){return[P.Ca.Sb(I(a,"VAR"),"VARIABLE"),P.Qe]};P.variables_set=function(a){var b=Q(P,a,"VALUE",P.Kf)||"0";return P.Ca.Sb(I(a,"VAR"),"VARIABLE")+" = "+b+";\n"};function Sn(){function a(b){return{type:"input_value",name:b,check:"Number",align:"RIGHT"}}nl([{type:"movie_circle",message0:U("Movie.circleDraw",!1)+" "+U("Movie.x",!1)+"%1"+U("Movie.y",!1)+"%2"+U("Movie.radius",!1)+"%3",args0:[a("X"),a("Y"),a("RADIUS")],previousStatement:null,nextStatement:null,colour:160,tooltip:U("Movie.circleTooltip",!1)},{type:"movie_rect",message0:U("Movie.rectDraw",!1)+" "+U("Movie.x",!1)+"%1"+U("Movie.y",!1)+"%2"+U("Movie.width",!1)+"%3"+U("Movie.height",!1)+"%4",args0:[a("X"),
a("Y"),a("WIDTH"),a("HEIGHT")],previousStatement:null,nextStatement:null,colour:160,tooltip:U("Movie.rectTooltip",!1)},{type:"movie_line",message0:U("Movie.lineDraw",!1)+" "+U("Movie.x1",!1)+"%1"+U("Movie.y1",!1)+"%2"+U("Movie.x2",!1)+"%3"+U("Movie.y2",!1)+"%4"+U("Movie.width",!1)+"%5",args0:[a("X1"),a("Y1"),a("X2"),a("Y2"),a("WIDTH")],previousStatement:null,nextStatement:null,colour:160,tooltip:U("Movie.lineTooltip",!1)},{type:"movie_time",message0:"time (0\u2192100)",output:null,colour:"%{BKY_VARIABLES_HUE}",
tooltip:U("Movie.timeTooltip",!1)},{type:"movie_colour",message0:U("Movie.setColour",!1)+"%1",args0:[{type:"input_value",name:"COLOUR",check:"Colour"}],previousStatement:null,nextStatement:null,colour:"%{BKY_COLOUR_HUE}",tooltip:U("Movie.colourTooltip",!1)}])}P.movie_circle=function(a){var b=Q(P,a,"X",P.Fc)||"0",c=Q(P,a,"Y",P.Fc)||"0";a=Q(P,a,"RADIUS",P.Fc)||"0";return"circle("+b+", "+c+", "+a+");\n"};
P.movie_rect=function(a){var b=Q(P,a,"X",P.Fc)||"0",c=Q(P,a,"Y",P.Fc)||"0",d=Q(P,a,"WIDTH",P.Fc)||"0";a=Q(P,a,"HEIGHT",P.Fc)||"0";return"rect("+b+", "+c+", "+d+", "+a+");\n"};P.movie_line=function(a){var b=Q(P,a,"X1",P.Fc)||"0",c=Q(P,a,"Y1",P.Fc)||"0",d=Q(P,a,"X2",P.Fc)||"0",e=Q(P,a,"Y2",P.Fc)||"0";a=Q(P,a,"WIDTH",P.Fc)||"0";return"line("+b+", "+c+", "+d+", "+e+", "+a+");\n"};P.movie_time=function(){return["time()",P.Qe]};
P.movie_colour=function(a){return"penColour("+(Q(P,a,"COLOUR",P.ra)||"'#000000'")+");\n"};function Tn(){return'\n<div class="farSide farSideButtons">\n  <button class="secondary addHideHandler">'+El(k.DIALOG_OK)+"</button>\n</div>\n"};function Un(){var a=U("Games.movie",!0),b="";var c='\n&nbsp;\n<button id="linkButton" title="'+U("Games.linkTooltip",!0)+'">\n  <img src="common/1x1.gif" class="link icon21">\n</button>\n';var d='\n&nbsp;\n<button id="helpButton">'+U("Games.help",!0)+"</button>\n";b&&(b=" &nbsp; "+b);a='\n<span id="title">\n  <a href="'+(sl?"index.html":"./")+"?lang="+pl+'">'+U("Games.name",!0)+"</a> : "+a+"\n</span>\n";if(T){var e=" &nbsp ";for(var f=1;10>=f;f++){var h="?lang="+pl+"&level="+f;e+=" ";e=f===T?e+('<span class="level_number level_done" id="level'+
f+'">'+f+"</span>"):10===f?e+('<a class="level_number" id="level'+f+'" href="'+h+'">'+f+"</a>"):e+('<a class="level_dot" id="level'+f+'" href="'+h+'"></a>')}}else e="";b='\n\n<table width="100%">\n  <tr>\n    <td>\n      <h1>\n        '+(a+"\n        "+e+'\n      </h1>\n    </td>\n    <td id="header_cta" class="farSide">\n      <select id="languageMenu"></select>\n      '+c+"\n      "+d+"\n      "+b+'\n    </td>\n  </tr>\n</table>\n\n\n<div id="visualization">\n  <div id="coordinates">\n    <span id="x"></span>\n    <span id="y"></span>\n  </div>\n  <canvas id="scratch" width=400 height=400 style="display: none"></canvas>\n  <canvas id="hatching" width=400 height=400 style="display: none"></canvas>\n  <canvas id="axies" width=400 height=400 style="display: none" dir="ltr"></canvas>\n  <canvas id="display" width=400 height=400 style="vertical-align: bottom"></canvas>\n</div>\n<svg\n    id="scrubber"\n    xmlns="http://www.w3.org/2000/svg"\n    xmlns:svg="http://www.w3.org/2000/svg"\n    xmlns:xlink="http://www.w3.org/1999/xlink"\n    version="1.1"\n    width="402" height="24">\n  <image xlink:href="movie/youtube-bg.png" height=25 width=402 x=0 y=-1 />\n</svg>\n\n')+
(10!==T||sl?"":'\n<table style="padding-top: 1em; width: 400px;">\n  <tr>\n    <td style="text-align: center;">\n      <form action="/gallery" target="movie-gallery">\n        <input type="hidden" name="app" value="movie">\n        <input type="hidden" name="lang" value="'+pl+'">\n        <button type="submit" title="'+U("Movie.galleryTooltip",!0)+'">\n          <img src="common/1x1.gif" class="gallery icon21"> '+U("Movie.galleryMsg",!0)+'\n        </button>\n      </form>\n    </td>\n    <td style="text-align: center;">\n      <button id="submitButton" title="'+
U("Movie.submitTooltip",!0)+'">\n        <img src="common/1x1.gif" class="camera icon21"> '+U("Movie.submitMsg",!0)+'\n      </button>\n    </td>\n  </tr>\n</table>\n<div id="galleryDialog" class="dialogHiddenContent">\n    <form id="galleryForm" action="/scripts/gallery_submit.py" method="post" onsubmit="return false">\n    <header>'+U("Movie.submitTooltip",!0)+'</header>\n    <canvas id="thumbnail" width=200 height=200></canvas>\n    <input type="hidden" name="app" value="movie">\n    <input id="galleryThumb" type="hidden" name="thumb">\n    <input id="galleryXml" type="hidden" name="data">\n    <div>\n      '+
U("Games.submitTitle",!0)+'\n      <input id="galleryTitle" type="text" name="title" maxlength=32 required>\n    </div>\n\n    <div class="farSide">\n      <button class="addHideHandler" type="button">'+El(k.DIALOG_CANCEL)+'</button>\n      <button id="galleryOk" class="secondary" type="submit">'+El(k.DIALOG_OK)+"</button>\n    </div>\n  </form>\n</div>\n")+"\n\n";c='\n<category name="'+U("Games.movie",!0)+'">\n  <block type="movie_circle">\n    <value name="X">\n      <shadow type="math_number">\n        <field name="NUM">50</field>\n      </shadow>\n    </value>\n    <value name="Y">\n      <shadow type="math_number">\n        <field name="NUM">50</field>\n      </shadow>\n    </value>\n    <value name="RADIUS">\n      <shadow type="math_number">\n        <field name="NUM">10</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="movie_rect">\n    <value name="X">\n      <shadow type="math_number">\n        <field name="NUM">50</field>\n      </shadow>\n    </value>\n    <value name="Y">\n      <shadow type="math_number">\n        <field name="NUM">50</field>\n      </shadow>\n    </value>\n    <value name="WIDTH">\n      <shadow type="math_number">\n        <field name="NUM">10</field>\n      </shadow>\n    </value>\n    <value name="HEIGHT">\n      <shadow type="math_number">\n        <field name="NUM">10</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="movie_line">\n    <value name="X1">\n      <shadow type="math_number">\n        <field name="NUM">40</field>\n      </shadow>\n    </value>\n    <value name="Y1">\n      <shadow type="math_number">\n        <field name="NUM">40</field>\n      </shadow>\n    </value>\n    <value name="X2">\n      <shadow type="math_number">\n        <field name="NUM">60</field>\n      </shadow>\n    </value>\n    <value name="Y2">\n      <shadow type="math_number">\n        <field name="NUM">60</field>\n      </shadow>\n    </value>\n    <value name="WIDTH">\n      <shadow type="math_number">\n        <field name="NUM">1</field>\n      </shadow>\n    </value>\n  </block>\n';
1<T&&(c+='<block type="movie_time"></block>');c+='\n</category>\n<category name="'+U("Games.catColour",!0)+'">\n  <block type="movie_colour">\n    <value name="COLOUR">\n      <shadow type="colour_picker"></shadow>\n    </value>\n  </block>\n';10===T&&(c+='\n  <block type="colour_picker"></block>\n  <block type="colour_rgb">\n    <value name="RED">\n      <shadow type="math_number">\n        <field name="NUM">100</field>\n      </shadow>\n    </value>\n    <value name="GREEN">\n      <shadow type="math_number">\n        <field name="NUM">50</field>\n      </shadow>\n    </value>\n    <value name="BLUE">\n      <shadow type="math_number">\n        <field name="NUM">0</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="colour_blend">\n    <value name="COLOUR1">\n      <shadow type="colour_picker">\n        <field name="COLOUR">#ff0000</field>\n      </shadow>\n    </value>\n    <value name="COLOUR2">\n      <shadow type="colour_picker">\n        <field name="COLOUR">#3333ff</field>\n      </shadow>\n    </value>\n    <value name="RATIO">\n      <shadow type="math_number">\n        <field name="NUM">0.5</field>\n      </shadow>\n    </value>\n  </block>\n');
c+="</category>";6<T&&(c+='\n<category name="'+U("Games.catLogic",!0)+'">\n  <block type="controls_if">\n',10>T&&(c+='<mutation else="1"></mutation>'),c+='\n  </block>\n  <block type="logic_compare"></block>\n',10===T&&(c+='\n  <block type="logic_operation"></block>\n  <block type="logic_negate"></block>\n  <block type="logic_boolean"></block>\n  <block type="logic_ternary"></block>\n'),c+="</category>");10===T&&(c+='\n<category name="'+U("Games.catLoops",!0)+'">\n  <block type="controls_whileUntil"></block>\n  <block type="controls_for">\n    <value name="FROM">\n      <shadow type="math_number">\n        <field name="NUM">1</field>\n      </shadow>\n    </value>\n    <value name="TO">\n      <shadow type="math_number">\n        <field name="NUM">10</field>\n      </shadow>\n    </value>\n    <value name="BY">\n      <shadow type="math_number">\n        <field name="NUM">1</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="controls_flow_statements"></block>\n</category>\n');
2<T&&(c+='\n<category name="'+U("Games.catMath",!0)+'">\n  <block type="math_number"></block>\n  <block type="math_arithmetic">\n    <value name="A">\n      <shadow type="math_number">\n        <field name="NUM">1</field>\n      </shadow>\n    </value>\n    <value name="B">\n      <shadow type="math_number">\n        <field name="NUM">1</field>\n      </shadow>\n    </value>\n  </block>\n',10===T&&(c+='\n  <block type="math_single">\n    <value name="NUM">\n      <shadow type="math_number">\n        <field name="NUM">9</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="math_trig">\n    <value name="NUM">\n      <shadow type="math_number">\n        <field name="NUM">45</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="math_constant"></block>\n  <block type="math_number_property">\n    <value name="NUMBER_TO_CHECK">\n      <shadow type="math_number">\n        <field name="NUM">0</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="math_round">\n    <value name="NUM">\n      <shadow type="math_number">\n        <field name="NUM">3.1</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="math_modulo">\n    <value name="DIVIDEND">\n      <shadow type="math_number">\n        <field name="NUM">64</field>\n      </shadow>\n    </value>\n    <value name="DIVISOR">\n      <shadow type="math_number">\n        <field name="NUM">10</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="math_constrain">\n    <value name="VALUE">\n      <shadow type="math_number">\n        <field name="NUM">50</field>\n      </shadow>\n    </value>\n    <value name="LOW">\n      <shadow type="math_number">\n        <field name="NUM">1</field>\n      </shadow>\n    </value>\n    <value name="HIGH">\n      <shadow type="math_number">\n        <field name="NUM">100</field>\n      </shadow>\n    </value>\n  </block>\n'),
c+="</category>");10===T&&(c+='\n<category name="'+U("Games.catLists",!0)+'">\n  <block type="lists_create_with">\n    <mutation items="0"></mutation>\n  </block>\n  <block type="lists_create_with"></block>\n  <block type="lists_repeat">\n    <value name="NUM">\n      <shadow type="math_number">\n        <field name="NUM">5</field>\n      </shadow>\n    </value>\n  </block>\n  <block type="lists_length"></block>\n  <block type="lists_isEmpty"></block>\n  <block type="lists_indexOf">\n    <value name="VALUE">\n      <block type="variables_get">\n        <field name="VAR">list</field>\n      </block>\n    </value>\n  </block>\n  <block type="lists_getIndex">\n    <value name="VALUE">\n      <block type="variables_get">\n        <field name="VAR">list</field>\n      </block>\n    </value>\n  </block>\n  <block type="lists_setIndex">\n    <value name="LIST">\n      <block type="variables_get">\n        <field name="VAR">list</field>\n      </block>\n    </value>\n  </block>\n  <block type="lists_getSublist">\n    <value name="LIST">\n      <block type="variables_get">\n        <field name="VAR">list</field>\n      </block>\n    </value>\n  </block>\n  <block type="lists_sort"></block>\n  <block type="lists_reverse"></block>\n</category>\n<sep></sep>\n<category name="'+
U("Games.catVariables",!0)+'" custom="VARIABLE"></category>\n<category name="'+U("Games.catProcedures",!0)+'" custom="PROCEDURE"></category>\n');b=b+('<xml id="toolbox" xmlns="https://developers.google.com/blockly/xml">'+c+'</xml>\n<div id="blockly"></div>\n\n\n<div id="dialogShadow" class="dialogAnimate"></div>\n<div id="dialogBorder"></div>\n<div id="dialog"></div>\n\n\n<div id="dialogDone" class="dialogHiddenContent">\n  <div class="large">')+(U("Games.congratulations",!0)+'</div>\n  <div id="dialogLinesText" class="large"></div>\n  <pre id="containerCode"></pre>\n  <div id="dialogDoneText" class="large"></div>\n  <div id="dialogDoneButtons" class="farSide farSideButtons">\n    <button class="addHideHandler">'+
El(k.DIALOG_CANCEL)+'</button>\n    <button id="doneOk" class="secondary">'+El(k.DIALOG_OK)+'</button>\n  </div>\n</div>\n\n\n<div id="dialogAbort" class="dialogHiddenContent">\n  ')+(U("Games.helpAbort",!0)+'\n  <div class="farSide farSideButtons">\n    <button class="addHideHandler">'+El(k.DIALOG_CANCEL)+'</button>\n    <button id="abortOk" class="secondary">'+El(k.DIALOG_OK)+'</button>\n  </div>\n</div>\n\n\n<div id="dialogStorage" class="dialogHiddenContent">\n  <div id="containerStorage"></div>\n  ')+
(Tn()+"\n</div>\n\n\n");c="";switch(T){case 1:c=U("Movie.helpText1",!0);break;case 2:c=U("Movie.helpText2a",!0)+'<div id="sampleHelp2" class="readonly"></div>'+U("Movie.helpText2b",!0);break;case 3:c=U("Movie.helpText3",!0);break;case 4:c=U("Movie.helpText4",!0);break;case 5:c=U("Movie.helpText5",!0)+'<br><br>\n<code class="ltr">y = ((time - 50) &divide; 5) ^ 2</code>\n<code class="rtl">&lrm;2 ^ (5 &divide; (50 - time)) = y&lrm;</code>';break;case 6:c=U("Movie.helpText6",!0);break;case 7:c=U("Movie.helpText7",
!0);break;case 8:c=U("Movie.helpText8",!0);break;case 9:c=U("Movie.helpText9",!0);break;case 10:c=U("Movie.helpText10",!0),sl||(c+="<br><br>"+U("Turtle.helpText10Reddit",!0))}c='\n<div id="helpLayer" class="dialogHiddenContent">\n  <div style="padding-bottom: 0.7ex">\n    '+U("Movie.helpLayer",!0)+"\n  </div>\n  "+Tn()+'\n</div>\n\n<div id="help" class="dialogHiddenContent">\n  <div style="padding-bottom: 0.7ex">\n    '+c+"\n  </div>\n  "+Tn()+"\n</div>\n";return b+c+"\n"};function Vn(a){var b=Wn,c=Xn;this.bd=42;this.Hh=328;this.ad=11.5;this.vd=12;this.xa=0;this.Xs=b;this.wu=c;this.$l=[];this.lr=[];this.$b=B("text",{style:"font-size: 10pt",x:this.Hh+9,y:16},a);rl&&this.$b.setAttribute("text-anchor","end");b="#ff3333 #f72f2f #ef2a2a #e72727 #df2222 #d71f1f #cf1a1a".split(" ");for(c=0;c<b.length;c++)this.lr[c]=B("rect",{style:"fill: "+b[c],x:this.bd,y:8+c,height:1},a);b=B("rect",{style:"opacity: 0",x:this.bd-this.vd,y:this.ad-this.vd,height:2*this.vd,width:this.Hh-this.bd+
2*this.vd,rx:this.vd,ry:this.vd},a);c=B("clipPath",{id:"knobClipPath"},a);this.Gt=B("rect",{height:16,width:16,y:3},c);this.tn=B("image",{height:63,width:84,"clip-path":"url(#knobClipPath)",y:-39},a);this.tn.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","common/icons.png");this.sn=B("rect",{style:"opacity: 0",height:2*this.vd,width:2*this.vd,y:this.ad-this.vd},a);this.Ja(0);c=B("clipPath",{id:"playClipPath"},a);B("rect",{height:21,width:21,x:4,y:1},c);this.Ri=B("image",{"clip-path":"url(#playClipPath)",
height:63,width:84,x:-16,y:-41},a);for(this.Ri.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","common/icons.png");a&&"svg"!==a.nodeName.toLowerCase();)a=a.parentElement;this.Y=a;Yn(this.sn,"mousedown",this,this.xq);Yn(this.sn,"touchstart",this,this.xq);Yn(b,"mousedown",this,this.iu);Yn(this.Y,"mouseup",null,Zn);Yn(this.Y,"touchend",null,Zn);Yn(this.Y,"mousemove",null,$n);Yn(this.Y,"touchmove",null,$n);Yn(this.Ri,"click",this,this.Pi);Yn(this.Ri,"touchend",this,this.Pi)}g=Vn.prototype;
g.xq=function(a){this.Qi&&this.Pi();if("touchstart"===a.type){if(1!==a.changedTouches.length)return;ao(a)}bo=this;co=eo(this,a).x;fo=Number(this.tn.getAttribute("x"))+this.bd+8+21;a.preventDefault()};function Zn(){bo=null}function $n(a){var b=bo;if(b){if("touchmove"===a.type){if(1!==a.changedTouches.length)return;ao(a)}a=eo(b,a).x-co+fo;b.Ja((a-b.bd)/(b.Hh-b.bd))}}
g.iu=function(a){this.Qi&&this.Pi();if("touchstart"===a.type){if(1!==a.changedTouches.length)return;ao(a)}a=eo(this,a).x;go(this,(a-this.bd)/(this.Hh-this.bd))};
g.Pi=function(a){var b;(b=!a)||("click"===a.type&&"touchend"===fn&&gn+2E3>Date.now()?(a.preventDefault(),a.stopPropagation(),a=!0):fn===a.type&&gn+400>Date.now()?(a.preventDefault(),a.stopPropagation(),a=!0):(fn=a.type,gn=Date.now(),a=!1),b=!a);b&&(this.Qi?(this.Ri.setAttribute("x",-16),clearTimeout(this.Qi),this.Qi=0,this.wu()):(this.Ri.setAttribute("x",5),1<=this.Oa()&&this.Ja(0),ho(this)))};
function ho(a){var b=a.Oa();if(1<=b)a.Pi();else{a.Ja(b+.01);b=Date.now();var c=Math.max(1,1E3/a.Iu-(b-a.It-a.Ht));a.Qi=setTimeout(function(){return ho(a)},c);a.It=b;a.Ht=c}}g.Oa=function(){return this.xa};function go(a,b){function c(f){return function(){a.Ja(f*(b-d)/9+d)}}a.$l.forEach(clearTimeout);a.$l=[];for(var d=a.Oa(),e=0;10>e;e++)a.$l.push(setTimeout(c(e),200*e/10))}
g.Ja=function(a){this.xa=jd(a,0,1);a=this.bd+(this.Hh-this.bd)*this.xa;this.Gt.setAttribute("x",a-8);this.tn.setAttribute("x",a-63-8);this.sn.setAttribute("x",a-this.vd);for(var b=ba(this.lr),c=b.next();!c.done;c=b.next())c.value.setAttribute("width",a-this.bd);for(;this.$b.firstChild;)this.$b.removeChild(this.$b.firstChild);a=Math.round(100*this.xa);this.$b.appendChild(document.createTextNode("time = "+a));this.Xs(a)};
function eo(a,b){var c=a.Y.createSVGPoint();c.x=b.clientX;c.y=b.clientY;a=a.Y.getScreenCTM().inverse();return c.matrixTransform(a)}function Yn(a,b,c,d){a.addEventListener(b,function(e){d.apply(c,arguments)},!1)}function ao(a){var b=a.changedTouches[0];a.clientX=b.clientX;a.clientY=b.clientY}var bo=null,co=0,fo=0;var Cl="movie",io=1===T?0:100,jo=Array(io),ko=!1,lo=0,mo,X;function no(){S("coordinates").style.display="block"}function oo(){S("coordinates").style.display="none"}
function po(a){var b=a.clientX;a=a.clientY;rl&&(b-=window.innerWidth);var c=S("visualization");c=Ka(c);c=ya(c,La());b+=rl?c.x:-c.x;a-=c.y;b/=4;a=100-a/4;rl&&(b+=100);10===T?(b=Math.round(b),a=Math.round(a)):(b=10*Math.round(b/10),a=10*Math.round(a/10));0<=b&&100>=b&&0<=a&&100>=a?(S("x").textContent="x = "+b,S("y").textContent="y = "+a):oo()}
function qo(){var a=S("help"),b=S("helpButton");if(2===T){var c='<xml><block type="movie_time" x="15" y="10"></block></xml>',d=S("sampleHelp2");d.firstChild||(d=Ak(d,{rtl:rl,readOnly:!0}),"string"!==typeof c&&(c=c.join("")),ud(td(c),d))}W.wh(a,b,!0,!0,{width:"50%",left:"25%",top:"5em"},W.Ro);W.Qo()}
function ro(a){var b=S("visualization");X.strokeStyle="#000";X.fillStyle="#000";var c=document.createElement("canvas");c.id="answer"+a;c.width=400;c.height=400;c.style.display="none";b.appendChild(c);X.canvas.width=X.canvas.width;switch(T){case 1:Y("#ff0000");so(50,70,10);Y("#3333ff");to(50,40,20,40);Y("#000000");Z(40,50,20,70,5);Z(60,50,80,70,5);break;case 2:Y("#ff0000");so(50,70,10);Y("#3333ff");to(50,40,20,40);Y("#000000");Z(40,50,20,70,5);Z(60,50,80,a,5);break;case 3:Y("#ff0000");so(50,70,10);
Y("#3333ff");to(50,40,20,40);Y("#000000");Z(40,50,20,100-a,5);Z(60,50,80,a,5);break;case 4:Y("#ff0000");so(50,70,10);Y("#3333ff");to(50,40,20,40);Y("#000000");Z(40,50,20,100-a,5);Z(60,50,80,a,5);Z(40,20,a,0,5);Z(60,20,100-a,0,5);break;case 5:Y("#ff0000");so(50,70,10);Y("#3333ff");to(50,40,20,40);Y("#000000");Z(40,50,20,100-a,5);Z(60,50,80,Math.pow((a-50)/5,2),5);Z(40,20,a,0,5);Z(60,20,100-a,0,5);break;case 6:Y("#ff0000");so(50,70,10);Y("#3333ff");to(50,40,20,40);Y("#000000");Z(40,50,20,100-a,5);Z(60,
50,80,Math.pow((a-50)/5,2),5);Z(40,20,a,0,5);Z(60,20,100-a,0,5);Y("#ff0000");so(20,100-a,5);so(80,Math.pow((a-50)/5,2),5);break;case 7:Y("#ff0000");50>a?so(50,70,10):so(50,80,20);Y("#3333ff");to(50,40,20,40);Y("#000000");Z(40,50,20,100-a,5);Z(60,50,80,Math.pow((a-50)/5,2),5);Z(40,20,a,0,5);Z(60,20,100-a,0,5);Y("#ff0000");so(20,100-a,5);so(80,Math.pow((a-50)/5,2),5);break;case 8:Y("#ff0000");50>a?so(50,70,10):so(50,80,20);Y("#3333ff");to(50,40,20,40);Y("#000000");Z(40,50,20,100-a,5);Z(60,50,80,Math.pow((a-
50)/5,2),5);50>a?(Z(40,20,a,0,5),Z(60,20,100-a,0,5)):(Z(40,20,100-a,0,5),Z(60,20,a,0,5));Y("#ff0000");so(20,100-a,5);so(80,Math.pow((a-50)/5,2),5);break;case 9:Y("#00ff00"),so(50,a/2,a/2),Y("#ff0000"),50>a?so(50,70,10):so(50,80,20),Y("#3333ff"),to(50,40,20,40),Y("#000000"),Z(40,50,20,100-a,5),Z(60,50,80,Math.pow((a-50)/5,2),5),50>a?(Z(40,20,a,0,5),Z(60,20,100-a,0,5)):(Z(40,20,100-a,0,5),Z(60,20,a,0,5)),Y("#ff0000"),so(20,100-a,5),so(80,Math.pow((a-50)/5,2),5)}a=c.getContext("2d");a.globalCompositeOperation=
"copy";a.drawImage(X.canvas,0,0)}function uo(){var a=S("hatching").getContext("2d");a.strokeStyle="#fff";a.lineWidth=1;for(var b=-400;400>b;b+=4)a.beginPath(),a.moveTo(b,-b),a.lineTo(b+400,-b+400),a.stroke()}
function vo(){var a=S("axies").getContext("2d");a.lineWidth=1;a.strokeStyle="#bba";a.fillStyle="#bba";a.font="normal 14px sans-serif";for(var b=1,c=.1;.9>c;c+=.1)a.beginPath(),a.moveTo(400*c,400),a.lineTo(400*c,400-9*b),a.stroke(),a.beginPath(),a.moveTo(0,400*c),a.lineTo(9*b,400*c),a.stroke(),2===b&&(a.fillText(Math.round(100*c),400*c+2,396),a.fillText(Math.round(100-100*c),3,400*c-2)),b=1===b?2:1}
function wo(a){X.canvas.width=X.canvas.width;X.strokeStyle="#000";X.fillStyle="#000";X.globalAlpha=10===T?1:.9;for(var b=!0,c=0;b&&1E4>c;c++)try{b=a.step()}catch(d){alert(d),b=!1}}function xo(a){a&&a.Pk||oi.Ra()||(a=ni(),hn!==a&&(jo=Array(io),hn=a,Wm=Ym(),Wn()))}
function Wn(a){if("Interpreter"in window){"number"===typeof a&&(lo=a);mo.beginPath();mo.rect(0,0,mo.canvas.width,mo.canvas.height);mo.fillStyle="#fff";mo.fill();if(a=S("answer"+lo))mo.globalAlpha=.2,mo.drawImage(a,0,0),mo.globalAlpha=1;a=S("hatching");mo.drawImage(a,0,0);a=hn;try{var b=new Interpreter(a,yo)}catch(f){console.error(f)}b?wo(b):X.canvas.width=X.canvas.width;mo.drawImage(X.canvas,0,0);mo.drawImage(S("axies"),0,0);if(b=S("answer"+lo)){b=b.getContext("2d").getImageData(0,0,400,400);a=X.getImageData(0,
0,400,400);for(var c=Math.min(a.data.length,b.data.length),d=0,e=3;e<c;e+=4)96<Math.abs(a.data[e]-b.data[e])&&d++;jo[lo]=d}1===T&&setTimeout(Xn,1E3)}else setTimeout(Wn,99,a)}function yo(a,b){function c(e){a.setProperty(b,e,a.createNativeFunction(d,!1))}var d=function(e,f,h){so(e,f,h)};c("circle");d=function(e,f,h,l){to(e,f,h,l)};c("rect");d=function(e,f,h,l,m){Z(e,f,h,l,m)};c("line");d=function(e){Y(e)};c("penColour");d=function(){return lo};c("time")}
function so(a,b,c){a*=4;b=4*(100-b);c=Math.max(4*c,0);X.beginPath();X.arc(a,b,c,0,2*Math.PI,!1);X.fill()}function to(a,b,c,d){a*=4;b=4*(100-b);c=Math.max(4*c,0);d=Math.max(4*d,0);X.beginPath();X.rect(a-c/2,b-d/2,c,d);X.fill()}function Z(a,b,c,d,e){a*=4;b=4*(100-b);c*=4;d=4*(100-d);e*=4;X.beginPath();X.moveTo(a,b);X.lineTo(c,d);X.lineWidth=Math.max(e,0);X.stroke()}function Y(a){X.strokeStyle=a;X.fillStyle=a}
function Xn(){1<T&&lo!==io||!zo()||ko||(ko=!0,window.localStorage&&(window.localStorage[Cl+T]=Wm),10>T&&(oi.wd.play("win",.5),mn()))}function Ao(){var a=ke(oi,!1).length,b=ni();if(4>a||!b.includes("time()"))alert(U("submitDisabled",!1));else{a=new Interpreter(b,yo);b=lo;try{lo=Math.round(io/2),wo(a)}finally{lo=b}a=S("thumbnail");b=a.getContext("2d");b.globalCompositeOperation="copy";b.drawImage(X.canvas,0,0,200,200);a=a.toDataURL("image/png");S("galleryThumb").value=a;on()}}
function zo(){if(10===T)return 1<ke(oi,!1).length;for(var a=0;a<=io;a++)if(50!==a){if(void 0===jo[a])return!1;if(100<jo[a])return console.log("Pixel errors (frame "+a+"): "+jo[a]),!1}if(9===T){a=ke(oi,!0);a=ba(a);for(var b=a.next();!b.done;b=a.next())if(b=b.value,"movie_circle"===b.type){if("math_arithmetic"!==mi(b,"RADIUS").type)return a=S("helpLayer"),W.wh(a,null,!1,!0,{width:"30%",left:"35%",top:"12em"},W.Ro),W.Qo(),!1;break}}return!0}
(function(a){function b(){window.BlocklyGamesMsg?(window.BlocklyMsg&&(k=window.BlocklyMsg),a()):setTimeout(b,99)}window.addEventListener("load",b)})(function(){function a(){b.style.top=Math.max(10,c.offsetTop-window.pageYOffset)+"px";b.style.left=rl?"10px":"420px";b.style.width=window.innerWidth-440+"px"}Sn();document.body.innerHTML=Un();Xm();var b=S("blockly"),c=S("visualization");window.addEventListener("scroll",function(){a(null);sj(oi)});window.addEventListener("resize",a);a(null);10>T&&(Ch=3,
Ah="#ff0000 #ffcc33 #ffff00 #009900 #3333ff #cc33cc #ffffff #999999 #000000".split(" "));cn();ui("circle,rect,line,penColour,time");S("submitButton")&&Dl("submitButton",Ao);an();mo=S("display").getContext("2d");mo.globalCompositeOperation="source-over";X=S("scratch").getContext("2d");uo();ro(0);setTimeout(function(){for(var e=1;e<=io;e++)ro(e)},1);vo();xo();xe(oi,xo);Wn();var d=S("scrubber");new Vn(d);1===T&&(d.style.display="none");oi.wd.load(["movie/win.mp3","movie/win.ogg"],"win");kn();ln();Dl("helpButton",
qo);2>location.hash.length&&!Bl(T)&&setTimeout(qo,1E3);c.addEventListener("mouseover",no);c.addEventListener("mouseout",oo);c.addEventListener("mousemove",po)});
